<div>
  <!-- #region NO JAM -->
  <div *ngIf="!jam" class="warning p-5 text-center m-2">
    <p>You haven't been assigned to a Site yet.</p>
    <p>Select a site from the list below to proceed.</p>

    <div class="row">
      <div class="col-3 border">
        <h2>Regions</h2>
        <div *ngFor="let region of regions" class="p-2" (click)="selectRegion(region)">
          <div class="card p-2 shadow pointer">
            <h3>{{ region.name }}</h3>
          </div>
        </div>
      </div>

      <div *ngIf="selectedRegion" class="col-9">
        <h2>Sites of {{ selectedRegion!.name }}</h2>
        <div class="row">
          <div class="col-3" *ngFor="let site of filteredSites">
            <div class="card p-2 shadow minh-2">
              <h3 class="fs-4">{{ site.name }}</h3>
              <p>
                {{ site.country.name }} - {{ site.city }}<br>
                Modality: {{ site.modality }}<br>
                <span *ngIf="site.email">{{ site.email }}<br></span>
                <span *ngIf="site.phoneNumber">{{ site.phoneNumber }}<br></span>
                <span *ngIf="site.open">Status: Open for registration</span>
              </p>
              <span *ngIf="site.open" style="flex-grow: 1;"></span>
              <button *ngIf="site.open" class="btn btn-black align-bottom" (click)="joinSite(site)">Join site</button>

              <p *ngIf="!site.open">Status: Closed</p>
              <p *ngIf="!site.open">Contact the site's organizers for more information on how to join this site</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- #endregion -->

  <!-- #region NO JAMMER DATA -->

  <!-- <div *ngIf="jam && site && !jammerData" class="row w-100 p-5"> -->
  <div *ngIf="false" class="row w-100 p-5">
    <div class="bg-white shadow p-4 rounded">
      <h1 class="text-center">Jammer Information</h1>
      <div class="warning text-center p-4">
        <p>
          In order to proceed to your dashboard, we require you to fill this short form.<br>
          This information will help GameJam+ provide you a better service in the future.
        </p>
      </div>

      <form (submit)="saveJammerData()" [formGroup]="jammerDataForm" class="m-2">
        <div class="row">
          <div class="form-group col-sm-6">
            <label for="name" class="required">What's your name?</label>
            <input type="text" class="form-control" formControlName="name">
          </div>

          <div class="form-group col-sm-6">
            <label for="name" class="required">What country are you from?</label>
            <select class="form-control formList" id="countries" formControlName="countryOfOrigin">
              <option value="" disabled selected hidden>Country of Origin</option>
              <option *ngFor="let country of countries" [ngValue]="country">{{ country.name }}</option>
            </select>
          </div>

          <div class="form-group col-sm-6">
            <label for="name" class="required">In which country do you live?</label>
            <select class="form-control formList" id="countries" formControlName="countryOfResidence">
              <option value="" disabled selected hidden>Country of Residence</option>
              <option *ngFor="let country of countries" [ngValue]="country">{{ country.name }}</option>
            </select>
          </div>

          <div class="form-group col-sm-6">
            <label for="name" class="required">In which city do you live?</label>
            <input type="text" class="form-control" formControlName="city">
          </div>

          <div class="form-group col-sm-6">
            <label for="name" class="required">What's your contact email?</label>
            <input type="text" class="form-control" formControlName="email">
          </div>

          <div class="form-group col-sm-6">
            <label for="name" class="required">What's your discord tag?</label>
            <input type="text" class="form-control" formControlName="discord">
          </div>

          <div class="form-group col-sm-6"> <!-- GENDER -->
            <label for="name" class="required">What's the gender you identify with?</label>
            <div class="border border-secondary rounded p-2">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="genderM" value="Male" formControlName="gender">
                <label class="form-check-label" for="gender1">
                  Male
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="genderF" value="Female" formControlName="gender">
                <label class="form-check-label" for="gender1">
                  Female
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="genderO" value="Other" formControlName="gender">
                <label class="form-check-label" for="gender1">
                  Other
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="genderN" value="NoAnswer" formControlName="gender">
                <label class="form-check-label" for="gender1">
                  Prefer not to answer
                </label>
              </div>
            </div>
          </div>

          <div class="form-group col-sm-6"> <!-- PRONOUNS -->
            <label for="industry">What pronouns do you use</label>
            <div class="border border-secondary rounded p-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="pronoun1" formControlName="pronounH">
                <label class="form-check-label" for="pronoun1">
                  He/Him
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="pronoun2" formControlName="pronounS">
                <label class="form-check-label" for="pronoun2">
                  She/Her
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="pronoun3" formControlName="pronounT">
                <label class="form-check-label" for="pronoun3">
                  They/Them
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="pronoun4" formControlName="pronounO">
                <label class="form-check-label" for="pronoun4">
                  Other / Prefer not to answer
                </label>
              </div>
            </div>
          </div>

          <div class="form-group col-sm-6"> <!-- DEGREE -->
            <label for="name">Select your highest education degree to date</label>
            <div class="border border-secondary rounded p-2">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="degree" id="degree1" value="Highschool Incomplete" formControlName="degree">
                <label class="form-check-label" for="degree1">
                  I'm in Highschool
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="degree" id="degree2" value="Highschool Complete" formControlName="degree">
                <label class="form-check-label" for="degree2">
                  I have my Highschool diploma
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="degree" id="degree3" value="Technical Degree" formControlName="degree">
                <label class="form-check-label" for="degree3">
                  I have a Technical Degree
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="degree" id="degree4" value="Undergraduate" formControlName="degree">
                <label class="form-check-label" for="degree4">
                  I am in College
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="degree" id="degree5" value="Bachelor or Licenciate" formControlName="degree">
                <label class="form-check-label" for="degree5">
                  I have a Bachelor's or a Licenciate degree
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="degree" id="degree6" value="Postgraduate" formControlName="degree">
                <label class="form-check-label" for="degree6">
                  I have a Master's or Doctorade
                </label>
              </div>
            </div>
          </div>

          <div class="form-group col-sm-6"> <!-- INDUSTRY -->
            <label for="industry">Check all that apply</label>
            <div class="border border-secondary rounded p-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="He/Him" id="industry1" formControlName="industryFree">
                <label class="form-check-label" for="industry1">
                  I work at the games industry as a freelancer
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="He/Him" id="industry2" formControlName="industryStudio">
                <label class="form-check-label" for="industry2">
                  I work at the games industry in a studio
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="He/Him" id="industry3" formControlName="industryOwn">
                <label class="form-check-label" for="industry3">
                  I own a game studio
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="He/Him" id="industry4" formControlName="industryNone">
                <label class="form-check-label" for="industry4">
                  I haven't worked in the games industry yet, but I'm looking forward to it
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="He/Him" id="industry5" formControlName="industryPast">
                <label class="form-check-label" for="industry5">
                  I used to work in the games industry, but I don't anymore
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="He/Him" id="industry6" formControlName="industryNo">
                <label class="form-check-label" for="industry6">
                  I'm not interested in working in the games industry, I jam for fun
                </label>
              </div>
            </div>
          </div>

          <div class="form-group col-sm-6"> <!-- STUDIES -->
            <label for="industry">Check all that apply</label>
            <div class="border border-secondary rounded p-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study1" formControlName="studyNone">
                <label class="form-check-label" for="study1">
                  I haven't studied anything related to game development
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study2" formControlName="studyFree">
                <label class="form-check-label" for="study2">
                  I have taken free courses or learned game development on my own
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study3" formControlName="studyTechnical">
                <label class="form-check-label" for="study3">
                  I have taken a technical course or degree in game development from an institution
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study4" formControlName="studyDegree">
                <label class="form-check-label" for="study4">
                  I have taken an academic degree in game development (Diploma, Bachelor or Licenciate)
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study4" formControlName="studyPostgraduate">
                <label class="form-check-label" for="study4">
                  I have taken a Postgraduate degree in game development (Masters or Doctorade)
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study5" formControlName="studyProgramming">
                <label class="form-check-label" for="study5">
                  I have taken a degree in computer science, programming, or equivalent
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study6" formControlName="studyDesign">
                <label class="form-check-label" for="study6">
                  I have taken a degree in Design, Graphic Design, Product Design, or equivalent
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study7" formControlName="studyArts">
                <label class="form-check-label" for="study7">
                  I have taken a degree in Fine Arts or equivalent
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study8" formControlName="studyMusic">
                <label class="form-check-label" for="study8">
                  I have taken a degree in Music Production, Composition, Sound Engineering, or equivalent
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study9" formControlName="studyNarrative">
                <label class="form-check-label" for="study9">
                  I have taken a degre in Narrative, Communication, Letters, or equivalent
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study10" formControlName="studyBiz">
                <label class="form-check-label" for="study10">
                  I have taken a degree in Business, Management, or equivalent
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="study11" formControlName="studyOther">
                <label class="form-check-label" for="study11">
                  I have taken other studies related to the games industry
                </label>
              </div>
            </div>
          </div>

          <div class="form-group col-sm-6"> <!-- JAMS -->
            <label for="industry">Check all that apply</label>
            <div class="border border-secondary rounded p-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="jam1" formControlName="jamFirst">
                <label class="form-check-label" for="jam1">
                  This is my first Game Jam
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="jam2" formControlName="jamFirstGJP">
                <label class="form-check-label" for="jam2">
                  This is my first Game Jam Plus
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="jam3" formControlName="jamPIIH">
                <label class="form-check-label" for="jam3">
                  I have participated in other game jams from Indie Hero
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="jam4" formControlName="jamOther">
                <label class="form-check-label" for="jam4">
                  I have participated in other game jams in general
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="jam5" formControlName="jamGJP2">
                <label class="form-check-label" for="jam5">
                  This is my 2nd Game Jam Plus
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="jam6" formControlName="jamGJP3">
                <label class="form-check-label" for="jam6">
                  This is my 3rd or more Game Jam Plus
                </label>
              </div>
            </div>
          </div>

          <div class="form-group col-sm-6"> <!-- TERMS AND CONDITIONS -->
            <label for="terms" class="required">
              To participate in this edition, I confirm that I read, understood and agreed with the <a href="" target="_blank">Terms and Conditions</a> of the event.
            </label>
            <div class="border border-secondary rounded p-2">

              <div [ngClass]="{'form-check': true, 'error': !termsOfConduct}">
                <input class="form-check-input" type="checkbox" id="terms" formControlName="termsOfConduct">
                <label class="form-check-label" for="terms">
                  I understand that I have to treat other participants, organizers, mentors and judges with respect and courtesy
                </label>
              </div>

              <div [ngClass]="{'form-check': true, 'error': !termsOfImage}">
                <input class="form-check-input" type="checkbox" id="terms" formControlName="termsOfImage">
                <label class="form-check-label" for="terms">
                  I understand that my image and likeness will be recorded and could be used by Game Jam Plus for communication and marketing purposes
                </label>
              </div>

              <div [ngClass]="{'form-check': true, 'error': !termsOfIP}">
                <input class="form-check-input" type="checkbox" id="terms" formControlName="termsOfIP">
                <label class="form-check-label" for="terms">
                  I understand that my game, videos, and assets produced and submitted to this event will be shared by Game Jam Plus for communication, evaluation, and marketing purposes
                </label>
              </div>
            </div>
          </div>

          <div class="error p-3 d-block text-center" *ngIf="!jammerDataFormValid">
            Please fill all the required fields to proceed
          </div>

          <button type="submit" class="navbutton navL1 flex-center my-3 col-sm-12">SAVE CHANGES</button>
        </div>
      </form>
    </div>
  </div>

  <!-- #endregion -->

  <!--<div *ngIf="jam && site && jammerData" class="row w-100 p-3">-->
  <div *ngIf="jam && site" class="row w-100 p-3">
    <div class="p-3 mb-2 darkbg d-block text-white text-center timer">{{ deltaTime }}</div>

    <!-- #region NAV BAR -->
    <div id="localHomeNavBar" class="col-2 container-fluid">
      <div class="navbutton navL1" data-toggle="collapse" data-target="#homeMenu">Home</div>
      <ul #homeMenu id="homeMenu" class="collapse">
        <li class="navbutton navL2" (click)="page = 'site'">Site Info</li>
        <li class="navbutton navL2" (click)="page = 'jam'">Jam Info</li>
        <li class="navbutton navL2" (click)="page = 'games'">Games from Site</li>
        <!--<li class="navbutton navL2" (click)="page = 'news'">Notifications</li>-->
      </ul>

      <div class="navbutton navL1" data-toggle="collapse" data-target="#venueMenu">My Jam</div>
      <ul #venueMenu id="venueMenu" class="collapse">
        <li class="navbutton navL2" (click)="page = 'team'">My Team</li>
        <li class="navbutton navL2" (click)="page = 'submission'">My Submission</li>
        <li class="navbutton navL2" (click)="page = 'feedback'">Feedback</li>
      </ul>
    </div>
    <!-- #endregion -->

    <div id="jammerHomeContent" class="col-8">
      <!-- #region HOME -->
      <div *ngIf="page == 'site' && site" class="container container-lg p-3">
        <h1 class="text-center">{{ site.name.toUpperCase() }} [{{ site.language }}]</h1>
        <div class="row">

          <div class="col-md-4 p-2">
            <div class="pseudocard inverted m-1 py-2 minh-3">
              <div class="row align-items-start">
                <fa-icon [icon]="faLandmark" class="fa-2x col-4 text-right maxh-05"></fa-icon>
                <h2 class="col-8 maxh-05">Location</h2>
                <hr>
              </div>

              <div class="row align-items-end p-2">
                <span class="col-4 text-right heavy mb-1">Country</span> <span class="col-8">{{ site.country.code }} - {{ site.country.name }}</span>
                <span class="col-4 text-right heavy mb-1">City</span> <span class="col-8">{{ site.city }}</span>
                <span class="col-4 text-right heavy mb-1" *ngIf="site.address">Address</span> <span class="col-8" *ngIf="site.address">{{ site.address }}</span>
                <span class="col-4 text-right heavy mb-1" *ngIf="site.server">Server</span> <a [href]="formatURL(site.server)" target="_blank" class="col-8" *ngIf="site.server">{{ site.server }}</a>
              </div>
            </div>
          </div>

          <div class="col-md-4 p-2">
            <div class="pseudocard inverted m-1 py-2 minh-3">
              <div class="row align-items-start">
                <fa-icon [icon]="faPeopleRoof" class="fa-2x col-4 text-right maxh-05"></fa-icon>
                <h2 class="col-8 maxh-05">Format</h2>
                <hr>
              </div>

              <div class="row align-items-end p-2">
                <span class="col-4 text-right heavy mb-1">Modality</span> <span class="col-8">{{ site.modality }}</span>
                <span class="col-4 text-right heavy mb-1">Status</span> <span class="col-8">{{ site.open ? 'Open' : 'Closed' }}</span>
                <span class="col-4 text-right heavy mb-1">Start</span> <span class="col-8">{{ site.startTime ? convertTo12h(site.startTime) : '' }}</span>
                <span class="col-4 text-right heavy mb-1">Language</span> <span class="col-8">{{ site.language }}</span>
              </div>
            </div>
          </div>

          <div class="col-md-4 p-2">
            <div class="pseudocard inverted m-1 py-2 minh-3">
              <div class="row align-items-start">
                <fa-icon [icon]="faEnvelope" class="fa-2x col-4 text-right maxh-05"></fa-icon>
                <h2 class="col-8 maxh-05">Contact Info</h2>
                <hr>
              </div>

              <div class="row align-items-end p-2">
                <span class="col-4 text-right heavy mb-1 align-bottom" *ngIf="site.email">Email</span> <a *ngIf="site.email" [href]="'mailto:' + site.email" class="col-8">{{ site.email }}</a>
                <span class="col-4 text-right heavy mb-1 align-bottom" *ngIf="site.phoneNumber">Phone</span> <span *ngIf="site.phoneNumber" class="col-8">{{ site.phoneNumber }}</span>
                <span class="col-4 text-right heavy mb-1 align-bottom" *ngIf="site.website">Website</span> <a *ngIf="site.website" target="_blank" [href]="formatURL(site.website)" class="col-8">{{ site.website }}</a>
                <fa-icon [icon]="faInstagram" class="col-4 text-right" *ngIf="site.instagram"></fa-icon><a *ngIf="site.instagram" [href]="formatURL(site.instagram)" class="col-8">{{ site.instagram }}</a>
                <fa-icon [icon]="faWhatsapp" class="col-4 text-right" *ngIf="site.whatsapp"></fa-icon><a *ngIf="site.whatsapp" [href]="formatURL(site.whatsapp)" class="col-8">{{ site.whatsapp }}</a>
                <fa-icon [icon]="faDiscord" class="col-4 text-right" *ngIf="site.discord"></fa-icon><a *ngIf="site.discord" [href]="formatURL(site.discord)" class="col-8">{{ site.discord }}</a>
              </div>
            </div>
          </div>

        </div>

        <hr class="my-4">

        <div class="row m-2 p-2 bg-light rounded border border-secondary">
          <div [innerHTML]="site.description"></div>
        </div>

        <div class="row m-2 p-2 warning">
          <h3 class="col-12 text-center">Danger Zone</h3>
          <button class="btn btn-danger m-2" (click)="exitSite()">Exit Site</button>
        </div>
      </div>

      <div *ngIf="page == 'jam' && jam" class="container container-lg p-3">
        <div *ngIf="jam && site">
          <h1 class="text-center">{{jam.title}}</h1>

          <hr class="my-4">

          <div class="info d-block text-center p-5 mb-5" *ngIf="!jam.public">
            <p>Themes and categories are secret.</p>
            <p>Global Organizers will publish the themes and categories soon, check again later.</p>
          </div>

          <!-- THEMES -->
          <div class="row" *ngIf="jam.public">
            <h2 class="col-12 text-center">Themes</h2>
            <div class="col-md-4 p-2" *ngFor="let theme of jam.themes">
              <div class="card p-2 minh-2">
                <h3 *ngIf="site.language == 'PT'" class="text-center">{{ theme.titlePT }}</h3>
                <h3 *ngIf="site.language == 'ES'" class="text-center">{{ theme.titleES }}</h3>
                <h3 *ngIf="site.language == 'EN'" class="text-center">{{ theme.titleEN }}</h3>

                <p *ngIf="site.language == 'PT'" class="maxh-1 scroll p-2">{{ theme.descriptionPT }}</p>
                <p *ngIf="site.language == 'ES'" class="maxh-1 scroll p-2">{{ theme.descriptionES }}</p>
                <p *ngIf="site.language == 'EN'" class="maxh-1 scroll p-2">{{ theme.descriptionEN }}</p>

                <span style="flex-grow: 1;"></span>

                <a *ngIf="site.language == 'PT'" href="{{ theme.manualPT }}" class="btn btn-black align-bottom">Manual</a>
                <a *ngIf="site.language == 'ES'" href="{{ theme.manualES }}" class="btn btn-black align-bottom">Manual</a>
                <a *ngIf="site.language == 'EN'" href="{{ theme.manualEN }}" class="btn btn-black align-bottom">Manual</a>
              </div>
            </div>
          </div>

          <hr *ngIf="jam.public" class="my-4">

          <!-- CATEGORIES -->
          <div class="row" *ngIf="jam.public">
            <h2 class="col-12 text-center">Categories</h2>
            <div class="col-md-4 p-2" *ngFor="let category of jam.categories">
              <div class="card p-2 minh-2">
                <h3 *ngIf="site.language == 'PT'" class="text-center">{{ category.titlePT }}</h3>
                <h3 *ngIf="site.language == 'ES'" class="text-center">{{ category.titleES }}</h3>
                <h3 *ngIf="site.language == 'EN'" class="text-center">{{ category.titleEN }}</h3>

                <p *ngIf="site.language == 'PT'" class="maxh-1 scroll p-2">{{ category.descriptionPT }}</p>
                <p *ngIf="site.language == 'ES'" class="maxh-1 scroll p-2">{{ category.descriptionES }}</p>
                <p *ngIf="site.language == 'EN'" class="maxh-1 scroll p-2">{{ category.descriptionEN }}</p>

                <span style="flex-grow: 1;"></span>

                <a *ngIf="site.language == 'PT'" href="{{ category.manualPT }}" class="btn btn-black align-bottom">Manual</a>
                <a *ngIf="site.language == 'ES'" href="{{ category.manualES }}" class="btn btn-black align-bottom">Manual</a>
                <a *ngIf="site.language == 'EN'" href="{{ category.manualEN }}" class="btn btn-black align-bottom">Manual</a>
              </div>
            </div>
          </div>

          <hr class="my-4">

          <!-- STAGES -->
          <div class="row pb-3 align-items-end">
            <h2 class="col-12 text-center">Stages<a matTooltip="All stages start at 00:00:00 and end at 11:59:59 in Brazilian Time (GMT-3)." class="tooltip-trigger">?</a></h2>
            <div class="col-3 p-2" *ngFor="let stage of jam.stages">
              <div [ngClass]="getStageClass(stage)">
                <h3 class="text-center">{{ stage.stageName }}</h3>
                <p class="text-center">{{ formatDate(stage.startDate) }} - {{ formatDate(stage.endDate) }}</p>
                <p class="text-center" *ngIf="isCurrentStage(stage)">Current Stage</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="page == 'games'" class="container container-lg p-3">
        <h1>Games of this site</h1>
        <p>This section is still under construction</p>
      </div>

      <!-- #endregion -->

      <!-- #region JAM -->
      <div *ngIf="page == 'team'" class="container container-lg p-3">
        <div *ngIf="!team" class="warning text-center p-2">
          <p>You don't have a team yet.</p>
          <p>Create a new team or join an existing team with the secret code.</p>
          <button class="btn btn-primary m-2" (click)="createTeam()">Create a new team</button>
          <button class="btn btn-primary m-2" (click)="joinTeam()">Join an existing team</button>
        </div>

        <div *ngIf="team">
          <h1 class="text-center">My Team: {{ team.teamName.toUpperCase() }}</h1>

          <div class="row mt-3">
            <div class="col-8">
              <h3 class="text-center">Team Name:</h3>
              <div class="input-group input-group-lg">
                <input type="text" class="form-control d-block" [(ngModel)]="team.teamName">
                <div class="input-group-append">
                  <button class="navbutton navL1 text-center" (click)="saveTeam()">Update Team Name</button>
                </div>
              </div>
            </div>
            <div class="col-4">
              <h3 class="text-center">Join Code:</h3>
              <p class="text-center">
                {{ team.teamCode }}
                <a matTooltip="Share this code with your fellow jammers to invite them to your team." class="tooltip-trigger">?</a>
              </p>
            </div>
          </div>


          <h2 class="text-center mt-3">Team Members</h2>
          <hr>
          <div class="row">
            <div class="col-3 m-2" *ngFor="let jammer of team.jammers">
              <div class="card text-center">
                <h3>{{ jammer.name }}</h3>
                <p><fa-icon [icon]="faEnvelope" class="mr-2"></fa-icon><a [href]="'mailto:' + jammer.email">{{ jammer.email }}</a></p>
                <p><fa-icon [icon]="faDiscord" class="mr-2"></fa-icon> {{ jammer.discordUsername ? jammer.discordUsername : 'None' }}</p>
                <p *ngIf="jammer.role && jammer.role === 'owner'">Team Leader</p>
              </div>
            </div>
          </div>

          <div class="row m-2 p-2 warning">
            <h3 class="col-12 text-center">Danger Zone</h3>
            <button class="btn btn-danger m-2" (click)="exitTeam()">Exit Team</button>
          </div>
        </div>
      </div>

      <div *ngIf="page == 'submission'" class="container container-lg p-3">
        <h1>My Submission</h1>
        <p>This section is still under construction</p>
      </div>

      <div *ngIf="page == 'feedback'" class="container container-lg p-3">
        <h1>Feedback from the Judges</h1>
        <p>This section is still under construction</p>
      </div>

      <!-- #endregion -->
    </div>

    <!-- #region SIDEBAR -->
    <div id="localHomeSideBar" class="col-2">
      <div class="p-2 mb-2">
        <div class="card text-center p-2 shadow">
          <fa-icon [icon]="faCoffee" class="fa-3x"></fa-icon>
          <p>Welcome to the new and improved GJ+ platform.</p>
          <p><a href="mailto:support@gamejamplus.com">support&#64;gamejamplus.com</a></p>
        </div>
      </div>

      <div class="p-2 mb-2">
        <div class="card text-center p-2 shadow">
          <fa-icon [icon]="faJar" class="fa-3x"></fa-icon>
          <span><b>Venues:</b> {{ jamData.siteCount }}</span>
          <span><b>Countries:</b> {{ jamData.countryCount }}</span>
          <span><b>Jammers:</b>  {{ jamData.jammerCount }}</span>
          <span><b>Teams:</b> {{ jamData.teamCount }} <br></span>
          <span><b>Submissions:</b> {{ jamData.submissionCount }}</span>
          <span class="mb-2"></span>
        </div>
      </div>

      <div class="p-2 mb-2">
        <div class="card text-center p-2 shadow">
          <img src="/assets/Images/cidev.png" style="width: 40%; margin: auto;">
          <p>Powered by CIDeV</p>
        </div>
      </div>

      <div class="p-2 mb-2">
        <div class="card text-center p-2 shadow">
          <fa-icon [icon]="faUsers" class="fa-3x"></fa-icon>
          <p><b>Special Thanks</b></p>
          <p>Sharon Chacón<br>David Pastor<br>Jeffry Cuendiz<br>Paublo Ávila</p>
        </div>
      </div>
    </div>
    <!-- #endregion -->
  </div>
</div>

<app-messages></app-messages>
