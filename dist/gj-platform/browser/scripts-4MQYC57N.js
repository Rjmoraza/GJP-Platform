/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */(function(le,Zn){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=le.document?Zn(le,!0):function(cn){if(!cn.document)throw new Error("jQuery requires a window with a document");return Zn(cn)}:Zn(le)})(typeof window<"u"?window:this,function(le,Zn){"use strict";var cn=[],qo=Object.getPrototypeOf,Dn=cn.slice,cs=cn.flat?function(d){return cn.flat.call(d)}:function(d){return cn.concat.apply([],d)},Ms=cn.push,No=cn.indexOf,zn={},To=zn.toString,Ro=zn.hasOwnProperty,yo=Ro.toString,Dt=yo.call(Object),Xt={},ce=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},Oe=function(d){return d!=null&&d===d.window},Qt=le.document,dn={type:!0,src:!0,nonce:!0,noModule:!0};function De(d,m,_){var w,A,O=(_=_||Qt).createElement("script");if(O.text=d,m)for(w in dn)(A=m[w]||m.getAttribute&&m.getAttribute(w))&&O.setAttribute(w,A);_.head.appendChild(O).parentNode.removeChild(O)}function he(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?zn[To.call(d)]||"object":typeof d}var gt="3.7.1",be=/HTML$/i,x=function(d,m){return new x.fn.init(d,m)};function Er(d){var m=!!d&&"length"in d&&d.length,_=he(d);return!ce(d)&&!Oe(d)&&(_==="array"||m===0||typeof m=="number"&&0<m&&m-1 in d)}function Lt(d,m){return d.nodeName&&d.nodeName.toLowerCase()===m.toLowerCase()}x.fn=x.prototype={jquery:gt,constructor:x,length:0,toArray:function(){return Dn.call(this)},get:function(d){return d==null?Dn.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var m=x.merge(this.constructor(),d);return m.prevObject=this,m},each:function(d){return x.each(this,d)},map:function(d){return this.pushStack(x.map(this,function(m,_){return d.call(m,_,m)}))},slice:function(){return this.pushStack(Dn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(d,m){return(m+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(d,m){return m%2}))},eq:function(d){var m=this.length,_=+d+(d<0?m:0);return this.pushStack(0<=_&&_<m?[this[_]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ms,sort:cn.sort,splice:cn.splice},x.extend=x.fn.extend=function(){var d,m,_,w,A,O,L=arguments[0]||{},W=1,q=arguments.length,Z=!1;for(typeof L=="boolean"&&(Z=L,L=arguments[W]||{},W++),typeof L=="object"||ce(L)||(L={}),W===q&&(L=this,W--);W<q;W++)if((d=arguments[W])!=null)for(m in d)w=d[m],m!=="__proto__"&&L!==w&&(Z&&w&&(x.isPlainObject(w)||(A=Array.isArray(w)))?(_=L[m],O=A&&!Array.isArray(_)?[]:A||x.isPlainObject(_)?_:{},A=!1,L[m]=x.extend(Z,O,w)):w!==void 0&&(L[m]=w));return L},x.extend({expando:"jQuery"+(gt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var m,_;return!(!d||To.call(d)!=="[object Object]")&&(!(m=qo(d))||typeof(_=Ro.call(m,"constructor")&&m.constructor)=="function"&&yo.call(_)===Dt)},isEmptyObject:function(d){var m;for(m in d)return!1;return!0},globalEval:function(d,m,_){De(d,{nonce:m&&m.nonce},_)},each:function(d,m){var _,w=0;if(Er(d))for(_=d.length;w<_&&m.call(d[w],w,d[w])!==!1;w++);else for(w in d)if(m.call(d[w],w,d[w])===!1)break;return d},text:function(d){var m,_="",w=0,A=d.nodeType;if(!A)for(;m=d[w++];)_+=x.text(m);return A===1||A===11?d.textContent:A===9?d.documentElement.textContent:A===3||A===4?d.nodeValue:_},makeArray:function(d,m){var _=m||[];return d!=null&&(Er(Object(d))?x.merge(_,typeof d=="string"?[d]:d):Ms.call(_,d)),_},inArray:function(d,m,_){return m==null?-1:No.call(m,d,_)},isXMLDoc:function(d){var m=d&&d.namespaceURI,_=d&&(d.ownerDocument||d).documentElement;return!be.test(m||_&&_.nodeName||"HTML")},merge:function(d,m){for(var _=+m.length,w=0,A=d.length;w<_;w++)d[A++]=m[w];return d.length=A,d},grep:function(d,m,_){for(var w=[],A=0,O=d.length,L=!_;A<O;A++)!m(d[A],A)!==L&&w.push(d[A]);return w},map:function(d,m,_){var w,A,O=0,L=[];if(Er(d))for(w=d.length;O<w;O++)(A=m(d[O],O,_))!=null&&L.push(A);else for(O in d)(A=m(d[O],O,_))!=null&&L.push(A);return cs(L)},guid:1,support:Xt}),typeof Symbol=="function"&&(x.fn[Symbol.iterator]=cn[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,m){zn["[object "+m+"]"]=m.toLowerCase()});var _o=cn.pop,Di=cn.sort,yt=cn.splice,me="[\\x20\\t\\r\\n\\f]",Hr=new RegExp("^"+me+"+|((?:^|[^\\\\])(?:\\\\.)*)"+me+"+$","g");x.contains=function(d,m){var _=m&&m.parentNode;return d===_||!(!_||_.nodeType!==1||!(d.contains?d.contains(_):d.compareDocumentPosition&&16&d.compareDocumentPosition(_)))};var St=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ds(d,m){return m?d==="\0"?"\uFFFD":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}x.escapeSelector=function(d){return(d+"").replace(St,ds)};var Oo=Qt,us=Ms;(function(){var d,m,_,w,A,O,L,W,q,Z,st=us,at=x.expando,ot=0,ht=0,Mt=Me(),ie=Me(),P=Me(),sn=Me(),bn=function(I,X){return I===X&&(A=!0),0},fn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mo="(?:\\\\[\\da-fA-F]{1,6}"+me+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ft="\\["+me+"*("+Mo+")(?:"+me+"*([*^$|!~]?=)"+me+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mo+"))|)"+me+"*\\]",mn=":("+Mo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ft+")*)|.*)\\)|)",ke=new RegExp(me+"+","g"),Pe=new RegExp("^"+me+"*,"+me+"*"),so=new RegExp("^"+me+"*([>+~]|"+me+")"+me+"*"),$n=new RegExp(me+"|>"),io=new RegExp(mn),ys=new RegExp("^"+Mo+"$"),Pn={ID:new RegExp("^#("+Mo+")"),CLASS:new RegExp("^\\.("+Mo+")"),TAG:new RegExp("^("+Mo+"|[*])"),ATTR:new RegExp("^"+Ft),PSEUDO:new RegExp("^"+mn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+me+"*(even|odd|(([+-]|)(\\d*)n|)"+me+"*(?:([+-]|)"+me+"*(\\d+)|))"+me+"*\\)|)","i"),bool:new RegExp("^(?:"+fn+")$","i"),needsContext:new RegExp("^"+me+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+me+"*((?:-\\d)?\\d*)"+me+"*\\)|)(?=[^-]|$)","i")},wn=/^(?:input|select|textarea|button)$/i,Gr=/^h\d$/i,ao=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ce=/[+~]/,He=new RegExp("\\\\[\\da-fA-F]{1,6}"+me+"?|\\\\([^\\r\\n\\f])","g"),kn=function(I,X){var rt="0x"+I.slice(1)-65536;return X||(rt<0?String.fromCharCode(rt+65536):String.fromCharCode(rt>>10|55296,1023&rt|56320))},Io=function(){Vn()},Sn=dr(function(I){return I.disabled===!0&&Lt(I,"fieldset")},{dir:"parentNode",next:"legend"});try{st.apply(cn=Dn.call(Oo.childNodes),Oo.childNodes),cn[Oo.childNodes.length].nodeType}catch{st={apply:function(X,rt){us.apply(X,Dn.call(rt))},call:function(X){us.apply(X,Dn.call(arguments,1))}}}function te(I,X,rt,it){var mt,Ot,jt,Kt,At,ye,oe,de=X&&X.ownerDocument,Yt=X?X.nodeType:9;if(rt=rt||[],typeof I!="string"||!I||Yt!==1&&Yt!==9&&Yt!==11)return rt;if(!it&&(Vn(X),X=X||O,W)){if(Yt!==11&&(At=ao.exec(I)))if(mt=At[1]){if(Yt===9){if(!(jt=X.getElementById(mt)))return rt;if(jt.id===mt)return st.call(rt,jt),rt}else if(de&&(jt=de.getElementById(mt))&&te.contains(X,jt)&&jt.id===mt)return st.call(rt,jt),rt}else{if(At[2])return st.apply(rt,X.getElementsByTagName(I)),rt;if((mt=At[3])&&X.getElementsByClassName)return st.apply(rt,X.getElementsByClassName(mt)),rt}if(!(sn[I+" "]||q&&q.test(I))){if(oe=I,de=X,Yt===1&&($n.test(I)||so.test(I))){for((de=Ce.test(I)&&jo(X.parentNode)||X)==X&&Xt.scope||((Kt=X.getAttribute("id"))?Kt=x.escapeSelector(Kt):X.setAttribute("id",Kt=at)),Ot=(ye=cr(I)).length;Ot--;)ye[Ot]=(Kt?"#"+Kt:":scope")+" "+Qr(ye[Ot]);oe=ye.join(",")}try{return st.apply(rt,de.querySelectorAll(oe)),rt}catch{sn(I,!0)}finally{Kt===at&&X.removeAttribute("id")}}}return Zr(I.replace(Hr,"$1"),X,rt,it)}function Me(){var I=[];return function X(rt,it){return I.push(rt+" ")>m.cacheLength&&delete X[I.shift()],X[rt+" "]=it}}function Ge(I){return I[at]=!0,I}function We(I){var X=O.createElement("fieldset");try{return!!I(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function Fo(I){return function(X){return Lt(X,"input")&&X.type===I}}function _s(I){return function(X){return(Lt(X,"input")||Lt(X,"button"))&&X.type===I}}function lo(I){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===I:X.disabled===I:X.isDisabled===I||X.isDisabled!==!I&&Sn(X)===I:X.disabled===I:"label"in X&&X.disabled===I}}function Wn(I){return Ge(function(X){return X=+X,Ge(function(rt,it){for(var mt,Ot=I([],rt.length,X),jt=Ot.length;jt--;)rt[mt=Ot[jt]]&&(rt[mt]=!(it[mt]=rt[mt]))})})}function jo(I){return I&&typeof I.getElementsByTagName<"u"&&I}function Vn(I){var X,rt=I?I.ownerDocument||I:Oo;return rt!=O&&rt.nodeType===9&&rt.documentElement&&(L=(O=rt).documentElement,W=!x.isXMLDoc(O),Z=L.matches||L.webkitMatchesSelector||L.msMatchesSelector,L.msMatchesSelector&&Oo!=O&&(X=O.defaultView)&&X.top!==X&&X.addEventListener("unload",Io),Xt.getById=We(function(it){return L.appendChild(it).id=x.expando,!O.getElementsByName||!O.getElementsByName(x.expando).length}),Xt.disconnectedMatch=We(function(it){return Z.call(it,"*")}),Xt.scope=We(function(){return O.querySelectorAll(":scope")}),Xt.cssHas=We(function(){try{return O.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Xt.getById?(m.filter.ID=function(it){var mt=it.replace(He,kn);return function(Ot){return Ot.getAttribute("id")===mt}},m.find.ID=function(it,mt){if(typeof mt.getElementById<"u"&&W){var Ot=mt.getElementById(it);return Ot?[Ot]:[]}}):(m.filter.ID=function(it){var mt=it.replace(He,kn);return function(Ot){var jt=typeof Ot.getAttributeNode<"u"&&Ot.getAttributeNode("id");return jt&&jt.value===mt}},m.find.ID=function(it,mt){if(typeof mt.getElementById<"u"&&W){var Ot,jt,Kt,At=mt.getElementById(it);if(At){if((Ot=At.getAttributeNode("id"))&&Ot.value===it)return[At];for(Kt=mt.getElementsByName(it),jt=0;At=Kt[jt++];)if((Ot=At.getAttributeNode("id"))&&Ot.value===it)return[At]}return[]}}),m.find.TAG=function(it,mt){return typeof mt.getElementsByTagName<"u"?mt.getElementsByTagName(it):mt.querySelectorAll(it)},m.find.CLASS=function(it,mt){if(typeof mt.getElementsByClassName<"u"&&W)return mt.getElementsByClassName(it)},q=[],We(function(it){var mt;L.appendChild(it).innerHTML="<a id='"+at+"' href='' disabled='disabled'></a><select id='"+at+"-\r\\' disabled='disabled'><option selected=''></option></select>",it.querySelectorAll("[selected]").length||q.push("\\["+me+"*(?:value|"+fn+")"),it.querySelectorAll("[id~="+at+"-]").length||q.push("~="),it.querySelectorAll("a#"+at+"+*").length||q.push(".#.+[+~]"),it.querySelectorAll(":checked").length||q.push(":checked"),(mt=O.createElement("input")).setAttribute("type","hidden"),it.appendChild(mt).setAttribute("name","D"),L.appendChild(it).disabled=!0,it.querySelectorAll(":disabled").length!==2&&q.push(":enabled",":disabled"),(mt=O.createElement("input")).setAttribute("name",""),it.appendChild(mt),it.querySelectorAll("[name='']").length||q.push("\\["+me+"*name"+me+"*="+me+`*(?:''|"")`)}),Xt.cssHas||q.push(":has"),q=q.length&&new RegExp(q.join("|")),bn=function(it,mt){if(it===mt)return A=!0,0;var Ot=!it.compareDocumentPosition-!mt.compareDocumentPosition;return Ot||(1&(Ot=(it.ownerDocument||it)==(mt.ownerDocument||mt)?it.compareDocumentPosition(mt):1)||!Xt.sortDetached&&mt.compareDocumentPosition(it)===Ot?it===O||it.ownerDocument==Oo&&te.contains(Oo,it)?-1:mt===O||mt.ownerDocument==Oo&&te.contains(Oo,mt)?1:w?No.call(w,it)-No.call(w,mt):0:4&Ot?-1:1)}),O}for(d in te.matches=function(I,X){return te(I,null,null,X)},te.matchesSelector=function(I,X){if(Vn(I),W&&!sn[X+" "]&&(!q||!q.test(X)))try{var rt=Z.call(I,X);if(rt||Xt.disconnectedMatch||I.document&&I.document.nodeType!==11)return rt}catch{sn(X,!0)}return 0<te(X,O,null,[I]).length},te.contains=function(I,X){return(I.ownerDocument||I)!=O&&Vn(I),x.contains(I,X)},te.attr=function(I,X){(I.ownerDocument||I)!=O&&Vn(I);var rt=m.attrHandle[X.toLowerCase()],it=rt&&Ro.call(m.attrHandle,X.toLowerCase())?rt(I,X,!W):void 0;return it!==void 0?it:I.getAttribute(X)},te.error=function(I){throw new Error("Syntax error, unrecognized expression: "+I)},x.uniqueSort=function(I){var X,rt=[],it=0,mt=0;if(A=!Xt.sortStable,w=!Xt.sortStable&&Dn.call(I,0),Di.call(I,bn),A){for(;X=I[mt++];)X===I[mt]&&(it=rt.push(mt));for(;it--;)yt.call(I,rt[it],1)}return w=null,I},x.fn.uniqueSort=function(){return this.pushStack(x.uniqueSort(Dn.apply(this)))},(m=x.expr={cacheLength:50,createPseudo:Ge,match:Pn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(I){return I[1]=I[1].replace(He,kn),I[3]=(I[3]||I[4]||I[5]||"").replace(He,kn),I[2]==="~="&&(I[3]=" "+I[3]+" "),I.slice(0,4)},CHILD:function(I){return I[1]=I[1].toLowerCase(),I[1].slice(0,3)==="nth"?(I[3]||te.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*(I[3]==="even"||I[3]==="odd")),I[5]=+(I[7]+I[8]||I[3]==="odd")):I[3]&&te.error(I[0]),I},PSEUDO:function(I){var X,rt=!I[6]&&I[2];return Pn.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||"":rt&&io.test(rt)&&(X=cr(rt,!0))&&(X=rt.indexOf(")",rt.length-X)-rt.length)&&(I[0]=I[0].slice(0,X),I[2]=rt.slice(0,X)),I.slice(0,3))}},filter:{TAG:function(I){var X=I.replace(He,kn).toLowerCase();return I==="*"?function(){return!0}:function(rt){return Lt(rt,X)}},CLASS:function(I){var X=Mt[I+" "];return X||(X=new RegExp("(^|"+me+")"+I+"("+me+"|$)"))&&Mt(I,function(rt){return X.test(typeof rt.className=="string"&&rt.className||typeof rt.getAttribute<"u"&&rt.getAttribute("class")||"")})},ATTR:function(I,X,rt){return function(it){var mt=te.attr(it,I);return mt==null?X==="!=":!X||(mt+="",X==="="?mt===rt:X==="!="?mt!==rt:X==="^="?rt&&mt.indexOf(rt)===0:X==="*="?rt&&-1<mt.indexOf(rt):X==="$="?rt&&mt.slice(-rt.length)===rt:X==="~="?-1<(" "+mt.replace(ke," ")+" ").indexOf(rt):X==="|="&&(mt===rt||mt.slice(0,rt.length+1)===rt+"-"))}},CHILD:function(I,X,rt,it,mt){var Ot=I.slice(0,3)!=="nth",jt=I.slice(-4)!=="last",Kt=X==="of-type";return it===1&&mt===0?function(At){return!!At.parentNode}:function(At,ye,oe){var de,Yt,se,an,An,ln=Ot!==jt?"nextSibling":"previousSibling",Kn=At.parentNode,co=Kt&&At.nodeName.toLowerCase(),uo=!oe&&!Kt,Ne=!1;if(Kn){if(Ot){for(;ln;){for(se=At;se=se[ln];)if(Kt?Lt(se,co):se.nodeType===1)return!1;An=ln=I==="only"&&!An&&"nextSibling"}return!0}if(An=[jt?Kn.firstChild:Kn.lastChild],jt&&uo){for(Ne=(an=(de=(Yt=Kn[at]||(Kn[at]={}))[I]||[])[0]===ot&&de[1])&&de[2],se=an&&Kn.childNodes[an];se=++an&&se&&se[ln]||(Ne=an=0)||An.pop();)if(se.nodeType===1&&++Ne&&se===At){Yt[I]=[ot,an,Ne];break}}else if(uo&&(Ne=an=(de=(Yt=At[at]||(At[at]={}))[I]||[])[0]===ot&&de[1]),Ne===!1)for(;(se=++an&&se&&se[ln]||(Ne=an=0)||An.pop())&&!((Kt?Lt(se,co):se.nodeType===1)&&++Ne&&(uo&&((Yt=se[at]||(se[at]={}))[I]=[ot,Ne]),se===At)););return(Ne-=mt)===it||Ne%it==0&&0<=Ne/it}}},PSEUDO:function(I,X){var rt,it=m.pseudos[I]||m.setFilters[I.toLowerCase()]||te.error("unsupported pseudo: "+I);return it[at]?it(X):1<it.length?(rt=[I,I,"",X],m.setFilters.hasOwnProperty(I.toLowerCase())?Ge(function(mt,Ot){for(var jt,Kt=it(mt,X),At=Kt.length;At--;)mt[jt=No.call(mt,Kt[At])]=!(Ot[jt]=Kt[At])}):function(mt){return it(mt,0,rt)}):it}},pseudos:{not:Ge(function(I){var X=[],rt=[],it=qs(I.replace(Hr,"$1"));return it[at]?Ge(function(mt,Ot,jt,Kt){for(var At,ye=it(mt,null,Kt,[]),oe=mt.length;oe--;)(At=ye[oe])&&(mt[oe]=!(Ot[oe]=At))}):function(mt,Ot,jt){return X[0]=mt,it(X,null,jt,rt),X[0]=null,!rt.pop()}}),has:Ge(function(I){return function(X){return 0<te(I,X).length}}),contains:Ge(function(I){return I=I.replace(He,kn),function(X){return-1<(X.textContent||x.text(X)).indexOf(I)}}),lang:Ge(function(I){return ys.test(I||"")||te.error("unsupported lang: "+I),I=I.replace(He,kn).toLowerCase(),function(X){var rt;do if(rt=W?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return(rt=rt.toLowerCase())===I||rt.indexOf(I+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(I){var X=le.location&&le.location.hash;return X&&X.slice(1)===I.id},root:function(I){return I===L},focus:function(I){return I===function(){try{return O.activeElement}catch{}}()&&O.hasFocus()&&!!(I.type||I.href||~I.tabIndex)},enabled:lo(!1),disabled:lo(!0),checked:function(I){return Lt(I,"input")&&!!I.checked||Lt(I,"option")&&!!I.selected},selected:function(I){return I.parentNode&&I.parentNode.selectedIndex,I.selected===!0},empty:function(I){for(I=I.firstChild;I;I=I.nextSibling)if(I.nodeType<6)return!1;return!0},parent:function(I){return!m.pseudos.empty(I)},header:function(I){return Gr.test(I.nodeName)},input:function(I){return wn.test(I.nodeName)},button:function(I){return Lt(I,"input")&&I.type==="button"||Lt(I,"button")},text:function(I){var X;return Lt(I,"input")&&I.type==="text"&&((X=I.getAttribute("type"))==null||X.toLowerCase()==="text")},first:Wn(function(){return[0]}),last:Wn(function(I,X){return[X-1]}),eq:Wn(function(I,X,rt){return[rt<0?rt+X:rt]}),even:Wn(function(I,X){for(var rt=0;rt<X;rt+=2)I.push(rt);return I}),odd:Wn(function(I,X){for(var rt=1;rt<X;rt+=2)I.push(rt);return I}),lt:Wn(function(I,X,rt){var it;for(it=rt<0?rt+X:X<rt?X:rt;0<=--it;)I.push(it);return I}),gt:Wn(function(I,X,rt){for(var it=rt<0?rt+X:rt;++it<X;)I.push(it);return I})}}).pseudos.nth=m.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})m.pseudos[d]=Fo(d);for(d in{submit:!0,reset:!0})m.pseudos[d]=_s(d);function fi(){}function cr(I,X){var rt,it,mt,Ot,jt,Kt,At,ye=ie[I+" "];if(ye)return X?0:ye.slice(0);for(jt=I,Kt=[],At=m.preFilter;jt;){for(Ot in rt&&!(it=Pe.exec(jt))||(it&&(jt=jt.slice(it[0].length)||jt),Kt.push(mt=[])),rt=!1,(it=so.exec(jt))&&(rt=it.shift(),mt.push({value:rt,type:it[0].replace(Hr," ")}),jt=jt.slice(rt.length)),m.filter)!(it=Pn[Ot].exec(jt))||At[Ot]&&!(it=At[Ot](it))||(rt=it.shift(),mt.push({value:rt,type:Ot,matches:it}),jt=jt.slice(rt.length));if(!rt)break}return X?jt.length:jt?te.error(I):ie(I,Kt).slice(0)}function Qr(I){for(var X=0,rt=I.length,it="";X<rt;X++)it+=I[X].value;return it}function dr(I,X,rt){var it=X.dir,mt=X.next,Ot=mt||it,jt=rt&&Ot==="parentNode",Kt=ht++;return X.first?function(At,ye,oe){for(;At=At[it];)if(At.nodeType===1||jt)return I(At,ye,oe);return!1}:function(At,ye,oe){var de,Yt,se=[ot,Kt];if(oe){for(;At=At[it];)if((At.nodeType===1||jt)&&I(At,ye,oe))return!0}else for(;At=At[it];)if(At.nodeType===1||jt)if(Yt=At[at]||(At[at]={}),mt&&Lt(At,mt))At=At[it]||At;else{if((de=Yt[Ot])&&de[0]===ot&&de[1]===Kt)return se[2]=de[2];if((Yt[Ot]=se)[2]=I(At,ye,oe))return!0}return!1}}function ur(I){return 1<I.length?function(X,rt,it){for(var mt=I.length;mt--;)if(!I[mt](X,rt,it))return!1;return!0}:I[0]}function mi(I,X,rt,it,mt){for(var Ot,jt=[],Kt=0,At=I.length,ye=X!=null;Kt<At;Kt++)(Ot=I[Kt])&&(rt&&!rt(Ot,it,mt)||(jt.push(Ot),ye&&X.push(Kt)));return jt}function Br(I,X,rt,it,mt,Ot){return it&&!it[at]&&(it=Br(it)),mt&&!mt[at]&&(mt=Br(mt,Ot)),Ge(function(jt,Kt,At,ye){var oe,de,Yt,se,an=[],An=[],ln=Kt.length,Kn=jt||function(uo,Ne,fo){for(var mo=0,Cs=Ne.length;mo<Cs;mo++)te(uo,Ne[mo],fo);return fo}(X||"*",At.nodeType?[At]:At,[]),co=!I||!jt&&X?Kn:mi(Kn,an,I,At,ye);if(rt?rt(co,se=mt||(jt?I:ln||it)?[]:Kt,At,ye):se=co,it)for(oe=mi(se,An),it(oe,[],At,ye),de=oe.length;de--;)(Yt=oe[de])&&(se[An[de]]=!(co[An[de]]=Yt));if(jt){if(mt||I){if(mt){for(oe=[],de=se.length;de--;)(Yt=se[de])&&oe.push(co[de]=Yt);mt(null,se=[],oe,ye)}for(de=se.length;de--;)(Yt=se[de])&&-1<(oe=mt?No.call(jt,Yt):an[de])&&(jt[oe]=!(Kt[oe]=Yt))}}else se=mi(se===Kt?se.splice(ln,se.length):se),mt?mt(null,Kt,se,ye):st.apply(Kt,se)})}function pi(I){for(var X,rt,it,mt=I.length,Ot=m.relative[I[0].type],jt=Ot||m.relative[" "],Kt=Ot?1:0,At=dr(function(de){return de===X},jt,!0),ye=dr(function(de){return-1<No.call(X,de)},jt,!0),oe=[function(de,Yt,se){var an=!Ot&&(se||Yt!=_)||((X=Yt).nodeType?At(de,Yt,se):ye(de,Yt,se));return X=null,an}];Kt<mt;Kt++)if(rt=m.relative[I[Kt].type])oe=[dr(ur(oe),rt)];else{if((rt=m.filter[I[Kt].type].apply(null,I[Kt].matches))[at]){for(it=++Kt;it<mt&&!m.relative[I[it].type];it++);return Br(1<Kt&&ur(oe),1<Kt&&Qr(I.slice(0,Kt-1).concat({value:I[Kt-2].type===" "?"*":""})).replace(Hr,"$1"),rt,Kt<it&&pi(I.slice(Kt,it)),it<mt&&pi(I=I.slice(it)),it<mt&&Qr(I))}oe.push(rt)}return ur(oe)}function qs(I,X){var rt,it,mt,Ot,jt,Kt,At=[],ye=[],oe=P[I+" "];if(!oe){for(X||(X=cr(I)),rt=X.length;rt--;)(oe=pi(X[rt]))[at]?At.push(oe):ye.push(oe);(oe=P(I,(it=ye,Ot=0<(mt=At).length,jt=0<it.length,Kt=function(de,Yt,se,an,An){var ln,Kn,co,uo=0,Ne="0",fo=de&&[],mo=[],Cs=_,Jr=de||jt&&m.find.TAG("*",An),V=ot+=Cs==null?1:Math.random()||.1,v=Jr.length;for(An&&(_=Yt==O||Yt||An);Ne!==v&&(ln=Jr[Ne])!=null;Ne++){if(jt&&ln){for(Kn=0,Yt||ln.ownerDocument==O||(Vn(ln),se=!W);co=it[Kn++];)if(co(ln,Yt||O,se)){st.call(an,ln);break}An&&(ot=V)}Ot&&((ln=!co&&ln)&&uo--,de&&fo.push(ln))}if(uo+=Ne,Ot&&Ne!==uo){for(Kn=0;co=mt[Kn++];)co(fo,mo,Yt,se);if(de){if(0<uo)for(;Ne--;)fo[Ne]||mo[Ne]||(mo[Ne]=_o.call(an));mo=mi(mo)}st.apply(an,mo),An&&!de&&0<mo.length&&1<uo+mt.length&&x.uniqueSort(an)}return An&&(ot=V,_=Cs),fo},Ot?Ge(Kt):Kt))).selector=I}return oe}function Zr(I,X,rt,it){var mt,Ot,jt,Kt,At,ye=typeof I=="function"&&I,oe=!it&&cr(I=ye.selector||I);if(rt=rt||[],oe.length===1){if(2<(Ot=oe[0]=oe[0].slice(0)).length&&(jt=Ot[0]).type==="ID"&&X.nodeType===9&&W&&m.relative[Ot[1].type]){if(!(X=(m.find.ID(jt.matches[0].replace(He,kn),X)||[])[0]))return rt;ye&&(X=X.parentNode),I=I.slice(Ot.shift().value.length)}for(mt=Pn.needsContext.test(I)?0:Ot.length;mt--&&(jt=Ot[mt],!m.relative[Kt=jt.type]);)if((At=m.find[Kt])&&(it=At(jt.matches[0].replace(He,kn),Ce.test(Ot[0].type)&&jo(X.parentNode)||X))){if(Ot.splice(mt,1),!(I=it.length&&Qr(Ot)))return st.apply(rt,it),rt;break}}return(ye||qs(I,oe))(it,X,!W,rt,!X||Ce.test(I)&&jo(X.parentNode)||X),rt}fi.prototype=m.filters=m.pseudos,m.setFilters=new fi,Xt.sortStable=at.split("").sort(bn).join("")===at,Vn(),Xt.sortDetached=We(function(I){return 1&I.compareDocumentPosition(O.createElement("fieldset"))}),x.find=te,x.expr[":"]=x.expr.pseudos,x.unique=x.uniqueSort,te.compile=qs,te.select=Zr,te.setDocument=Vn,te.tokenize=cr,te.escape=x.escapeSelector,te.getText=x.text,te.isXML=x.isXMLDoc,te.selectors=x.expr,te.support=x.support,te.uniqueSort=x.uniqueSort})();var Co=function(d,m,_){for(var w=[],A=_!==void 0;(d=d[m])&&d.nodeType!==9;)if(d.nodeType===1){if(A&&x(d).is(_))break;w.push(d)}return w},Be=function(d,m){for(var _=[];d;d=d.nextSibling)d.nodeType===1&&d!==m&&_.push(d);return _},ze=x.expr.match.needsContext,E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function zr(d,m,_){return ce(m)?x.grep(d,function(w,A){return!!m.call(w,A,w)!==_}):m.nodeType?x.grep(d,function(w){return w===m!==_}):typeof m!="string"?x.grep(d,function(w){return-1<No.call(m,w)!==_}):x.filter(m,d,_)}x.filter=function(d,m,_){var w=m[0];return _&&(d=":not("+d+")"),m.length===1&&w.nodeType===1?x.find.matchesSelector(w,d)?[w]:[]:x.find.matches(d,x.grep(m,function(A){return A.nodeType===1}))},x.fn.extend({find:function(d){var m,_,w=this.length,A=this;if(typeof d!="string")return this.pushStack(x(d).filter(function(){for(m=0;m<w;m++)if(x.contains(A[m],this))return!0}));for(_=this.pushStack([]),m=0;m<w;m++)x.find(d,A[m],_);return 1<w?x.uniqueSort(_):_},filter:function(d){return this.pushStack(zr(this,d||[],!1))},not:function(d){return this.pushStack(zr(this,d||[],!0))},is:function(d){return!!zr(this,typeof d=="string"&&ze.test(d)?x(d):d||[],!1).length}});var Li,Bi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(d,m,_){var w,A;if(!d)return this;if(_=_||Li,typeof d=="string"){if(!(w=d[0]==="<"&&d[d.length-1]===">"&&3<=d.length?[null,d,null]:Bi.exec(d))||!w[1]&&m)return!m||m.jquery?(m||_).find(d):this.constructor(m).find(d);if(w[1]){if(m=m instanceof x?m[0]:m,x.merge(this,x.parseHTML(w[1],m&&m.nodeType?m.ownerDocument||m:Qt,!0)),E.test(w[1])&&x.isPlainObject(m))for(w in m)ce(this[w])?this[w](m[w]):this.attr(w,m[w]);return this}return(A=Qt.getElementById(w[2]))&&(this[0]=A,this.length=1),this}return d.nodeType?(this[0]=d,this.length=1,this):ce(d)?_.ready!==void 0?_.ready(d):d(x):x.makeArray(d,this)}).prototype=x.fn,Li=x(Qt);var Wo=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};function ve(d,m){for(;(d=d[m])&&d.nodeType!==1;);return d}x.fn.extend({has:function(d){var m=x(d,this),_=m.length;return this.filter(function(){for(var w=0;w<_;w++)if(x.contains(this,m[w]))return!0})},closest:function(d,m){var _,w=0,A=this.length,O=[],L=typeof d!="string"&&x(d);if(!ze.test(d)){for(;w<A;w++)for(_=this[w];_&&_!==m;_=_.parentNode)if(_.nodeType<11&&(L?-1<L.index(_):_.nodeType===1&&x.find.matchesSelector(_,d))){O.push(_);break}}return this.pushStack(1<O.length?x.uniqueSort(O):O)},index:function(d){return d?typeof d=="string"?No.call(x(d),this[0]):No.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,m){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(d,m))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}}),x.each({parent:function(d){var m=d.parentNode;return m&&m.nodeType!==11?m:null},parents:function(d){return Co(d,"parentNode")},parentsUntil:function(d,m,_){return Co(d,"parentNode",_)},next:function(d){return ve(d,"nextSibling")},prev:function(d){return ve(d,"previousSibling")},nextAll:function(d){return Co(d,"nextSibling")},prevAll:function(d){return Co(d,"previousSibling")},nextUntil:function(d,m,_){return Co(d,"nextSibling",_)},prevUntil:function(d,m,_){return Co(d,"previousSibling",_)},siblings:function(d){return Be((d.parentNode||{}).firstChild,d)},children:function(d){return Be(d.firstChild)},contents:function(d){return d.contentDocument!=null&&qo(d.contentDocument)?d.contentDocument:(Lt(d,"template")&&(d=d.content||d),x.merge([],d.childNodes))}},function(d,m){x.fn[d]=function(_,w){var A=x.map(this,m,_);return d.slice(-5)!=="Until"&&(w=_),w&&typeof w=="string"&&(A=x.filter(w,A)),1<this.length&&(pe[d]||x.uniqueSort(A),Wo.test(d)&&A.reverse()),this.pushStack(A)}});var re=/[^\x20\t\r\n\f]+/g;function Y(d){return d}function kr(d){throw d}function Sr(d,m,_,w){var A;try{d&&ce(A=d.promise)?A.call(d).done(m).fail(_):d&&ce(A=d.then)?A.call(d,m,_):m.apply(void 0,[d].slice(w))}catch(O){_.apply(void 0,[O])}}x.Callbacks=function(d){var m,_;d=typeof d=="string"?(m=d,_={},x.each(m.match(re)||[],function(ot,ht){_[ht]=!0}),_):x.extend({},d);var w,A,O,L,W=[],q=[],Z=-1,st=function(){for(L=L||d.once,O=w=!0;q.length;Z=-1)for(A=q.shift();++Z<W.length;)W[Z].apply(A[0],A[1])===!1&&d.stopOnFalse&&(Z=W.length,A=!1);d.memory||(A=!1),w=!1,L&&(W=A?[]:"")},at={add:function(){return W&&(A&&!w&&(Z=W.length-1,q.push(A)),function ot(ht){x.each(ht,function(Mt,ie){ce(ie)?d.unique&&at.has(ie)||W.push(ie):ie&&ie.length&&he(ie)!=="string"&&ot(ie)})}(arguments),A&&!w&&st()),this},remove:function(){return x.each(arguments,function(ot,ht){for(var Mt;-1<(Mt=x.inArray(ht,W,Mt));)W.splice(Mt,1),Mt<=Z&&Z--}),this},has:function(ot){return ot?-1<x.inArray(ot,W):0<W.length},empty:function(){return W&&(W=[]),this},disable:function(){return L=q=[],W=A="",this},disabled:function(){return!W},lock:function(){return L=q=[],A||w||(W=A=""),this},locked:function(){return!!L},fireWith:function(ot,ht){return L||(ht=[ot,(ht=ht||[]).slice?ht.slice():ht],q.push(ht),w||st()),this},fire:function(){return at.fireWith(this,arguments),this},fired:function(){return!!O}};return at},x.extend({Deferred:function(d){var m=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],_="pending",w={state:function(){return _},always:function(){return A.done(arguments).fail(arguments),this},catch:function(O){return w.then(null,O)},pipe:function(){var O=arguments;return x.Deferred(function(L){x.each(m,function(W,q){var Z=ce(O[q[4]])&&O[q[4]];A[q[1]](function(){var st=Z&&Z.apply(this,arguments);st&&ce(st.promise)?st.promise().progress(L.notify).done(L.resolve).fail(L.reject):L[q[0]+"With"](this,Z?[st]:arguments)})}),O=null}).promise()},then:function(O,L,W){var q=0;function Z(st,at,ot,ht){return function(){var Mt=this,ie=arguments,P=function(){var bn,fn;if(!(st<q)){if((bn=ot.apply(Mt,ie))===at.promise())throw new TypeError("Thenable self-resolution");fn=bn&&(typeof bn=="object"||typeof bn=="function")&&bn.then,ce(fn)?ht?fn.call(bn,Z(q,at,Y,ht),Z(q,at,kr,ht)):(q++,fn.call(bn,Z(q,at,Y,ht),Z(q,at,kr,ht),Z(q,at,Y,at.notifyWith))):(ot!==Y&&(Mt=void 0,ie=[bn]),(ht||at.resolveWith)(Mt,ie))}},sn=ht?P:function(){try{P()}catch(bn){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(bn,sn.error),q<=st+1&&(ot!==kr&&(Mt=void 0,ie=[bn]),at.rejectWith(Mt,ie))}};st?sn():(x.Deferred.getErrorHook?sn.error=x.Deferred.getErrorHook():x.Deferred.getStackHook&&(sn.error=x.Deferred.getStackHook()),le.setTimeout(sn))}}return x.Deferred(function(st){m[0][3].add(Z(0,st,ce(W)?W:Y,st.notifyWith)),m[1][3].add(Z(0,st,ce(O)?O:Y)),m[2][3].add(Z(0,st,ce(L)?L:kr))}).promise()},promise:function(O){return O!=null?x.extend(O,w):w}},A={};return x.each(m,function(O,L){var W=L[2],q=L[5];w[L[1]]=W.add,q&&W.add(function(){_=q},m[3-O][2].disable,m[3-O][3].disable,m[0][2].lock,m[0][3].lock),W.add(L[3].fire),A[L[0]]=function(){return A[L[0]+"With"](this===A?void 0:this,arguments),this},A[L[0]+"With"]=W.fireWith}),w.promise(A),d&&d.call(A,A),A},when:function(d){var m=arguments.length,_=m,w=Array(_),A=Dn.call(arguments),O=x.Deferred(),L=function(W){return function(q){w[W]=this,A[W]=1<arguments.length?Dn.call(arguments):q,--m||O.resolveWith(w,A)}};if(m<=1&&(Sr(d,O.done(L(_)).resolve,O.reject,!m),O.state()==="pending"||ce(A[_]&&A[_].then)))return O.then();for(;_--;)Sr(A[_],L(_),O.reject);return O.promise()}});var Wt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(d,m){le.console&&le.console.warn&&d&&Wt.test(d.name)&&le.console.warn("jQuery.Deferred exception: "+d.message,d.stack,m)},x.readyException=function(d){le.setTimeout(function(){throw d})};var Ur=x.Deferred();function tn(){Qt.removeEventListener("DOMContentLoaded",tn),le.removeEventListener("load",tn),x.ready()}x.fn.ready=function(d){return Ur.then(d).catch(function(m){x.readyException(m)}),this},x.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--x.readyWait:x.isReady)||(x.isReady=!0)!==d&&0<--x.readyWait||Ur.resolveWith(Qt,[x])}}),x.ready.then=Ur.then,Qt.readyState==="complete"||Qt.readyState!=="loading"&&!Qt.documentElement.doScroll?le.setTimeout(x.ready):(Qt.addEventListener("DOMContentLoaded",tn),le.addEventListener("load",tn));var Do=function(d,m,_,w,A,O,L){var W=0,q=d.length,Z=_==null;if(he(_)==="object")for(W in A=!0,_)Do(d,m,W,_[W],!0,O,L);else if(w!==void 0&&(A=!0,ce(w)||(L=!0),Z&&(L?(m.call(d,w),m=null):(Z=m,m=function(st,at,ot){return Z.call(x(st),ot)})),m))for(;W<q;W++)m(d[W],_,L?w:w.call(d[W],W,m(d[W],_)));return A?d:Z?m.call(d):q?m(d[0],_):O},Ue=/^-ms-/,Vo=/-([a-z])/g;function wa(d,m){return m.toUpperCase()}function en(d){return d.replace(Ue,"ms-").replace(Vo,wa)}var Jn=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function ar(){this.expando=x.expando+ar.uid++}ar.uid=1,ar.prototype={cache:function(d){var m=d[this.expando];return m||(m={},Jn(d)&&(d.nodeType?d[this.expando]=m:Object.defineProperty(d,this.expando,{value:m,configurable:!0}))),m},set:function(d,m,_){var w,A=this.cache(d);if(typeof m=="string")A[en(m)]=_;else for(w in m)A[en(w)]=m[w];return A},get:function(d,m){return m===void 0?this.cache(d):d[this.expando]&&d[this.expando][en(m)]},access:function(d,m,_){return m===void 0||m&&typeof m=="string"&&_===void 0?this.get(d,m):(this.set(d,m,_),_!==void 0?_:m)},remove:function(d,m){var _,w=d[this.expando];if(w!==void 0){if(m!==void 0)for(_=(m=Array.isArray(m)?m.map(en):(m=en(m))in w?[m]:m.match(re)||[]).length;_--;)delete w[m[_]];(m===void 0||x.isEmptyObject(w))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var m=d[this.expando];return m!==void 0&&!x.isEmptyObject(m)}};var Jt=new ar,Ln=new ar,qr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ar=/[A-Z]/g;function Ye(d,m,_){var w,A;if(_===void 0&&d.nodeType===1)if(w="data-"+m.replace(Ar,"-$&").toLowerCase(),typeof(_=d.getAttribute(w))=="string"){try{_=(A=_)==="true"||A!=="false"&&(A==="null"?null:A===+A+""?+A:qr.test(A)?JSON.parse(A):A)}catch{}Ln.set(d,m,_)}else _=void 0;return _}x.extend({hasData:function(d){return Ln.hasData(d)||Jt.hasData(d)},data:function(d,m,_){return Ln.access(d,m,_)},removeData:function(d,m){Ln.remove(d,m)},_data:function(d,m,_){return Jt.access(d,m,_)},_removeData:function(d,m){Jt.remove(d,m)}}),x.fn.extend({data:function(d,m){var _,w,A,O=this[0],L=O&&O.attributes;if(d===void 0){if(this.length&&(A=Ln.get(O),O.nodeType===1&&!Jt.get(O,"hasDataAttrs"))){for(_=L.length;_--;)L[_]&&(w=L[_].name).indexOf("data-")===0&&(w=en(w.slice(5)),Ye(O,w,A[w]));Jt.set(O,"hasDataAttrs",!0)}return A}return typeof d=="object"?this.each(function(){Ln.set(this,d)}):Do(this,function(W){var q;if(O&&W===void 0)return(q=Ln.get(O,d))!==void 0||(q=Ye(O,d))!==void 0?q:void 0;this.each(function(){Ln.set(this,d,W)})},null,m,1<arguments.length,null,!0)},removeData:function(d){return this.each(function(){Ln.remove(this,d)})}}),x.extend({queue:function(d,m,_){var w;if(d)return m=(m||"fx")+"queue",w=Jt.get(d,m),_&&(!w||Array.isArray(_)?w=Jt.access(d,m,x.makeArray(_)):w.push(_)),w||[]},dequeue:function(d,m){m=m||"fx";var _=x.queue(d,m),w=_.length,A=_.shift(),O=x._queueHooks(d,m);A==="inprogress"&&(A=_.shift(),w--),A&&(m==="fx"&&_.unshift("inprogress"),delete O.stop,A.call(d,function(){x.dequeue(d,m)},O)),!w&&O&&O.empty.fire()},_queueHooks:function(d,m){var _=m+"queueHooks";return Jt.get(d,_)||Jt.access(d,_,{empty:x.Callbacks("once memory").add(function(){Jt.remove(d,[m+"queue",_])})})}}),x.fn.extend({queue:function(d,m){var _=2;return typeof d!="string"&&(m=d,d="fx",_--),arguments.length<_?x.queue(this[0],d):m===void 0?this:this.each(function(){var w=x.queue(this,d,m);x._queueHooks(this,d),d==="fx"&&w[0]!=="inprogress"&&x.dequeue(this,d)})},dequeue:function(d){return this.each(function(){x.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,m){var _,w=1,A=x.Deferred(),O=this,L=this.length,W=function(){--w||A.resolveWith(O,[O])};for(typeof d!="string"&&(m=d,d=void 0),d=d||"fx";L--;)(_=Jt.get(O[L],d+"queueHooks"))&&_.empty&&(w++,_.empty.add(W));return W(),A.promise(m)}});var Ko=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nn=new RegExp("^(?:([+-])=|)("+Ko+")([a-z%]*)$","i"),pn=["Top","Right","Bottom","Left"],to=Qt.documentElement,Je=function(d){return x.contains(d.ownerDocument,d)},yl={composed:!0};to.getRootNode&&(Je=function(d){return x.contains(d.ownerDocument,d)||d.getRootNode(yl)===d.ownerDocument});var _e=function(d,m){return(d=m||d).style.display==="none"||d.style.display===""&&Je(d)&&x.css(d,"display")==="none"};function fs(d,m,_,w){var A,O,L=20,W=w?function(){return w.cur()}:function(){return x.css(d,m,"")},q=W(),Z=_&&_[3]||(x.cssNumber[m]?"":"px"),st=d.nodeType&&(x.cssNumber[m]||Z!=="px"&&+q)&&nn.exec(x.css(d,m));if(st&&st[3]!==Z){for(q/=2,Z=Z||st[3],st=+q||1;L--;)x.style(d,m,st+Z),(1-O)*(1-(O=W()/q||.5))<=0&&(L=0),st/=O;st*=2,x.style(d,m,st+Z),_=_||[]}return _&&(st=+st||+q||0,A=_[1]?st+(_[1]+1)*_[2]:+_[2],w&&(w.unit=Z,w.start=st,w.end=A)),A}var xa={};function Nr(d,m){for(var _,w,A,O,L,W,q,Z=[],st=0,at=d.length;st<at;st++)(w=d[st]).style&&(_=w.style.display,m?(_==="none"&&(Z[st]=Jt.get(w,"display")||null,Z[st]||(w.style.display="")),w.style.display===""&&_e(w)&&(Z[st]=(q=L=O=void 0,L=(A=w).ownerDocument,W=A.nodeName,(q=xa[W])||(O=L.body.appendChild(L.createElement(W)),q=x.css(O,"display"),O.parentNode.removeChild(O),q==="none"&&(q="block"),xa[W]=q)))):_!=="none"&&(Z[st]="none",Jt.set(w,"display",_)));for(st=0;st<at;st++)Z[st]!=null&&(d[st].style.display=Z[st]);return d}x.fn.extend({show:function(){return Nr(this,!0)},hide:function(){return Nr(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){_e(this)?x(this).show():x(this).hide()})}});var Tr,Rr,Or=/^(?:checkbox|radio)$/i,Is=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;Tr=Qt.createDocumentFragment().appendChild(Qt.createElement("div")),(Rr=Qt.createElement("input")).setAttribute("type","radio"),Rr.setAttribute("checked","checked"),Rr.setAttribute("name","t"),Tr.appendChild(Rr),Xt.checkClone=Tr.cloneNode(!0).cloneNode(!0).lastChild.checked,Tr.innerHTML="<textarea>x</textarea>",Xt.noCloneChecked=!!Tr.cloneNode(!0).lastChild.defaultValue,Tr.innerHTML="<option></option>",Xt.option=!!Tr.lastChild;var Ht={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function un(d,m){var _;return _=typeof d.getElementsByTagName<"u"?d.getElementsByTagName(m||"*"):typeof d.querySelectorAll<"u"?d.querySelectorAll(m||"*"):[],m===void 0||m&&Lt(d,m)?x.merge([d],_):_}function ei(d,m){for(var _=0,w=d.length;_<w;_++)Jt.set(d[_],"globalEval",!m||Jt.get(m[_],"globalEval"))}Ht.tbody=Ht.tfoot=Ht.colgroup=Ht.caption=Ht.thead,Ht.th=Ht.td,Xt.option||(Ht.optgroup=Ht.option=[1,"<select multiple='multiple'>","</select>"]);var Ea=/<|&#?\w+;/;function ni(d,m,_,w,A){for(var O,L,W,q,Z,st,at=m.createDocumentFragment(),ot=[],ht=0,Mt=d.length;ht<Mt;ht++)if((O=d[ht])||O===0)if(he(O)==="object")x.merge(ot,O.nodeType?[O]:O);else if(Ea.test(O)){for(L=L||at.appendChild(m.createElement("div")),W=(Is.exec(O)||["",""])[1].toLowerCase(),q=Ht[W]||Ht._default,L.innerHTML=q[1]+x.htmlPrefilter(O)+q[2],st=q[0];st--;)L=L.lastChild;x.merge(ot,L.childNodes),(L=at.firstChild).textContent=""}else ot.push(m.createTextNode(O));for(at.textContent="",ht=0;O=ot[ht++];)if(w&&-1<x.inArray(O,w))A&&A.push(O);else if(Z=Je(O),L=un(at.appendChild(O),"script"),Z&&ei(L),_)for(st=0;O=L[st++];)Ee.test(O.type||"")&&_.push(O);return at}var Fs=/^([^.]*)(?:\.(.+)|)/;function eo(){return!0}function Un(){return!1}function ms(d,m,_,w,A,O){var L,W;if(typeof m=="object"){for(W in typeof _!="string"&&(w=w||_,_=void 0),m)ms(d,W,_,w,m[W],O);return d}if(w==null&&A==null?(A=_,w=_=void 0):A==null&&(typeof _=="string"?(A=w,w=void 0):(A=w,w=_,_=void 0)),A===!1)A=Un;else if(!A)return d;return O===1&&(L=A,(A=function(q){return x().off(q),L.apply(this,arguments)}).guid=L.guid||(L.guid=x.guid++)),d.each(function(){x.event.add(this,m,A,w,_)})}function js(d,m,_){_?(Jt.set(d,m,!1),x.event.add(d,m,{namespace:!1,handler:function(w){var A,O=Jt.get(this,m);if(1&w.isTrigger&&this[m]){if(O)(x.event.special[m]||{}).delegateType&&w.stopPropagation();else if(O=Dn.call(arguments),Jt.set(this,m,O),this[m](),A=Jt.get(this,m),Jt.set(this,m,!1),O!==A)return w.stopImmediatePropagation(),w.preventDefault(),A}else O&&(Jt.set(this,m,x.event.trigger(O[0],O.slice(1),this)),w.stopPropagation(),w.isImmediatePropagationStopped=eo)}})):Jt.get(d,m)===void 0&&x.event.add(d,m,eo)}x.event={global:{},add:function(d,m,_,w,A){var O,L,W,q,Z,st,at,ot,ht,Mt,ie,P=Jt.get(d);if(Jn(d))for(_.handler&&(_=(O=_).handler,A=O.selector),A&&x.find.matchesSelector(to,A),_.guid||(_.guid=x.guid++),(q=P.events)||(q=P.events=Object.create(null)),(L=P.handle)||(L=P.handle=function(sn){return typeof x<"u"&&x.event.triggered!==sn.type?x.event.dispatch.apply(d,arguments):void 0}),Z=(m=(m||"").match(re)||[""]).length;Z--;)ht=ie=(W=Fs.exec(m[Z])||[])[1],Mt=(W[2]||"").split(".").sort(),ht&&(at=x.event.special[ht]||{},ht=(A?at.delegateType:at.bindType)||ht,at=x.event.special[ht]||{},st=x.extend({type:ht,origType:ie,data:w,handler:_,guid:_.guid,selector:A,needsContext:A&&x.expr.match.needsContext.test(A),namespace:Mt.join(".")},O),(ot=q[ht])||((ot=q[ht]=[]).delegateCount=0,at.setup&&at.setup.call(d,w,Mt,L)!==!1||d.addEventListener&&d.addEventListener(ht,L)),at.add&&(at.add.call(d,st),st.handler.guid||(st.handler.guid=_.guid)),A?ot.splice(ot.delegateCount++,0,st):ot.push(st),x.event.global[ht]=!0)},remove:function(d,m,_,w,A){var O,L,W,q,Z,st,at,ot,ht,Mt,ie,P=Jt.hasData(d)&&Jt.get(d);if(P&&(q=P.events)){for(Z=(m=(m||"").match(re)||[""]).length;Z--;)if(ht=ie=(W=Fs.exec(m[Z])||[])[1],Mt=(W[2]||"").split(".").sort(),ht){for(at=x.event.special[ht]||{},ot=q[ht=(w?at.delegateType:at.bindType)||ht]||[],W=W[2]&&new RegExp("(^|\\.)"+Mt.join("\\.(?:.*\\.|)")+"(\\.|$)"),L=O=ot.length;O--;)st=ot[O],!A&&ie!==st.origType||_&&_.guid!==st.guid||W&&!W.test(st.namespace)||w&&w!==st.selector&&(w!=="**"||!st.selector)||(ot.splice(O,1),st.selector&&ot.delegateCount--,at.remove&&at.remove.call(d,st));L&&!ot.length&&(at.teardown&&at.teardown.call(d,Mt,P.handle)!==!1||x.removeEvent(d,ht,P.handle),delete q[ht])}else for(ht in q)x.event.remove(d,ht+m[Z],_,w,!0);x.isEmptyObject(q)&&Jt.remove(d,"handle events")}},dispatch:function(d){var m,_,w,A,O,L,W=new Array(arguments.length),q=x.event.fix(d),Z=(Jt.get(this,"events")||Object.create(null))[q.type]||[],st=x.event.special[q.type]||{};for(W[0]=q,m=1;m<arguments.length;m++)W[m]=arguments[m];if(q.delegateTarget=this,!st.preDispatch||st.preDispatch.call(this,q)!==!1){for(L=x.event.handlers.call(this,q,Z),m=0;(A=L[m++])&&!q.isPropagationStopped();)for(q.currentTarget=A.elem,_=0;(O=A.handlers[_++])&&!q.isImmediatePropagationStopped();)q.rnamespace&&O.namespace!==!1&&!q.rnamespace.test(O.namespace)||(q.handleObj=O,q.data=O.data,(w=((x.event.special[O.origType]||{}).handle||O.handler).apply(A.elem,W))!==void 0&&(q.result=w)===!1&&(q.preventDefault(),q.stopPropagation()));return st.postDispatch&&st.postDispatch.call(this,q),q.result}},handlers:function(d,m){var _,w,A,O,L,W=[],q=m.delegateCount,Z=d.target;if(q&&Z.nodeType&&!(d.type==="click"&&1<=d.button)){for(;Z!==this;Z=Z.parentNode||this)if(Z.nodeType===1&&(d.type!=="click"||Z.disabled!==!0)){for(O=[],L={},_=0;_<q;_++)L[A=(w=m[_]).selector+" "]===void 0&&(L[A]=w.needsContext?-1<x(A,this).index(Z):x.find(A,this,null,[Z]).length),L[A]&&O.push(w);O.length&&W.push({elem:Z,handlers:O})}}return Z=this,q<m.length&&W.push({elem:Z,handlers:m.slice(q)}),W},addProp:function(d,m){Object.defineProperty(x.Event.prototype,d,{enumerable:!0,configurable:!0,get:ce(m)?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(_){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:_})}})},fix:function(d){return d[x.expando]?d:new x.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var m=this||d;return Or.test(m.type)&&m.click&&Lt(m,"input")&&js(m,"click",!0),!1},trigger:function(d){var m=this||d;return Or.test(m.type)&&m.click&&Lt(m,"input")&&js(m,"click"),!0},_default:function(d){var m=d.target;return Or.test(m.type)&&m.click&&Lt(m,"input")&&Jt.get(m,"click")||Lt(m,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}},x.removeEvent=function(d,m,_){d.removeEventListener&&d.removeEventListener(m,_)},x.Event=function(d,m){if(!(this instanceof x.Event))return new x.Event(d,m);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?eo:Un,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,m&&x.extend(this,m),this.timeStamp=d&&d.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Un,isPropagationStopped:Un,isImmediatePropagationStopped:Un,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=eo,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=eo,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=eo,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(d,m){function _(w){if(Qt.documentMode){var A=Jt.get(this,"handle"),O=x.event.fix(w);O.type=w.type==="focusin"?"focus":"blur",O.isSimulated=!0,A(w),O.target===O.currentTarget&&A(O)}else x.event.simulate(m,w.target,x.event.fix(w))}x.event.special[d]={setup:function(){var w;if(js(this,d,!0),!Qt.documentMode)return!1;(w=Jt.get(this,m))||this.addEventListener(m,_),Jt.set(this,m,(w||0)+1)},trigger:function(){return js(this,d),!0},teardown:function(){var w;if(!Qt.documentMode)return!1;(w=Jt.get(this,m)-1)?Jt.set(this,m,w):(this.removeEventListener(m,_),Jt.remove(this,m))},_default:function(w){return Jt.get(w.target,d)},delegateType:m},x.event.special[m]={setup:function(){var w=this.ownerDocument||this.document||this,A=Qt.documentMode?this:w,O=Jt.get(A,m);O||(Qt.documentMode?this.addEventListener(m,_):w.addEventListener(d,_,!0)),Jt.set(A,m,(O||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,A=Qt.documentMode?this:w,O=Jt.get(A,m)-1;O?Jt.set(A,m,O):(Qt.documentMode?this.removeEventListener(m,_):w.removeEventListener(d,_,!0),Jt.remove(A,m))}}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,m){x.event.special[d]={delegateType:m,bindType:m,handle:function(_){var w,A=_.relatedTarget,O=_.handleObj;return A&&(A===this||x.contains(this,A))||(_.type=O.origType,w=O.handler.apply(this,arguments),_.type=m),w}}}),x.fn.extend({on:function(d,m,_,w){return ms(this,d,m,_,w)},one:function(d,m,_,w){return ms(this,d,m,_,w,1)},off:function(d,m,_){var w,A;if(d&&d.preventDefault&&d.handleObj)return w=d.handleObj,x(d.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if(typeof d=="object"){for(A in d)this.off(A,m,d[A]);return this}return m!==!1&&typeof m!="function"||(_=m,m=void 0),_===!1&&(_=Un),this.each(function(){x.event.remove(this,d,_,m)})}});var Wr=/<script|<style|<link/i,Yo=/checked\s*(?:[^=]|=\s*.checked.)/i,ka=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ps(d,m){return Lt(d,"table")&&Lt(m.nodeType!==11?m:m.firstChild,"tr")&&x(d).children("tbody")[0]||d}function Xo(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function $s(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Pi(d,m){var _,w,A,O,L,W;if(m.nodeType===1){if(Jt.hasData(d)&&(W=Jt.get(d).events))for(A in Jt.remove(m,"handle events"),W)for(_=0,w=W[A].length;_<w;_++)x.event.add(m,A,W[A][_]);Ln.hasData(d)&&(O=Ln.access(d),L=x.extend({},O),Ln.set(m,L))}}function lr(d,m,_,w){m=cs(m);var A,O,L,W,q,Z,st=0,at=d.length,ot=at-1,ht=m[0],Mt=ce(ht);if(Mt||1<at&&typeof ht=="string"&&!Xt.checkClone&&Yo.test(ht))return d.each(function(ie){var P=d.eq(ie);Mt&&(m[0]=ht.call(this,ie,P.html())),lr(P,m,_,w)});if(at&&(O=(A=ni(m,d[0].ownerDocument,!1,d,w)).firstChild,A.childNodes.length===1&&(A=O),O||w)){for(W=(L=x.map(un(A,"script"),Xo)).length;st<at;st++)q=A,st!==ot&&(q=x.clone(q,!0,!0),W&&x.merge(L,un(q,"script"))),_.call(d[st],q,st);if(W)for(Z=L[L.length-1].ownerDocument,x.map(L,$s),st=0;st<W;st++)q=L[st],Ee.test(q.type||"")&&!Jt.access(q,"globalEval")&&x.contains(Z,q)&&(q.src&&(q.type||"").toLowerCase()!=="module"?x._evalUrl&&!q.noModule&&x._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},Z):De(q.textContent.replace(ka,""),q,Z))}return d}function hn(d,m,_){for(var w,A=m?x.filter(m,d):d,O=0;(w=A[O])!=null;O++)_||w.nodeType!==1||x.cleanData(un(w)),w.parentNode&&(_&&Je(w)&&ei(un(w,"script")),w.parentNode.removeChild(w));return d}x.extend({htmlPrefilter:function(d){return d},clone:function(d,m,_){var w,A,O,L,W,q,Z,st=d.cloneNode(!0),at=Je(d);if(!(Xt.noCloneChecked||d.nodeType!==1&&d.nodeType!==11||x.isXMLDoc(d)))for(L=un(st),w=0,A=(O=un(d)).length;w<A;w++)W=O[w],q=L[w],(Z=q.nodeName.toLowerCase())==="input"&&Or.test(W.type)?q.checked=W.checked:Z!=="input"&&Z!=="textarea"||(q.defaultValue=W.defaultValue);if(m)if(_)for(O=O||un(d),L=L||un(st),w=0,A=O.length;w<A;w++)Pi(O[w],L[w]);else Pi(d,st);return 0<(L=un(st,"script")).length&&ei(L,!at&&un(d,"script")),st},cleanData:function(d){for(var m,_,w,A=x.event.special,O=0;(_=d[O])!==void 0;O++)if(Jn(_)){if(m=_[Jt.expando]){if(m.events)for(w in m.events)A[w]?x.event.remove(_,w):x.removeEvent(_,w,m.handle);_[Jt.expando]=void 0}_[Ln.expando]&&(_[Ln.expando]=void 0)}}}),x.fn.extend({detach:function(d){return hn(this,d,!0)},remove:function(d){return hn(this,d)},text:function(d){return Do(this,function(m){return m===void 0?x.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=m)})},null,d,arguments.length)},append:function(){return lr(this,arguments,function(d){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||ps(this,d).appendChild(d)})},prepend:function(){return lr(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=ps(this,d);m.insertBefore(d,m.firstChild)}})},before:function(){return lr(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return lr(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,m=0;(d=this[m])!=null;m++)d.nodeType===1&&(x.cleanData(un(d,!1)),d.textContent="");return this},clone:function(d,m){return d=d!=null&&d,m=m??d,this.map(function(){return x.clone(this,d,m)})},html:function(d){return Do(this,function(m){var _=this[0]||{},w=0,A=this.length;if(m===void 0&&_.nodeType===1)return _.innerHTML;if(typeof m=="string"&&!Wr.test(m)&&!Ht[(Is.exec(m)||["",""])[1].toLowerCase()]){m=x.htmlPrefilter(m);try{for(;w<A;w++)(_=this[w]||{}).nodeType===1&&(x.cleanData(un(_,!1)),_.innerHTML=m);_=0}catch{}}_&&this.empty().append(m)},null,d,arguments.length)},replaceWith:function(){var d=[];return lr(this,arguments,function(m){var _=this.parentNode;x.inArray(this,d)<0&&(x.cleanData(un(this)),_&&_.replaceChild(m,this))},d)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,m){x.fn[d]=function(_){for(var w,A=[],O=x(_),L=O.length-1,W=0;W<=L;W++)w=W===L?this:this.clone(!0),x(O[W])[m](w),Ms.apply(A,w.get());return this.pushStack(A)}});var Xe=new RegExp("^("+Ko+")(?!px)[a-z%]+$","i"),Go=/^--/,Vr=function(d){var m=d.ownerDocument.defaultView;return m&&m.opener||(m=le),m.getComputedStyle(d)},no=function(d,m,_){var w,A,O={};for(A in m)O[A]=d.style[A],d.style[A]=m[A];for(A in w=_.call(d),m)d.style[A]=O[A];return w},Mi=new RegExp(pn.join("|"),"i");function hs(d,m,_){var w,A,O,L,W=Go.test(m),q=d.style;return(_=_||Vr(d))&&(L=_.getPropertyValue(m)||_[m],W&&L&&(L=L.replace(Hr,"$1")||void 0),L!==""||Je(d)||(L=x.style(d,m)),!Xt.pixelBoxStyles()&&Xe.test(L)&&Mi.test(m)&&(w=q.width,A=q.minWidth,O=q.maxWidth,q.minWidth=q.maxWidth=q.width=L,L=_.width,q.width=w,q.minWidth=A,q.maxWidth=O)),L!==void 0?L+"":L}function wo(d,m){return{get:function(){if(!d())return(this.get=m).apply(this,arguments);delete this.get}}}(function(){function d(){if(Z){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Z.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",to.appendChild(q).appendChild(Z);var st=le.getComputedStyle(Z);_=st.top!=="1%",W=m(st.marginLeft)===12,Z.style.right="60%",O=m(st.right)===36,w=m(st.width)===36,Z.style.position="absolute",A=m(Z.offsetWidth/3)===12,to.removeChild(q),Z=null}}function m(st){return Math.round(parseFloat(st))}var _,w,A,O,L,W,q=Qt.createElement("div"),Z=Qt.createElement("div");Z.style&&(Z.style.backgroundClip="content-box",Z.cloneNode(!0).style.backgroundClip="",Xt.clearCloneStyle=Z.style.backgroundClip==="content-box",x.extend(Xt,{boxSizingReliable:function(){return d(),w},pixelBoxStyles:function(){return d(),O},pixelPosition:function(){return d(),_},reliableMarginLeft:function(){return d(),W},scrollboxSize:function(){return d(),A},reliableTrDimensions:function(){var st,at,ot,ht;return L==null&&(st=Qt.createElement("table"),at=Qt.createElement("tr"),ot=Qt.createElement("div"),st.style.cssText="position:absolute;left:-11111px;border-collapse:separate",at.style.cssText="box-sizing:content-box;border:1px solid",at.style.height="1px",ot.style.height="9px",ot.style.display="block",to.appendChild(st).appendChild(at).appendChild(ot),ht=le.getComputedStyle(at),L=parseInt(ht.height,10)+parseInt(ht.borderTopWidth,10)+parseInt(ht.borderBottomWidth,10)===at.offsetHeight,to.removeChild(st)),L}}))})();var gs=["Webkit","Moz","ms"],Hs=Qt.createElement("div").style,oi={};function Lo(d){var m=x.cssProps[d]||oi[d];return m||(d in Hs?d:oi[d]=function(_){for(var w=_[0].toUpperCase()+_.slice(1),A=gs.length;A--;)if((_=gs[A]+w)in Hs)return _}(d)||d)}var Sa=/^(none|table(?!-c[ea]).+)/,Aa={position:"absolute",visibility:"hidden",display:"block"},Ii={letterSpacing:"0",fontWeight:"400"};function Dr(d,m,_){var w=nn.exec(m);return w?Math.max(0,w[2]-(_||0))+(w[3]||"px"):m}function Qo(d,m,_,w,A,O){var L=m==="width"?1:0,W=0,q=0,Z=0;if(_===(w?"border":"content"))return 0;for(;L<4;L+=2)_==="margin"&&(Z+=x.css(d,_+pn[L],!0,A)),w?(_==="content"&&(q-=x.css(d,"padding"+pn[L],!0,A)),_!=="margin"&&(q-=x.css(d,"border"+pn[L]+"Width",!0,A))):(q+=x.css(d,"padding"+pn[L],!0,A),_!=="padding"?q+=x.css(d,"border"+pn[L]+"Width",!0,A):W+=x.css(d,"border"+pn[L]+"Width",!0,A));return!w&&0<=O&&(q+=Math.max(0,Math.ceil(d["offset"+m[0].toUpperCase()+m.slice(1)]-O-q-W-.5))||0),q+Z}function Fi(d,m,_){var w=Vr(d),A=(!Xt.boxSizingReliable()||_)&&x.css(d,"boxSizing",!1,w)==="border-box",O=A,L=hs(d,m,w),W="offset"+m[0].toUpperCase()+m.slice(1);if(Xe.test(L)){if(!_)return L;L="auto"}return(!Xt.boxSizingReliable()&&A||!Xt.reliableTrDimensions()&&Lt(d,"tr")||L==="auto"||!parseFloat(L)&&x.css(d,"display",!1,w)==="inline")&&d.getClientRects().length&&(A=x.css(d,"boxSizing",!1,w)==="border-box",(O=W in d)&&(L=d[W])),(L=parseFloat(L)||0)+Qo(d,m,_||(A?"border":"content"),O,w,L)+"px"}function In(d,m,_,w,A){return new In.prototype.init(d,m,_,w,A)}x.extend({cssHooks:{opacity:{get:function(d,m){if(m){var _=hs(d,"opacity");return _===""?"1":_}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,m,_,w){if(d&&d.nodeType!==3&&d.nodeType!==8&&d.style){var A,O,L,W=en(m),q=Go.test(m),Z=d.style;if(q||(m=Lo(W)),L=x.cssHooks[m]||x.cssHooks[W],_===void 0)return L&&"get"in L&&(A=L.get(d,!1,w))!==void 0?A:Z[m];(O=typeof _)=="string"&&(A=nn.exec(_))&&A[1]&&(_=fs(d,m,A),O="number"),_!=null&&_==_&&(O!=="number"||q||(_+=A&&A[3]||(x.cssNumber[W]?"":"px")),Xt.clearCloneStyle||_!==""||m.indexOf("background")!==0||(Z[m]="inherit"),L&&"set"in L&&(_=L.set(d,_,w))===void 0||(q?Z.setProperty(m,_):Z[m]=_))}},css:function(d,m,_,w){var A,O,L,W=en(m);return Go.test(m)||(m=Lo(W)),(L=x.cssHooks[m]||x.cssHooks[W])&&"get"in L&&(A=L.get(d,!0,_)),A===void 0&&(A=hs(d,m,w)),A==="normal"&&m in Ii&&(A=Ii[m]),_===""||_?(O=parseFloat(A),_===!0||isFinite(O)?O||0:A):A}}),x.each(["height","width"],function(d,m){x.cssHooks[m]={get:function(_,w,A){if(w)return!Sa.test(x.css(_,"display"))||_.getClientRects().length&&_.getBoundingClientRect().width?Fi(_,m,A):no(_,Aa,function(){return Fi(_,m,A)})},set:function(_,w,A){var O,L=Vr(_),W=!Xt.scrollboxSize()&&L.position==="absolute",q=(W||A)&&x.css(_,"boxSizing",!1,L)==="border-box",Z=A?Qo(_,m,A,q,L):0;return q&&W&&(Z-=Math.ceil(_["offset"+m[0].toUpperCase()+m.slice(1)]-parseFloat(L[m])-Qo(_,m,"border",!1,L)-.5)),Z&&(O=nn.exec(w))&&(O[3]||"px")!=="px"&&(_.style[m]=w,w=x.css(_,m)),Dr(0,w,Z)}}}),x.cssHooks.marginLeft=wo(Xt.reliableMarginLeft,function(d,m){if(m)return(parseFloat(hs(d,"marginLeft"))||d.getBoundingClientRect().left-no(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(d,m){x.cssHooks[d+m]={expand:function(_){for(var w=0,A={},O=typeof _=="string"?_.split(" "):[_];w<4;w++)A[d+pn[w]+m]=O[w]||O[w-2]||O[0];return A}},d!=="margin"&&(x.cssHooks[d+m].set=Dr)}),x.fn.extend({css:function(d,m){return Do(this,function(_,w,A){var O,L,W={},q=0;if(Array.isArray(w)){for(O=Vr(_),L=w.length;q<L;q++)W[w[q]]=x.css(_,w[q],!1,O);return W}return A!==void 0?x.style(_,w,A):x.css(_,w)},d,m,1<arguments.length)}}),((x.Tween=In).prototype={constructor:In,init:function(d,m,_,w,A,O){this.elem=d,this.prop=_,this.easing=A||x.easing._default,this.options=m,this.start=this.now=this.cur(),this.end=w,this.unit=O||(x.cssNumber[_]?"":"px")},cur:function(){var d=In.propHooks[this.prop];return d&&d.get?d.get(this):In.propHooks._default.get(this)},run:function(d){var m,_=In.propHooks[this.prop];return this.options.duration?this.pos=m=x.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=m=d,this.now=(this.end-this.start)*m+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),_&&_.set?_.set(this):In.propHooks._default.set(this),this}}).init.prototype=In.prototype,(In.propHooks={_default:{get:function(d){var m;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(m=x.css(d.elem,d.prop,""))&&m!=="auto"?m:0},set:function(d){x.fx.step[d.prop]?x.fx.step[d.prop](d):d.elem.nodeType!==1||!x.cssHooks[d.prop]&&d.elem.style[Lo(d.prop)]==null?d.elem[d.prop]=d.now:x.style(d.elem,d.prop,d.now+d.unit)}}}).scrollTop=In.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},x.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},x.fx=In.prototype.init,x.fx.step={};var Kr,zs,bs,Na,Ta=/^(?:toggle|show|hide)$/,Ra=/queueHooks$/;function ri(){zs&&(Qt.hidden===!1&&le.requestAnimationFrame?le.requestAnimationFrame(ri):le.setTimeout(ri,x.fx.interval),x.fx.tick())}function ji(){return le.setTimeout(function(){Kr=void 0}),Kr=Date.now()}function Fn(d,m){var _,w=0,A={height:d};for(m=m?1:0;w<4;w+=2-m)A["margin"+(_=pn[w])]=A["padding"+_]=d;return m&&(A.opacity=A.width=d),A}function si(d,m,_){for(var w,A=(oo.tweeners[m]||[]).concat(oo.tweeners["*"]),O=0,L=A.length;O<L;O++)if(w=A[O].call(_,m,d))return w}function oo(d,m,_){var w,A,O=0,L=oo.prefilters.length,W=x.Deferred().always(function(){delete q.elem}),q=function(){if(A)return!1;for(var at=Kr||ji(),ot=Math.max(0,Z.startTime+Z.duration-at),ht=1-(ot/Z.duration||0),Mt=0,ie=Z.tweens.length;Mt<ie;Mt++)Z.tweens[Mt].run(ht);return W.notifyWith(d,[Z,ht,ot]),ht<1&&ie?ot:(ie||W.notifyWith(d,[Z,1,0]),W.resolveWith(d,[Z]),!1)},Z=W.promise({elem:d,props:x.extend({},m),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},_),originalProperties:m,originalOptions:_,startTime:Kr||ji(),duration:_.duration,tweens:[],createTween:function(at,ot){var ht=x.Tween(d,Z.opts,at,ot,Z.opts.specialEasing[at]||Z.opts.easing);return Z.tweens.push(ht),ht},stop:function(at){var ot=0,ht=at?Z.tweens.length:0;if(A)return this;for(A=!0;ot<ht;ot++)Z.tweens[ot].run(1);return at?(W.notifyWith(d,[Z,1,0]),W.resolveWith(d,[Z,at])):W.rejectWith(d,[Z,at]),this}}),st=Z.props;for(!function(at,ot){var ht,Mt,ie,P,sn;for(ht in at)if(ie=ot[Mt=en(ht)],P=at[ht],Array.isArray(P)&&(ie=P[1],P=at[ht]=P[0]),ht!==Mt&&(at[Mt]=P,delete at[ht]),(sn=x.cssHooks[Mt])&&"expand"in sn)for(ht in P=sn.expand(P),delete at[Mt],P)ht in at||(at[ht]=P[ht],ot[ht]=ie);else ot[Mt]=ie}(st,Z.opts.specialEasing);O<L;O++)if(w=oo.prefilters[O].call(Z,d,st,Z.opts))return ce(w.stop)&&(x._queueHooks(Z.elem,Z.opts.queue).stop=w.stop.bind(w)),w;return x.map(st,si,Z),ce(Z.opts.start)&&Z.opts.start.call(d,Z),Z.progress(Z.opts.progress).done(Z.opts.done,Z.opts.complete).fail(Z.opts.fail).always(Z.opts.always),x.fx.timer(x.extend(q,{elem:d,anim:Z,queue:Z.opts.queue})),Z}x.Animation=x.extend(oo,{tweeners:{"*":[function(d,m){var _=this.createTween(d,m);return fs(_.elem,d,nn.exec(m),_),_}]},tweener:function(d,m){ce(d)?(m=d,d=["*"]):d=d.match(re);for(var _,w=0,A=d.length;w<A;w++)_=d[w],oo.tweeners[_]=oo.tweeners[_]||[],oo.tweeners[_].unshift(m)},prefilters:[function(d,m,_){var w,A,O,L,W,q,Z,st,at="width"in m||"height"in m,ot=this,ht={},Mt=d.style,ie=d.nodeType&&_e(d),P=Jt.get(d,"fxshow");for(w in _.queue||((L=x._queueHooks(d,"fx")).unqueued==null&&(L.unqueued=0,W=L.empty.fire,L.empty.fire=function(){L.unqueued||W()}),L.unqueued++,ot.always(function(){ot.always(function(){L.unqueued--,x.queue(d,"fx").length||L.empty.fire()})})),m)if(A=m[w],Ta.test(A)){if(delete m[w],O=O||A==="toggle",A===(ie?"hide":"show")){if(A!=="show"||!P||P[w]===void 0)continue;ie=!0}ht[w]=P&&P[w]||x.style(d,w)}if((q=!x.isEmptyObject(m))||!x.isEmptyObject(ht))for(w in at&&d.nodeType===1&&(_.overflow=[Mt.overflow,Mt.overflowX,Mt.overflowY],(Z=P&&P.display)==null&&(Z=Jt.get(d,"display")),(st=x.css(d,"display"))==="none"&&(Z?st=Z:(Nr([d],!0),Z=d.style.display||Z,st=x.css(d,"display"),Nr([d]))),(st==="inline"||st==="inline-block"&&Z!=null)&&x.css(d,"float")==="none"&&(q||(ot.done(function(){Mt.display=Z}),Z==null&&(st=Mt.display,Z=st==="none"?"":st)),Mt.display="inline-block")),_.overflow&&(Mt.overflow="hidden",ot.always(function(){Mt.overflow=_.overflow[0],Mt.overflowX=_.overflow[1],Mt.overflowY=_.overflow[2]})),q=!1,ht)q||(P?"hidden"in P&&(ie=P.hidden):P=Jt.access(d,"fxshow",{display:Z}),O&&(P.hidden=!ie),ie&&Nr([d],!0),ot.done(function(){for(w in ie||Nr([d]),Jt.remove(d,"fxshow"),ht)x.style(d,w,ht[w])})),q=si(ie?P[w]:0,w,ot),w in P||(P[w]=q.start,ie&&(q.end=q.start,q.start=0))}],prefilter:function(d,m){m?oo.prefilters.unshift(d):oo.prefilters.push(d)}}),x.speed=function(d,m,_){var w=d&&typeof d=="object"?x.extend({},d):{complete:_||!_&&m||ce(d)&&d,duration:d,easing:_&&m||m&&!ce(m)&&m};return x.fx.off?w.duration=0:typeof w.duration!="number"&&(w.duration in x.fx.speeds?w.duration=x.fx.speeds[w.duration]:w.duration=x.fx.speeds._default),w.queue!=null&&w.queue!==!0||(w.queue="fx"),w.old=w.complete,w.complete=function(){ce(w.old)&&w.old.call(this),w.queue&&x.dequeue(this,w.queue)},w},x.fn.extend({fadeTo:function(d,m,_,w){return this.filter(_e).css("opacity",0).show().end().animate({opacity:m},d,_,w)},animate:function(d,m,_,w){var A=x.isEmptyObject(d),O=x.speed(m,_,w),L=function(){var W=oo(this,x.extend({},d),O);(A||Jt.get(this,"finish"))&&W.stop(!0)};return L.finish=L,A||O.queue===!1?this.each(L):this.queue(O.queue,L)},stop:function(d,m,_){var w=function(A){var O=A.stop;delete A.stop,O(_)};return typeof d!="string"&&(_=m,m=d,d=void 0),m&&this.queue(d||"fx",[]),this.each(function(){var A=!0,O=d!=null&&d+"queueHooks",L=x.timers,W=Jt.get(this);if(O)W[O]&&W[O].stop&&w(W[O]);else for(O in W)W[O]&&W[O].stop&&Ra.test(O)&&w(W[O]);for(O=L.length;O--;)L[O].elem!==this||d!=null&&L[O].queue!==d||(L[O].anim.stop(_),A=!1,L.splice(O,1));!A&&_||x.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var m,_=Jt.get(this),w=_[d+"queue"],A=_[d+"queueHooks"],O=x.timers,L=w?w.length:0;for(_.finish=!0,x.queue(this,d,[]),A&&A.stop&&A.stop.call(this,!0),m=O.length;m--;)O[m].elem===this&&O[m].queue===d&&(O[m].anim.stop(!0),O.splice(m,1));for(m=0;m<L;m++)w[m]&&w[m].finish&&w[m].finish.call(this);delete _.finish})}}),x.each(["toggle","show","hide"],function(d,m){var _=x.fn[m];x.fn[m]=function(w,A,O){return w==null||typeof w=="boolean"?_.apply(this,arguments):this.animate(Fn(m,!0),w,A,O)}}),x.each({slideDown:Fn("show"),slideUp:Fn("hide"),slideToggle:Fn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,m){x.fn[d]=function(_,w,A){return this.animate(m,_,w,A)}}),x.timers=[],x.fx.tick=function(){var d,m=0,_=x.timers;for(Kr=Date.now();m<_.length;m++)(d=_[m])()||_[m]!==d||_.splice(m--,1);_.length||x.fx.stop(),Kr=void 0},x.fx.timer=function(d){x.timers.push(d),x.fx.start()},x.fx.interval=13,x.fx.start=function(){zs||(zs=!0,ri())},x.fx.stop=function(){zs=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(d,m){return d=x.fx&&x.fx.speeds[d]||d,m=m||"fx",this.queue(m,function(_,w){var A=le.setTimeout(_,d);w.stop=function(){le.clearTimeout(A)}})},bs=Qt.createElement("input"),Na=Qt.createElement("select").appendChild(Qt.createElement("option")),bs.type="checkbox",Xt.checkOn=bs.value!=="",Xt.optSelected=Na.selected,(bs=Qt.createElement("input")).value="t",bs.type="radio",Xt.radioValue=bs.value==="t";var ii,Us=x.expr.attrHandle;x.fn.extend({attr:function(d,m){return Do(this,x.attr,d,m,1<arguments.length)},removeAttr:function(d){return this.each(function(){x.removeAttr(this,d)})}}),x.extend({attr:function(d,m,_){var w,A,O=d.nodeType;if(O!==3&&O!==8&&O!==2)return typeof d.getAttribute>"u"?x.prop(d,m,_):(O===1&&x.isXMLDoc(d)||(A=x.attrHooks[m.toLowerCase()]||(x.expr.match.bool.test(m)?ii:void 0)),_!==void 0?_===null?void x.removeAttr(d,m):A&&"set"in A&&(w=A.set(d,_,m))!==void 0?w:(d.setAttribute(m,_+""),_):A&&"get"in A&&(w=A.get(d,m))!==null?w:(w=x.find.attr(d,m))==null?void 0:w)},attrHooks:{type:{set:function(d,m){if(!Xt.radioValue&&m==="radio"&&Lt(d,"input")){var _=d.value;return d.setAttribute("type",m),_&&(d.value=_),m}}}},removeAttr:function(d,m){var _,w=0,A=m&&m.match(re);if(A&&d.nodeType===1)for(;_=A[w++];)d.removeAttribute(_)}}),ii={set:function(d,m,_){return m===!1?x.removeAttr(d,_):d.setAttribute(_,_),_}},x.each(x.expr.match.bool.source.match(/\w+/g),function(d,m){var _=Us[m]||x.find.attr;Us[m]=function(w,A,O){var L,W,q=A.toLowerCase();return O||(W=Us[q],Us[q]=L,L=_(w,A,O)!=null?q:null,Us[q]=W),L}});var _l=/^(?:input|select|textarea|button)$/i,Oa=/^(?:a|area)$/i;function Zo(d){return(d.match(re)||[]).join(" ")}function Bn(d){return d.getAttribute&&d.getAttribute("class")||""}function $i(d){return Array.isArray(d)?d:typeof d=="string"&&d.match(re)||[]}x.fn.extend({prop:function(d,m){return Do(this,x.prop,d,m,1<arguments.length)},removeProp:function(d){return this.each(function(){delete this[x.propFix[d]||d]})}}),x.extend({prop:function(d,m,_){var w,A,O=d.nodeType;if(O!==3&&O!==8&&O!==2)return O===1&&x.isXMLDoc(d)||(m=x.propFix[m]||m,A=x.propHooks[m]),_!==void 0?A&&"set"in A&&(w=A.set(d,_,m))!==void 0?w:d[m]=_:A&&"get"in A&&(w=A.get(d,m))!==null?w:d[m]},propHooks:{tabIndex:{get:function(d){var m=x.find.attr(d,"tabindex");return m?parseInt(m,10):_l.test(d.nodeName)||Oa.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Xt.optSelected||(x.propHooks.selected={get:function(d){var m=d.parentNode;return m&&m.parentNode&&m.parentNode.selectedIndex,null},set:function(d){var m=d.parentNode;m&&(m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(d){var m,_,w,A,O,L;return ce(d)?this.each(function(W){x(this).addClass(d.call(this,W,Bn(this)))}):(m=$i(d)).length?this.each(function(){if(w=Bn(this),_=this.nodeType===1&&" "+Zo(w)+" "){for(O=0;O<m.length;O++)A=m[O],_.indexOf(" "+A+" ")<0&&(_+=A+" ");L=Zo(_),w!==L&&this.setAttribute("class",L)}}):this},removeClass:function(d){var m,_,w,A,O,L;return ce(d)?this.each(function(W){x(this).removeClass(d.call(this,W,Bn(this)))}):arguments.length?(m=$i(d)).length?this.each(function(){if(w=Bn(this),_=this.nodeType===1&&" "+Zo(w)+" "){for(O=0;O<m.length;O++)for(A=m[O];-1<_.indexOf(" "+A+" ");)_=_.replace(" "+A+" "," ");L=Zo(_),w!==L&&this.setAttribute("class",L)}}):this:this.attr("class","")},toggleClass:function(d,m){var _,w,A,O,L=typeof d,W=L==="string"||Array.isArray(d);return ce(d)?this.each(function(q){x(this).toggleClass(d.call(this,q,Bn(this),m),m)}):typeof m=="boolean"&&W?m?this.addClass(d):this.removeClass(d):(_=$i(d),this.each(function(){if(W)for(O=x(this),A=0;A<_.length;A++)w=_[A],O.hasClass(w)?O.removeClass(w):O.addClass(w);else d!==void 0&&L!=="boolean"||((w=Bn(this))&&Jt.set(this,"__className__",w),this.setAttribute&&this.setAttribute("class",w||d===!1?"":Jt.get(this,"__className__")||""))}))},hasClass:function(d){var m,_,w=0;for(m=" "+d+" ";_=this[w++];)if(_.nodeType===1&&-1<(" "+Zo(Bn(_))+" ").indexOf(m))return!0;return!1}});var ai=/\r/g;x.fn.extend({val:function(d){var m,_,w,A=this[0];return arguments.length?(w=ce(d),this.each(function(O){var L;this.nodeType===1&&((L=w?d.call(this,O,x(this).val()):d)==null?L="":typeof L=="number"?L+="":Array.isArray(L)&&(L=x.map(L,function(W){return W==null?"":W+""})),(m=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in m&&m.set(this,L,"value")!==void 0||(this.value=L))})):A?(m=x.valHooks[A.type]||x.valHooks[A.nodeName.toLowerCase()])&&"get"in m&&(_=m.get(A,"value"))!==void 0?_:typeof(_=A.value)=="string"?_.replace(ai,""):_??"":void 0}}),x.extend({valHooks:{option:{get:function(d){var m=x.find.attr(d,"value");return m??Zo(x.text(d))}},select:{get:function(d){var m,_,w,A=d.options,O=d.selectedIndex,L=d.type==="select-one",W=L?null:[],q=L?O+1:A.length;for(w=O<0?q:L?O:0;w<q;w++)if(((_=A[w]).selected||w===O)&&!_.disabled&&(!_.parentNode.disabled||!Lt(_.parentNode,"optgroup"))){if(m=x(_).val(),L)return m;W.push(m)}return W},set:function(d,m){for(var _,w,A=d.options,O=x.makeArray(m),L=A.length;L--;)((w=A[L]).selected=-1<x.inArray(x.valHooks.option.get(w),O))&&(_=!0);return _||(d.selectedIndex=-1),O}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(d,m){if(Array.isArray(m))return d.checked=-1<x.inArray(x(d).val(),m)}},Xt.checkOn||(x.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})});var qn=le.location,Bo={guid:Date.now()},Jo=/\?/;x.parseXML=function(d){var m,_;if(!d||typeof d!="string")return null;try{m=new le.DOMParser().parseFromString(d,"text/xml")}catch{}return _=m&&m.getElementsByTagName("parsererror")[0],m&&!_||x.error("Invalid XML: "+(_?x.map(_.childNodes,function(w){return w.textContent}).join(`
`):d)),m};var Hi=/^(?:focusinfocus|focusoutblur)$/,fe=function(d){d.stopPropagation()};x.extend(x.event,{trigger:function(d,m,_,w){var A,O,L,W,q,Z,st,at,ot=[_||Qt],ht=Ro.call(d,"type")?d.type:d,Mt=Ro.call(d,"namespace")?d.namespace.split("."):[];if(O=at=L=_=_||Qt,_.nodeType!==3&&_.nodeType!==8&&!Hi.test(ht+x.event.triggered)&&(-1<ht.indexOf(".")&&(ht=(Mt=ht.split(".")).shift(),Mt.sort()),q=ht.indexOf(":")<0&&"on"+ht,(d=d[x.expando]?d:new x.Event(ht,typeof d=="object"&&d)).isTrigger=w?2:3,d.namespace=Mt.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+Mt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=_),m=m==null?[d]:x.makeArray(m,[d]),st=x.event.special[ht]||{},w||!st.trigger||st.trigger.apply(_,m)!==!1)){if(!w&&!st.noBubble&&!Oe(_)){for(W=st.delegateType||ht,Hi.test(W+ht)||(O=O.parentNode);O;O=O.parentNode)ot.push(O),L=O;L===(_.ownerDocument||Qt)&&ot.push(L.defaultView||L.parentWindow||le)}for(A=0;(O=ot[A++])&&!d.isPropagationStopped();)at=O,d.type=1<A?W:st.bindType||ht,(Z=(Jt.get(O,"events")||Object.create(null))[d.type]&&Jt.get(O,"handle"))&&Z.apply(O,m),(Z=q&&O[q])&&Z.apply&&Jn(O)&&(d.result=Z.apply(O,m),d.result===!1&&d.preventDefault());return d.type=ht,w||d.isDefaultPrevented()||st._default&&st._default.apply(ot.pop(),m)!==!1||!Jn(_)||q&&ce(_[ht])&&!Oe(_)&&((L=_[q])&&(_[q]=null),x.event.triggered=ht,d.isPropagationStopped()&&at.addEventListener(ht,fe),_[ht](),d.isPropagationStopped()&&at.removeEventListener(ht,fe),x.event.triggered=void 0,L&&(_[q]=L)),d.result}},simulate:function(d,m,_){var w=x.extend(new x.Event,_,{type:d,isSimulated:!0});x.event.trigger(w,null,m)}}),x.fn.extend({trigger:function(d,m){return this.each(function(){x.event.trigger(d,m,this)})},triggerHandler:function(d,m){var _=this[0];if(_)return x.event.trigger(d,m,_,!0)}});var li=/\[\]$/,ci=/\r?\n/g,di=/^(?:submit|button|image|reset|file)$/i,lt=/^(?:input|select|textarea|keygen)/i;function Lr(d,m,_,w){var A;if(Array.isArray(m))x.each(m,function(O,L){_||li.test(d)?w(d,L):Lr(d+"["+(typeof L=="object"&&L!=null?O:"")+"]",L,_,w)});else if(_||he(m)!=="object")w(d,m);else for(A in m)Lr(d+"["+A+"]",m[A],_,w)}x.param=function(d,m){var _,w=[],A=function(O,L){var W=ce(L)?L():L;w[w.length]=encodeURIComponent(O)+"="+encodeURIComponent(W??"")};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!x.isPlainObject(d))x.each(d,function(){A(this.name,this.value)});else for(_ in d)Lr(_,d[_],m,A);return w.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=x.prop(this,"elements");return d?x.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!x(this).is(":disabled")&&lt.test(this.nodeName)&&!di.test(d)&&(this.checked||!Or.test(d))}).map(function(d,m){var _=x(this).val();return _==null?null:Array.isArray(_)?x.map(_,function(w){return{name:m.name,value:w.replace(ci,`\r
`)}}):{name:m.name,value:_.replace(ci,`\r
`)}}).get()}});var Da=/%20/g,gn=/#.*$/,Yr=/([?&])_=[^&]*/,Cl=/^(.*?):[ \t]*([^\r\n]*)$/gm,La=/^(?:GET|HEAD)$/,wl=/^\/\//,Ba={},ue={},zi="*/".concat("*"),Xr=Qt.createElement("a");function vs(d){return function(m,_){typeof m!="string"&&(_=m,m="*");var w,A=0,O=m.toLowerCase().match(re)||[];if(ce(_))for(;w=O[A++];)w[0]==="+"?(w=w.slice(1)||"*",(d[w]=d[w]||[]).unshift(_)):(d[w]=d[w]||[]).push(_)}}function En(d,m,_,w){var A={},O=d===ue;function L(W){var q;return A[W]=!0,x.each(d[W]||[],function(Z,st){var at=st(m,_,w);return typeof at!="string"||O||A[at]?O?!(q=at):void 0:(m.dataTypes.unshift(at),L(at),!1)}),q}return L(m.dataTypes[0])||!A["*"]&&L("*")}function Cn(d,m){var _,w,A=x.ajaxSettings.flatOptions||{};for(_ in m)m[_]!==void 0&&((A[_]?d:w||(w={}))[_]=m[_]);return w&&x.extend(!0,d,w),d}Xr.href=qn.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(qn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,m){return m?Cn(Cn(d,x.ajaxSettings),m):Cn(x.ajaxSettings,d)},ajaxPrefilter:vs(Ba),ajaxTransport:vs(ue),ajax:function(d,m){typeof d=="object"&&(m=d,d=void 0),m=m||{};var _,w,A,O,L,W,q,Z,st,at,ot=x.ajaxSetup({},m),ht=ot.context||ot,Mt=ot.context&&(ht.nodeType||ht.jquery)?x(ht):x.event,ie=x.Deferred(),P=x.Callbacks("once memory"),sn=ot.statusCode||{},bn={},fn={},Mo="canceled",Ft={readyState:0,getResponseHeader:function(ke){var Pe;if(q){if(!O)for(O={};Pe=Cl.exec(A);)O[Pe[1].toLowerCase()+" "]=(O[Pe[1].toLowerCase()+" "]||[]).concat(Pe[2]);Pe=O[ke.toLowerCase()+" "]}return Pe==null?null:Pe.join(", ")},getAllResponseHeaders:function(){return q?A:null},setRequestHeader:function(ke,Pe){return q==null&&(ke=fn[ke.toLowerCase()]=fn[ke.toLowerCase()]||ke,bn[ke]=Pe),this},overrideMimeType:function(ke){return q==null&&(ot.mimeType=ke),this},statusCode:function(ke){var Pe;if(ke)if(q)Ft.always(ke[Ft.status]);else for(Pe in ke)sn[Pe]=[sn[Pe],ke[Pe]];return this},abort:function(ke){var Pe=ke||Mo;return _&&_.abort(Pe),mn(0,Pe),this}};if(ie.promise(Ft),ot.url=((d||ot.url||qn.href)+"").replace(wl,qn.protocol+"//"),ot.type=m.method||m.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(re)||[""],ot.crossDomain==null){W=Qt.createElement("a");try{W.href=ot.url,W.href=W.href,ot.crossDomain=Xr.protocol+"//"+Xr.host!=W.protocol+"//"+W.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&typeof ot.data!="string"&&(ot.data=x.param(ot.data,ot.traditional)),En(Ba,ot,m,Ft),q)return Ft;for(st in(Z=x.event&&ot.global)&&x.active++==0&&x.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!La.test(ot.type),w=ot.url.replace(gn,""),ot.hasContent?ot.data&&ot.processData&&(ot.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ot.data=ot.data.replace(Da,"+")):(at=ot.url.slice(w.length),ot.data&&(ot.processData||typeof ot.data=="string")&&(w+=(Jo.test(w)?"&":"?")+ot.data,delete ot.data),ot.cache===!1&&(w=w.replace(Yr,"$1"),at=(Jo.test(w)?"&":"?")+"_="+Bo.guid+++at),ot.url=w+at),ot.ifModified&&(x.lastModified[w]&&Ft.setRequestHeader("If-Modified-Since",x.lastModified[w]),x.etag[w]&&Ft.setRequestHeader("If-None-Match",x.etag[w])),(ot.data&&ot.hasContent&&ot.contentType!==!1||m.contentType)&&Ft.setRequestHeader("Content-Type",ot.contentType),Ft.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+(ot.dataTypes[0]!=="*"?", "+zi+"; q=0.01":""):ot.accepts["*"]),ot.headers)Ft.setRequestHeader(st,ot.headers[st]);if(ot.beforeSend&&(ot.beforeSend.call(ht,Ft,ot)===!1||q))return Ft.abort();if(Mo="abort",P.add(ot.complete),Ft.done(ot.success),Ft.fail(ot.error),_=En(ue,ot,m,Ft)){if(Ft.readyState=1,Z&&Mt.trigger("ajaxSend",[Ft,ot]),q)return Ft;ot.async&&0<ot.timeout&&(L=le.setTimeout(function(){Ft.abort("timeout")},ot.timeout));try{q=!1,_.send(bn,mn)}catch(ke){if(q)throw ke;mn(-1,ke)}}else mn(-1,"No Transport");function mn(ke,Pe,so,$n){var io,ys,Pn,wn,Gr,ao=Pe;q||(q=!0,L&&le.clearTimeout(L),_=void 0,A=$n||"",Ft.readyState=0<ke?4:0,io=200<=ke&&ke<300||ke===304,so&&(wn=function(Ce,He,kn){for(var Io,Sn,te,Me,Ge=Ce.contents,We=Ce.dataTypes;We[0]==="*";)We.shift(),Io===void 0&&(Io=Ce.mimeType||He.getResponseHeader("Content-Type"));if(Io){for(Sn in Ge)if(Ge[Sn]&&Ge[Sn].test(Io)){We.unshift(Sn);break}}if(We[0]in kn)te=We[0];else{for(Sn in kn){if(!We[0]||Ce.converters[Sn+" "+We[0]]){te=Sn;break}Me||(Me=Sn)}te=te||Me}if(te)return te!==We[0]&&We.unshift(te),kn[te]}(ot,Ft,so)),!io&&-1<x.inArray("script",ot.dataTypes)&&x.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),wn=function(Ce,He,kn,Io){var Sn,te,Me,Ge,We,Fo={},_s=Ce.dataTypes.slice();if(_s[1])for(Me in Ce.converters)Fo[Me.toLowerCase()]=Ce.converters[Me];for(te=_s.shift();te;)if(Ce.responseFields[te]&&(kn[Ce.responseFields[te]]=He),!We&&Io&&Ce.dataFilter&&(He=Ce.dataFilter(He,Ce.dataType)),We=te,te=_s.shift()){if(te==="*")te=We;else if(We!=="*"&&We!==te){if(!(Me=Fo[We+" "+te]||Fo["* "+te])){for(Sn in Fo)if((Ge=Sn.split(" "))[1]===te&&(Me=Fo[We+" "+Ge[0]]||Fo["* "+Ge[0]])){Me===!0?Me=Fo[Sn]:Fo[Sn]!==!0&&(te=Ge[0],_s.unshift(Ge[1]));break}}if(Me!==!0)if(Me&&Ce.throws)He=Me(He);else try{He=Me(He)}catch(lo){return{state:"parsererror",error:Me?lo:"No conversion from "+We+" to "+te}}}}return{state:"success",data:He}}(ot,wn,Ft,io),io?(ot.ifModified&&((Gr=Ft.getResponseHeader("Last-Modified"))&&(x.lastModified[w]=Gr),(Gr=Ft.getResponseHeader("etag"))&&(x.etag[w]=Gr)),ke===204||ot.type==="HEAD"?ao="nocontent":ke===304?ao="notmodified":(ao=wn.state,ys=wn.data,io=!(Pn=wn.error))):(Pn=ao,!ke&&ao||(ao="error",ke<0&&(ke=0))),Ft.status=ke,Ft.statusText=(Pe||ao)+"",io?ie.resolveWith(ht,[ys,ao,Ft]):ie.rejectWith(ht,[Ft,ao,Pn]),Ft.statusCode(sn),sn=void 0,Z&&Mt.trigger(io?"ajaxSuccess":"ajaxError",[Ft,ot,io?ys:Pn]),P.fireWith(ht,[Ft,ao]),Z&&(Mt.trigger("ajaxComplete",[Ft,ot]),--x.active||x.event.trigger("ajaxStop")))}return Ft},getJSON:function(d,m,_){return x.get(d,m,_,"json")},getScript:function(d,m){return x.get(d,void 0,m,"script")}}),x.each(["get","post"],function(d,m){x[m]=function(_,w,A,O){return ce(w)&&(O=O||A,A=w,w=void 0),x.ajax(x.extend({url:_,type:m,dataType:O,data:w,success:A},x.isPlainObject(_)&&_))}}),x.ajaxPrefilter(function(d){var m;for(m in d.headers)m.toLowerCase()==="content-type"&&(d.contentType=d.headers[m]||"")}),x._evalUrl=function(d,m,_){return x.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){x.globalEval(w,m,_)}})},x.fn.extend({wrapAll:function(d){var m;return this[0]&&(ce(d)&&(d=d.call(this[0])),m=x(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&m.insertBefore(this[0]),m.map(function(){for(var _=this;_.firstElementChild;)_=_.firstElementChild;return _}).append(this)),this},wrapInner:function(d){return ce(d)?this.each(function(m){x(this).wrapInner(d.call(this,m))}):this.each(function(){var m=x(this),_=m.contents();_.length?_.wrapAll(d):m.append(d)})},wrap:function(d){var m=ce(d);return this.each(function(_){x(this).wrapAll(m?d.call(this,_):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(d){return!x.expr.pseudos.visible(d)},x.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new le.XMLHttpRequest}catch{}};var xl={0:200,1223:204},Po=x.ajaxSettings.xhr();Xt.cors=!!Po&&"withCredentials"in Po,Xt.ajax=Po=!!Po,x.ajaxTransport(function(d){var m,_;if(Xt.cors||Po&&!d.crossDomain)return{send:function(w,A){var O,L=d.xhr();if(L.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(O in d.xhrFields)L[O]=d.xhrFields[O];for(O in d.mimeType&&L.overrideMimeType&&L.overrideMimeType(d.mimeType),d.crossDomain||w["X-Requested-With"]||(w["X-Requested-With"]="XMLHttpRequest"),w)L.setRequestHeader(O,w[O]);m=function(W){return function(){m&&(m=_=L.onload=L.onerror=L.onabort=L.ontimeout=L.onreadystatechange=null,W==="abort"?L.abort():W==="error"?typeof L.status!="number"?A(0,"error"):A(L.status,L.statusText):A(xl[L.status]||L.status,L.statusText,(L.responseType||"text")!=="text"||typeof L.responseText!="string"?{binary:L.response}:{text:L.responseText},L.getAllResponseHeaders()))}},L.onload=m(),_=L.onerror=L.ontimeout=m("error"),L.onabort!==void 0?L.onabort=_:L.onreadystatechange=function(){L.readyState===4&&le.setTimeout(function(){m&&_()})},m=m("abort");try{L.send(d.hasContent&&d.data||null)}catch(W){if(m)throw W}},abort:function(){m&&m()}}}),x.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return x.globalEval(d),d}}}),x.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),x.ajaxTransport("script",function(d){var m,_;if(d.crossDomain||d.scriptAttrs)return{send:function(w,A){m=x("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",_=function(O){m.remove(),_=null,O&&A(O.type==="error"?404:200,O.type)}),Qt.head.appendChild(m[0])},abort:function(){_&&_()}}});var ro,ui=[],on=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=ui.pop()||x.expando+"_"+Bo.guid++;return this[d]=!0,d}}),x.ajaxPrefilter("json jsonp",function(d,m,_){var w,A,O,L=d.jsonp!==!1&&(on.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&on.test(d.data)&&"data");if(L||d.dataTypes[0]==="jsonp")return w=d.jsonpCallback=ce(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,L?d[L]=d[L].replace(on,"$1"+w):d.jsonp!==!1&&(d.url+=(Jo.test(d.url)?"&":"?")+d.jsonp+"="+w),d.converters["script json"]=function(){return O||x.error(w+" was not called"),O[0]},d.dataTypes[0]="json",A=le[w],le[w]=function(){O=arguments},_.always(function(){A===void 0?x(le).removeProp(w):le[w]=A,d[w]&&(d.jsonpCallback=m.jsonpCallback,ui.push(w)),O&&ce(A)&&A(O[0]),O=A=void 0}),"script"}),Xt.createHTMLDocument=((ro=Qt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",ro.childNodes.length===2),x.parseHTML=function(d,m,_){return typeof d!="string"?[]:(typeof m=="boolean"&&(_=m,m=!1),m||(Xt.createHTMLDocument?((w=(m=Qt.implementation.createHTMLDocument("")).createElement("base")).href=Qt.location.href,m.head.appendChild(w)):m=Qt),O=!_&&[],(A=E.exec(d))?[m.createElement(A[1])]:(A=ni([d],m,O),O&&O.length&&x(O).remove(),x.merge([],A.childNodes)));var w,A,O},x.fn.load=function(d,m,_){var w,A,O,L=this,W=d.indexOf(" ");return-1<W&&(w=Zo(d.slice(W)),d=d.slice(0,W)),ce(m)?(_=m,m=void 0):m&&typeof m=="object"&&(A="POST"),0<L.length&&x.ajax({url:d,type:A||"GET",dataType:"html",data:m}).done(function(q){O=arguments,L.html(w?x("<div>").append(x.parseHTML(q)).find(w):q)}).always(_&&function(q,Z){L.each(function(){_.apply(this,O||[q.responseText,Z,q])})}),this},x.expr.pseudos.animated=function(d){return x.grep(x.timers,function(m){return d===m.elem}).length},x.offset={setOffset:function(d,m,_){var w,A,O,L,W,q,Z=x.css(d,"position"),st=x(d),at={};Z==="static"&&(d.style.position="relative"),W=st.offset(),O=x.css(d,"top"),q=x.css(d,"left"),(Z==="absolute"||Z==="fixed")&&-1<(O+q).indexOf("auto")?(L=(w=st.position()).top,A=w.left):(L=parseFloat(O)||0,A=parseFloat(q)||0),ce(m)&&(m=m.call(d,_,x.extend({},W))),m.top!=null&&(at.top=m.top-W.top+L),m.left!=null&&(at.left=m.left-W.left+A),"using"in m?m.using.call(d,at):st.css(at)}},x.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(A){x.offset.setOffset(this,d,A)});var m,_,w=this[0];return w?w.getClientRects().length?(m=w.getBoundingClientRect(),_=w.ownerDocument.defaultView,{top:m.top+_.pageYOffset,left:m.left+_.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var d,m,_,w=this[0],A={top:0,left:0};if(x.css(w,"position")==="fixed")m=w.getBoundingClientRect();else{for(m=this.offset(),_=w.ownerDocument,d=w.offsetParent||_.documentElement;d&&(d===_.body||d===_.documentElement)&&x.css(d,"position")==="static";)d=d.parentNode;d&&d!==w&&d.nodeType===1&&((A=x(d).offset()).top+=x.css(d,"borderTopWidth",!0),A.left+=x.css(d,"borderLeftWidth",!0))}return{top:m.top-A.top-x.css(w,"marginTop",!0),left:m.left-A.left-x.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&x.css(d,"position")==="static";)d=d.offsetParent;return d||to})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,m){var _=m==="pageYOffset";x.fn[d]=function(w){return Do(this,function(A,O,L){var W;if(Oe(A)?W=A:A.nodeType===9&&(W=A.defaultView),L===void 0)return W?W[m]:A[O];W?W.scrollTo(_?W.pageXOffset:L,_?L:W.pageYOffset):A[O]=L},d,w,arguments.length)}}),x.each(["top","left"],function(d,m){x.cssHooks[m]=wo(Xt.pixelPosition,function(_,w){if(w)return w=hs(_,m),Xe.test(w)?x(_).position()[m]+"px":w})}),x.each({Height:"height",Width:"width"},function(d,m){x.each({padding:"inner"+d,content:m,"":"outer"+d},function(_,w){x.fn[w]=function(A,O){var L=arguments.length&&(_||typeof A!="boolean"),W=_||(A===!0||O===!0?"margin":"border");return Do(this,function(q,Z,st){var at;return Oe(q)?w.indexOf("outer")===0?q["inner"+d]:q.document.documentElement["client"+d]:q.nodeType===9?(at=q.documentElement,Math.max(q.body["scroll"+d],at["scroll"+d],q.body["offset"+d],at["offset"+d],at["client"+d])):st===void 0?x.css(q,Z,W):x.style(q,Z,st,W)},m,L?A:void 0,L)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,m){x.fn[m]=function(_){return this.on(m,_)}}),x.fn.extend({bind:function(d,m,_){return this.on(d,null,m,_)},unbind:function(d,m){return this.off(d,null,m)},delegate:function(d,m,_,w){return this.on(m,d,_,w)},undelegate:function(d,m,_){return arguments.length===1?this.off(d,"**"):this.off(m,d||"**",_)},hover:function(d,m){return this.on("mouseenter",d).on("mouseleave",m||d)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,m){x.fn[m]=function(_,w){return 0<arguments.length?this.on(m,null,_,w):this.trigger(m)}});var tr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;x.proxy=function(d,m){var _,w,A;if(typeof m=="string"&&(_=d[m],m=d,d=_),ce(d))return w=Dn.call(arguments,2),(A=function(){return d.apply(m||this,w.concat(Dn.call(arguments)))}).guid=d.guid=d.guid||x.guid++,A},x.holdReady=function(d){d?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=Lt,x.isFunction=ce,x.isWindow=Oe,x.camelCase=en,x.type=he,x.now=Date.now,x.isNumeric=function(d){var m=x.type(d);return(m==="number"||m==="string")&&!isNaN(d-parseFloat(d))},x.trim=function(d){return d==null?"":(d+"").replace(tr,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return x});var jn=le.jQuery,er=le.$;return x.noConflict=function(d){return le.$===x&&(le.$=er),d&&le.jQuery===x&&(le.jQuery=jn),x},typeof Zn>"u"&&(le.jQuery=le.$=x),x});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(le,Zn){typeof exports=="object"&&typeof module<"u"?module.exports=Zn(require("@popperjs/core")):typeof define=="function"&&define.amd?define(["@popperjs/core"],Zn):(le=typeof globalThis<"u"?globalThis:le||self).bootstrap=Zn(le.Popper)})(this,function(le){"use strict";function Zn(V){const v=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(V){for(const R in V)if(R!=="default"){const K=Object.getOwnPropertyDescriptor(V,R);Object.defineProperty(v,R,K.get?K:{enumerable:!0,get:()=>V[R]})}}return v.default=V,Object.freeze(v)}const cn=Zn(le),qo=new Map,Dn={set(V,v,R){qo.has(V)||qo.set(V,new Map);const K=qo.get(V);K.has(v)||K.size===0?K.set(v,R):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(K.keys())[0]}.`)},get:(V,v)=>qo.has(V)&&qo.get(V).get(v)||null,remove(V,v){if(!qo.has(V))return;const R=qo.get(V);R.delete(v),R.size===0&&qo.delete(V)}},cs="transitionend",Ms=V=>(V&&window.CSS&&window.CSS.escape&&(V=V.replace(/#([^\s"#']+)/g,(v,R)=>`#${CSS.escape(R)}`)),V),No=V=>{V.dispatchEvent(new Event(cs))},zn=V=>!(!V||typeof V!="object")&&(V.jquery!==void 0&&(V=V[0]),V.nodeType!==void 0),To=V=>zn(V)?V.jquery?V[0]:V:typeof V=="string"&&V.length>0?document.querySelector(Ms(V)):null,Ro=V=>{if(!zn(V)||V.getClientRects().length===0)return!1;const v=getComputedStyle(V).getPropertyValue("visibility")==="visible",R=V.closest("details:not([open])");if(!R)return v;if(R!==V){const K=V.closest("summary");if(K&&K.parentNode!==R||K===null)return!1}return v},yo=V=>!V||V.nodeType!==Node.ELEMENT_NODE||!!V.classList.contains("disabled")||(V.disabled!==void 0?V.disabled:V.hasAttribute("disabled")&&V.getAttribute("disabled")!=="false"),Dt=V=>{if(!document.documentElement.attachShadow)return null;if(typeof V.getRootNode=="function"){const v=V.getRootNode();return v instanceof ShadowRoot?v:null}return V instanceof ShadowRoot?V:V.parentNode?Dt(V.parentNode):null},Xt=()=>{},ce=V=>{V.offsetHeight},Oe=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Qt=[],dn=()=>document.documentElement.dir==="rtl",De=V=>{var v;v=()=>{const R=Oe();if(R){const K=V.NAME,dt=R.fn[K];R.fn[K]=V.jQueryInterface,R.fn[K].Constructor=V,R.fn[K].noConflict=()=>(R.fn[K]=dt,V.jQueryInterface)}},document.readyState==="loading"?(Qt.length||document.addEventListener("DOMContentLoaded",()=>{for(const R of Qt)R()}),Qt.push(v)):v()},he=(V,v=[],R=V)=>typeof V=="function"?V(...v):R,gt=(V,v,R=!0)=>{if(!R)return void he(V);const K=(Zt=>{if(!Zt)return 0;let{transitionDuration:Ae,transitionDelay:ge}=window.getComputedStyle(Zt);const Mn=Number.parseFloat(Ae),Le=Number.parseFloat(ge);return Mn||Le?(Ae=Ae.split(",")[0],ge=ge.split(",")[0],1e3*(Number.parseFloat(Ae)+Number.parseFloat(ge))):0})(v)+5;let dt=!1;const It=({target:Zt})=>{Zt===v&&(dt=!0,v.removeEventListener(cs,It),he(V))};v.addEventListener(cs,It),setTimeout(()=>{dt||No(v)},K)},be=(V,v,R,K)=>{const dt=V.length;let It=V.indexOf(v);return It===-1?!R&&K?V[dt-1]:V[0]:(It+=R?1:-1,K&&(It=(It+dt)%dt),V[Math.max(0,Math.min(It,dt-1))])},x=/[^.]*(?=\..*)\.|.*/,Er=/\..*/,Lt=/::\d+$/,_o={};let Di=1;const yt={mouseenter:"mouseover",mouseleave:"mouseout"},me=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Hr(V,v){return v&&`${v}::${Di++}`||V.uidEvent||Di++}function St(V){const v=Hr(V);return V.uidEvent=v,_o[v]=_o[v]||{},_o[v]}function ds(V,v,R=null){return Object.values(V).find(K=>K.callable===v&&K.delegationSelector===R)}function Oo(V,v,R){const K=typeof v=="string",dt=K?R:v||R;let It=ze(V);return me.has(It)||(It=V),[K,dt,It]}function us(V,v,R,K,dt){if(typeof v!="string"||!V)return;let[It,Zt,Ae]=Oo(v,R,K);v in yt&&(Zt=(ws=>function(nr){if(!nr.relatedTarget||nr.relatedTarget!==nr.delegateTarget&&!nr.delegateTarget.contains(nr.relatedTarget))return ws.call(this,nr)})(Zt));const ge=St(V),Mn=ge[Ae]||(ge[Ae]={}),Le=ds(Mn,Zt,It?R:null);if(Le)return void(Le.oneOff=Le.oneOff&&dt);const $o=Hr(Zt,v.replace(x,"")),ts=It?function(xo,ws,nr){return function fr(Ws){const Tt=xo.querySelectorAll(ws);for(let{target:po}=Ws;po&&po!==this;po=po.parentNode)for(const Ui of Tt)if(Ui===po)return zr(Ws,{delegateTarget:po}),fr.oneOff&&E.off(xo,Ws.type,ws,nr),nr.apply(po,[Ws])}}(V,R,Zt):function(xo,ws){return function nr(fr){return zr(fr,{delegateTarget:xo}),nr.oneOff&&E.off(xo,fr.type,ws),ws.apply(xo,[fr])}}(V,Zt);ts.delegationSelector=It?R:null,ts.callable=Zt,ts.oneOff=dt,ts.uidEvent=$o,Mn[$o]=ts,V.addEventListener(Ae,ts,It)}function Co(V,v,R,K,dt){const It=ds(v[R],K,dt);It&&(V.removeEventListener(R,It,!!dt),delete v[R][It.uidEvent])}function Be(V,v,R,K){const dt=v[R]||{};for(const[It,Zt]of Object.entries(dt))It.includes(K)&&Co(V,v,R,Zt.callable,Zt.delegationSelector)}function ze(V){return V=V.replace(Er,""),yt[V]||V}const E={on(V,v,R,K){us(V,v,R,K,!1)},one(V,v,R,K){us(V,v,R,K,!0)},off(V,v,R,K){if(typeof v!="string"||!V)return;const[dt,It,Zt]=Oo(v,R,K),Ae=Zt!==v,ge=St(V),Mn=ge[Zt]||{},Le=v.startsWith(".");if(It===void 0){if(Le)for(const $o of Object.keys(ge))Be(V,ge,$o,v.slice(1));for(const[$o,ts]of Object.entries(Mn)){const xo=$o.replace(Lt,"");Ae&&!v.includes(xo)||Co(V,ge,Zt,ts.callable,ts.delegationSelector)}}else{if(!Object.keys(Mn).length)return;Co(V,ge,Zt,It,dt?R:null)}},trigger(V,v,R){if(typeof v!="string"||!V)return null;const K=Oe();let dt=null,It=!0,Zt=!0,Ae=!1;v!==ze(v)&&K&&(dt=K.Event(v,R),K(V).trigger(dt),It=!dt.isPropagationStopped(),Zt=!dt.isImmediatePropagationStopped(),Ae=dt.isDefaultPrevented());const ge=zr(new Event(v,{bubbles:It,cancelable:!0}),R);return Ae&&ge.preventDefault(),Zt&&V.dispatchEvent(ge),ge.defaultPrevented&&dt&&dt.preventDefault(),ge}};function zr(V,v={}){for(const[R,K]of Object.entries(v))try{V[R]=K}catch{Object.defineProperty(V,R,{configurable:!0,get:()=>K})}return V}function Li(V){if(V==="true")return!0;if(V==="false")return!1;if(V===Number(V).toString())return Number(V);if(V===""||V==="null")return null;if(typeof V!="string")return V;try{return JSON.parse(decodeURIComponent(V))}catch{return V}}function Bi(V){return V.replace(/[A-Z]/g,v=>`-${v.toLowerCase()}`)}const Wo={setDataAttribute(V,v,R){V.setAttribute(`data-bs-${Bi(v)}`,R)},removeDataAttribute(V,v){V.removeAttribute(`data-bs-${Bi(v)}`)},getDataAttributes(V){if(!V)return{};const v={},R=Object.keys(V.dataset).filter(K=>K.startsWith("bs")&&!K.startsWith("bsConfig"));for(const K of R){let dt=K.replace(/^bs/,"");dt=dt.charAt(0).toLowerCase()+dt.slice(1,dt.length),v[dt]=Li(V.dataset[K])}return v},getDataAttribute:(V,v)=>Li(V.getAttribute(`data-bs-${Bi(v)}`))};class pe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(v){return v=this._mergeConfigObj(v),v=this._configAfterMerge(v),this._typeCheckConfig(v),v}_configAfterMerge(v){return v}_mergeConfigObj(v,R){const K=zn(R)?Wo.getDataAttribute(R,"config"):{};return{...this.constructor.Default,...typeof K=="object"?K:{},...zn(R)?Wo.getDataAttributes(R):{},...typeof v=="object"?v:{}}}_typeCheckConfig(v,R=this.constructor.DefaultType){for(const[dt,It]of Object.entries(R)){const Zt=v[dt],Ae=zn(Zt)?"element":(K=Zt)==null?`${K}`:Object.prototype.toString.call(K).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(It).test(Ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${dt}" provided type "${Ae}" but expected type "${It}".`)}var K}}class ve extends pe{constructor(v,R){super(),(v=To(v))&&(this._element=v,this._config=this._getConfig(R),Dn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Dn.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(const v of Object.getOwnPropertyNames(this))this[v]=null}_queueCallback(v,R,K=!0){gt(v,R,K)}_getConfig(v){return v=this._mergeConfigObj(v,this._element),v=this._configAfterMerge(v),this._typeCheckConfig(v),v}static getInstance(v){return Dn.get(To(v),this.DATA_KEY)}static getOrCreateInstance(v,R={}){return this.getInstance(v)||new this(v,typeof R=="object"?R:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(v){return`${v}${this.EVENT_KEY}`}}const re=V=>{let v=V.getAttribute("data-bs-target");if(!v||v==="#"){let R=V.getAttribute("href");if(!R||!R.includes("#")&&!R.startsWith("."))return null;R.includes("#")&&!R.startsWith("#")&&(R=`#${R.split("#")[1]}`),v=R&&R!=="#"?R.trim():null}return v?v.split(",").map(R=>Ms(R)).join(","):null},Y={find:(V,v=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(v,V)),findOne:(V,v=document.documentElement)=>Element.prototype.querySelector.call(v,V),children:(V,v)=>[].concat(...V.children).filter(R=>R.matches(v)),parents(V,v){const R=[];let K=V.parentNode.closest(v);for(;K;)R.push(K),K=K.parentNode.closest(v);return R},prev(V,v){let R=V.previousElementSibling;for(;R;){if(R.matches(v))return[R];R=R.previousElementSibling}return[]},next(V,v){let R=V.nextElementSibling;for(;R;){if(R.matches(v))return[R];R=R.nextElementSibling}return[]},focusableChildren(V){const v=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(R=>`${R}:not([tabindex^="-"])`).join(",");return this.find(v,V).filter(R=>!yo(R)&&Ro(R))},getSelectorFromElement(V){const v=re(V);return v&&Y.findOne(v)?v:null},getElementFromSelector(V){const v=re(V);return v?Y.findOne(v):null},getMultipleElementsFromSelector(V){const v=re(V);return v?Y.find(v):[]}},kr=(V,v="hide")=>{const R=`click.dismiss${V.EVENT_KEY}`,K=V.NAME;E.on(document,R,`[data-bs-dismiss="${K}"]`,function(dt){if(["A","AREA"].includes(this.tagName)&&dt.preventDefault(),yo(this))return;const It=Y.getElementFromSelector(this)||this.closest(`.${K}`);V.getOrCreateInstance(It)[v]()})},Sr=".bs.alert",Wt=`close${Sr}`,Ur=`closed${Sr}`;class tn extends ve{static get NAME(){return"alert"}close(){if(E.trigger(this._element,Wt).defaultPrevented)return;this._element.classList.remove("show");const v=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,v)}_destroyElement(){this._element.remove(),E.trigger(this._element,Ur),this.dispose()}static jQueryInterface(v){return this.each(function(){const R=tn.getOrCreateInstance(this);if(typeof v=="string"){if(R[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);R[v](this)}})}}kr(tn,"close"),De(tn);const Do='[data-bs-toggle="button"]';class Ue extends ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(v){return this.each(function(){const R=Ue.getOrCreateInstance(this);v==="toggle"&&R[v]()})}}E.on(document,"click.bs.button.data-api",Do,V=>{V.preventDefault();const v=V.target.closest(Do);Ue.getOrCreateInstance(v).toggle()}),De(Ue);const Vo=".bs.swipe",wa=`touchstart${Vo}`,en=`touchmove${Vo}`,Jn=`touchend${Vo}`,ar=`pointerdown${Vo}`,Jt=`pointerup${Vo}`,Ln={endCallback:null,leftCallback:null,rightCallback:null},qr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ar extends pe{constructor(v,R){super(),this._element=v,v&&Ar.isSupported()&&(this._config=this._getConfig(R),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ln}static get DefaultType(){return qr}static get NAME(){return"swipe"}dispose(){E.off(this._element,Vo)}_start(v){this._supportPointerEvents?this._eventIsPointerPenTouch(v)&&(this._deltaX=v.clientX):this._deltaX=v.touches[0].clientX}_end(v){this._eventIsPointerPenTouch(v)&&(this._deltaX=v.clientX-this._deltaX),this._handleSwipe(),he(this._config.endCallback)}_move(v){this._deltaX=v.touches&&v.touches.length>1?0:v.touches[0].clientX-this._deltaX}_handleSwipe(){const v=Math.abs(this._deltaX);if(v<=40)return;const R=v/this._deltaX;this._deltaX=0,R&&he(R>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(E.on(this._element,ar,v=>this._start(v)),E.on(this._element,Jt,v=>this._end(v)),this._element.classList.add("pointer-event")):(E.on(this._element,wa,v=>this._start(v)),E.on(this._element,en,v=>this._move(v)),E.on(this._element,Jn,v=>this._end(v)))}_eventIsPointerPenTouch(v){return this._supportPointerEvents&&(v.pointerType==="pen"||v.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ye=".bs.carousel",Ko=".data-api",nn="next",pn="prev",to="left",Je="right",yl=`slide${Ye}`,_e=`slid${Ye}`,fs=`keydown${Ye}`,xa=`mouseenter${Ye}`,Nr=`mouseleave${Ye}`,Tr=`dragstart${Ye}`,Rr=`load${Ye}${Ko}`,Or=`click${Ye}${Ko}`,Is="carousel",Ee="active",Ht=".active",un=".carousel-item",ei=Ht+un,Ea={ArrowLeft:Je,ArrowRight:to},ni={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Fs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class eo extends ve{constructor(v,R){super(v,R),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Y.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Is&&this.cycle()}static get Default(){return ni}static get DefaultType(){return Fs}static get NAME(){return"carousel"}next(){this._slide(nn)}nextWhenVisible(){!document.hidden&&Ro(this._element)&&this.next()}prev(){this._slide(pn)}pause(){this._isSliding&&No(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?E.one(this._element,_e,()=>this.cycle()):this.cycle())}to(v){const R=this._getItems();if(v>R.length-1||v<0)return;if(this._isSliding)return void E.one(this._element,_e,()=>this.to(v));const K=this._getItemIndex(this._getActive());if(K===v)return;const dt=v>K?nn:pn;this._slide(dt,R[v])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(v){return v.defaultInterval=v.interval,v}_addEventListeners(){this._config.keyboard&&E.on(this._element,fs,v=>this._keydown(v)),this._config.pause==="hover"&&(E.on(this._element,xa,()=>this.pause()),E.on(this._element,Nr,()=>this._maybeEnableCycle())),this._config.touch&&Ar.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const R of Y.find(".carousel-item img",this._element))E.on(R,Tr,K=>K.preventDefault());const v={leftCallback:()=>this._slide(this._directionToOrder(to)),rightCallback:()=>this._slide(this._directionToOrder(Je)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ar(this._element,v)}_keydown(v){if(/input|textarea/i.test(v.target.tagName))return;const R=Ea[v.key];R&&(v.preventDefault(),this._slide(this._directionToOrder(R)))}_getItemIndex(v){return this._getItems().indexOf(v)}_setActiveIndicatorElement(v){if(!this._indicatorsElement)return;const R=Y.findOne(Ht,this._indicatorsElement);R.classList.remove(Ee),R.removeAttribute("aria-current");const K=Y.findOne(`[data-bs-slide-to="${v}"]`,this._indicatorsElement);K&&(K.classList.add(Ee),K.setAttribute("aria-current","true"))}_updateInterval(){const v=this._activeElement||this._getActive();if(!v)return;const R=Number.parseInt(v.getAttribute("data-bs-interval"),10);this._config.interval=R||this._config.defaultInterval}_slide(v,R=null){if(this._isSliding)return;const K=this._getActive(),dt=v===nn,It=R||be(this._getItems(),K,dt,this._config.wrap);if(It===K)return;const Zt=this._getItemIndex(It),Ae=$o=>E.trigger(this._element,$o,{relatedTarget:It,direction:this._orderToDirection(v),from:this._getItemIndex(K),to:Zt});if(Ae(yl).defaultPrevented||!K||!It)return;const ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Zt),this._activeElement=It;const Mn=dt?"carousel-item-start":"carousel-item-end",Le=dt?"carousel-item-next":"carousel-item-prev";It.classList.add(Le),ce(It),K.classList.add(Mn),It.classList.add(Mn),this._queueCallback(()=>{It.classList.remove(Mn,Le),It.classList.add(Ee),K.classList.remove(Ee,Le,Mn),this._isSliding=!1,Ae(_e)},K,this._isAnimated()),ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Y.findOne(ei,this._element)}_getItems(){return Y.find(un,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(v){return dn()?v===to?pn:nn:v===to?nn:pn}_orderToDirection(v){return dn()?v===pn?to:Je:v===pn?Je:to}static jQueryInterface(v){return this.each(function(){const R=eo.getOrCreateInstance(this,v);if(typeof v!="number"){if(typeof v=="string"){if(R[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);R[v]()}}else R.to(v)})}}E.on(document,Or,"[data-bs-slide], [data-bs-slide-to]",function(V){const v=Y.getElementFromSelector(this);if(!v||!v.classList.contains(Is))return;V.preventDefault();const R=eo.getOrCreateInstance(v),K=this.getAttribute("data-bs-slide-to");return K?(R.to(K),void R._maybeEnableCycle()):Wo.getDataAttribute(this,"slide")==="next"?(R.next(),void R._maybeEnableCycle()):(R.prev(),void R._maybeEnableCycle())}),E.on(window,Rr,()=>{const V=Y.find('[data-bs-ride="carousel"]');for(const v of V)eo.getOrCreateInstance(v)}),De(eo);const Un=".bs.collapse",ms=`show${Un}`,js=`shown${Un}`,Wr=`hide${Un}`,Yo=`hidden${Un}`,ka=`click${Un}.data-api`,ps="show",Xo="collapse",$s="collapsing",Pi=`:scope .${Xo} .${Xo}`,lr='[data-bs-toggle="collapse"]',hn={parent:null,toggle:!0},Xe={parent:"(null|element)",toggle:"boolean"};class Go extends ve{constructor(v,R){super(v,R),this._isTransitioning=!1,this._triggerArray=[];const K=Y.find(lr);for(const dt of K){const It=Y.getSelectorFromElement(dt),Zt=Y.find(It).filter(Ae=>Ae===this._element);It!==null&&Zt.length&&this._triggerArray.push(dt)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return hn}static get DefaultType(){return Xe}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let v=[];if(this._config.parent&&(v=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(dt=>dt!==this._element).map(dt=>Go.getOrCreateInstance(dt,{toggle:!1}))),v.length&&v[0]._isTransitioning||E.trigger(this._element,ms).defaultPrevented)return;for(const dt of v)dt.hide();const R=this._getDimension();this._element.classList.remove(Xo),this._element.classList.add($s),this._element.style[R]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const K=`scroll${R[0].toUpperCase()+R.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($s),this._element.classList.add(Xo,ps),this._element.style[R]="",E.trigger(this._element,js)},this._element,!0),this._element.style[R]=`${this._element[K]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,Wr).defaultPrevented)return;const v=this._getDimension();this._element.style[v]=`${this._element.getBoundingClientRect()[v]}px`,ce(this._element),this._element.classList.add($s),this._element.classList.remove(Xo,ps);for(const R of this._triggerArray){const K=Y.getElementFromSelector(R);K&&!this._isShown(K)&&this._addAriaAndCollapsedClass([R],!1)}this._isTransitioning=!0,this._element.style[v]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($s),this._element.classList.add(Xo),E.trigger(this._element,Yo)},this._element,!0)}_isShown(v=this._element){return v.classList.contains(ps)}_configAfterMerge(v){return v.toggle=!!v.toggle,v.parent=To(v.parent),v}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const v=this._getFirstLevelChildren(lr);for(const R of v){const K=Y.getElementFromSelector(R);K&&this._addAriaAndCollapsedClass([R],this._isShown(K))}}_getFirstLevelChildren(v){const R=Y.find(Pi,this._config.parent);return Y.find(v,this._config.parent).filter(K=>!R.includes(K))}_addAriaAndCollapsedClass(v,R){if(v.length)for(const K of v)K.classList.toggle("collapsed",!R),K.setAttribute("aria-expanded",R)}static jQueryInterface(v){const R={};return typeof v=="string"&&/show|hide/.test(v)&&(R.toggle=!1),this.each(function(){const K=Go.getOrCreateInstance(this,R);if(typeof v=="string"){if(K[v]===void 0)throw new TypeError(`No method named "${v}"`);K[v]()}})}}E.on(document,ka,lr,function(V){(V.target.tagName==="A"||V.delegateTarget&&V.delegateTarget.tagName==="A")&&V.preventDefault();for(const v of Y.getMultipleElementsFromSelector(this))Go.getOrCreateInstance(v,{toggle:!1}).toggle()}),De(Go);const Vr="dropdown",no=".bs.dropdown",Mi=".data-api",hs="ArrowUp",wo="ArrowDown",gs=`hide${no}`,Hs=`hidden${no}`,oi=`show${no}`,Lo=`shown${no}`,Sa=`click${no}${Mi}`,Aa=`keydown${no}${Mi}`,Ii=`keyup${no}${Mi}`,Dr="show",Qo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fi=`${Qo}.${Dr}`,In=".dropdown-menu",Kr=dn()?"top-end":"top-start",zs=dn()?"top-start":"top-end",bs=dn()?"bottom-end":"bottom-start",Na=dn()?"bottom-start":"bottom-end",Ta=dn()?"left-start":"right-start",Ra=dn()?"right-start":"left-start",ri={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ji={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Fn extends ve{constructor(v,R){super(v,R),this._popper=null,this._parent=this._element.parentNode,this._menu=Y.next(this._element,In)[0]||Y.prev(this._element,In)[0]||Y.findOne(In,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ri}static get DefaultType(){return ji}static get NAME(){return Vr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(yo(this._element)||this._isShown())return;const v={relatedTarget:this._element};if(!E.trigger(this._element,oi,v).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const R of[].concat(...document.body.children))E.on(R,"mouseover",Xt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Dr),this._element.classList.add(Dr),E.trigger(this._element,Lo,v)}}hide(){if(yo(this._element)||!this._isShown())return;const v={relatedTarget:this._element};this._completeHide(v)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(v){if(!E.trigger(this._element,gs,v).defaultPrevented){if("ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))E.off(R,"mouseover",Xt);this._popper&&this._popper.destroy(),this._menu.classList.remove(Dr),this._element.classList.remove(Dr),this._element.setAttribute("aria-expanded","false"),Wo.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,Hs,v)}}_getConfig(v){if(typeof(v=super._getConfig(v)).reference=="object"&&!zn(v.reference)&&typeof v.reference.getBoundingClientRect!="function")throw new TypeError(`${Vr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return v}_createPopper(){if(cn===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let v=this._element;this._config.reference==="parent"?v=this._parent:zn(this._config.reference)?v=To(this._config.reference):typeof this._config.reference=="object"&&(v=this._config.reference);const R=this._getPopperConfig();this._popper=cn.createPopper(v,this._menu,R)}_isShown(){return this._menu.classList.contains(Dr)}_getPlacement(){const v=this._parent;if(v.classList.contains("dropend"))return Ta;if(v.classList.contains("dropstart"))return Ra;if(v.classList.contains("dropup-center"))return"top";if(v.classList.contains("dropdown-center"))return"bottom";const R=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return v.classList.contains("dropup")?R?zs:Kr:R?Na:bs}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:v}=this._config;return typeof v=="string"?v.split(",").map(R=>Number.parseInt(R,10)):typeof v=="function"?R=>v(R,this._element):v}_getPopperConfig(){const v={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Wo.setDataAttribute(this._menu,"popper","static"),v.modifiers=[{name:"applyStyles",enabled:!1}]),{...v,...he(this._config.popperConfig,[v])}}_selectMenuItem({key:v,target:R}){const K=Y.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(dt=>Ro(dt));K.length&&be(K,R,v===wo,!K.includes(R)).focus()}static jQueryInterface(v){return this.each(function(){const R=Fn.getOrCreateInstance(this,v);if(typeof v=="string"){if(R[v]===void 0)throw new TypeError(`No method named "${v}"`);R[v]()}})}static clearMenus(v){if(v.button===2||v.type==="keyup"&&v.key!=="Tab")return;const R=Y.find(Fi);for(const K of R){const dt=Fn.getInstance(K);if(!dt||dt._config.autoClose===!1)continue;const It=v.composedPath(),Zt=It.includes(dt._menu);if(It.includes(dt._element)||dt._config.autoClose==="inside"&&!Zt||dt._config.autoClose==="outside"&&Zt||dt._menu.contains(v.target)&&(v.type==="keyup"&&v.key==="Tab"||/input|select|option|textarea|form/i.test(v.target.tagName)))continue;const Ae={relatedTarget:dt._element};v.type==="click"&&(Ae.clickEvent=v),dt._completeHide(Ae)}}static dataApiKeydownHandler(v){const R=/input|textarea/i.test(v.target.tagName),K=v.key==="Escape",dt=[hs,wo].includes(v.key);if(!dt&&!K||R&&!K)return;v.preventDefault();const It=this.matches(Qo)?this:Y.prev(this,Qo)[0]||Y.next(this,Qo)[0]||Y.findOne(Qo,v.delegateTarget.parentNode),Zt=Fn.getOrCreateInstance(It);if(dt)return v.stopPropagation(),Zt.show(),void Zt._selectMenuItem(v);Zt._isShown()&&(v.stopPropagation(),Zt.hide(),It.focus())}}E.on(document,Aa,Qo,Fn.dataApiKeydownHandler),E.on(document,Aa,In,Fn.dataApiKeydownHandler),E.on(document,Sa,Fn.clearMenus),E.on(document,Ii,Fn.clearMenus),E.on(document,Sa,Qo,function(V){V.preventDefault(),Fn.getOrCreateInstance(this).toggle()}),De(Fn);const si="backdrop",oo="show",ii=`mousedown.bs.${si}`,Us={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_l={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Oa extends pe{constructor(v){super(),this._config=this._getConfig(v),this._isAppended=!1,this._element=null}static get Default(){return Us}static get DefaultType(){return _l}static get NAME(){return si}show(v){if(!this._config.isVisible)return void he(v);this._append();const R=this._getElement();this._config.isAnimated&&ce(R),R.classList.add(oo),this._emulateAnimation(()=>{he(v)})}hide(v){this._config.isVisible?(this._getElement().classList.remove(oo),this._emulateAnimation(()=>{this.dispose(),he(v)})):he(v)}dispose(){this._isAppended&&(E.off(this._element,ii),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const v=document.createElement("div");v.className=this._config.className,this._config.isAnimated&&v.classList.add("fade"),this._element=v}return this._element}_configAfterMerge(v){return v.rootElement=To(v.rootElement),v}_append(){if(this._isAppended)return;const v=this._getElement();this._config.rootElement.append(v),E.on(v,ii,()=>{he(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(v){gt(v,this._getElement(),this._config.isAnimated)}}const Zo=".bs.focustrap",Bn=`focusin${Zo}`,$i=`keydown.tab${Zo}`,ai="backward",qn={autofocus:!0,trapElement:null},Bo={autofocus:"boolean",trapElement:"element"};class Jo extends pe{constructor(v){super(),this._config=this._getConfig(v),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return qn}static get DefaultType(){return Bo}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,Zo),E.on(document,Bn,v=>this._handleFocusin(v)),E.on(document,$i,v=>this._handleKeydown(v)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,Zo))}_handleFocusin(v){const{trapElement:R}=this._config;if(v.target===document||v.target===R||R.contains(v.target))return;const K=Y.focusableChildren(R);K.length===0?R.focus():this._lastTabNavDirection===ai?K[K.length-1].focus():K[0].focus()}_handleKeydown(v){v.key==="Tab"&&(this._lastTabNavDirection=v.shiftKey?ai:"forward")}}const Hi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fe=".sticky-top",li="padding-right",ci="margin-right";class di{constructor(){this._element=document.body}getWidth(){const v=document.documentElement.clientWidth;return Math.abs(window.innerWidth-v)}hide(){const v=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,li,R=>R+v),this._setElementAttributes(Hi,li,R=>R+v),this._setElementAttributes(fe,ci,R=>R-v)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,li),this._resetElementAttributes(Hi,li),this._resetElementAttributes(fe,ci)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(v,R,K){const dt=this.getWidth();this._applyManipulationCallback(v,It=>{if(It!==this._element&&window.innerWidth>It.clientWidth+dt)return;this._saveInitialAttribute(It,R);const Zt=window.getComputedStyle(It).getPropertyValue(R);It.style.setProperty(R,`${K(Number.parseFloat(Zt))}px`)})}_saveInitialAttribute(v,R){const K=v.style.getPropertyValue(R);K&&Wo.setDataAttribute(v,R,K)}_resetElementAttributes(v,R){this._applyManipulationCallback(v,K=>{const dt=Wo.getDataAttribute(K,R);dt!==null?(Wo.removeDataAttribute(K,R),K.style.setProperty(R,dt)):K.style.removeProperty(R)})}_applyManipulationCallback(v,R){if(zn(v))R(v);else for(const K of Y.find(v,this._element))R(K)}}const lt=".bs.modal",Lr=`hide${lt}`,Da=`hidePrevented${lt}`,gn=`hidden${lt}`,Yr=`show${lt}`,Cl=`shown${lt}`,La=`resize${lt}`,wl=`click.dismiss${lt}`,Ba=`mousedown.dismiss${lt}`,ue=`keydown.dismiss${lt}`,zi=`click${lt}.data-api`,Xr="modal-open",vs="show",En="modal-static",Cn={backdrop:!0,focus:!0,keyboard:!0},xl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Po extends ve{constructor(v,R){super(v,R),this._dialog=Y.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new di,this._addEventListeners()}static get Default(){return Cn}static get DefaultType(){return xl}static get NAME(){return"modal"}toggle(v){return this._isShown?this.hide():this.show(v)}show(v){this._isShown||this._isTransitioning||E.trigger(this._element,Yr,{relatedTarget:v}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(v)))}hide(){this._isShown&&!this._isTransitioning&&(E.trigger(this._element,Lr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(vs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){E.off(window,lt),E.off(this._dialog,lt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Oa({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Jo({trapElement:this._element})}_showElement(v){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const R=Y.findOne(".modal-body",this._dialog);R&&(R.scrollTop=0),ce(this._element),this._element.classList.add(vs),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,Cl,{relatedTarget:v})},this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,ue,v=>{v.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),E.on(window,La,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,Ba,v=>{E.one(this._element,wl,R=>{this._element===v.target&&this._element===R.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xr),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,gn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(E.trigger(this._element,Da).defaultPrevented)return;const v=this._element.scrollHeight>document.documentElement.clientHeight,R=this._element.style.overflowY;R==="hidden"||this._element.classList.contains(En)||(v||(this._element.style.overflowY="hidden"),this._element.classList.add(En),this._queueCallback(()=>{this._element.classList.remove(En),this._queueCallback(()=>{this._element.style.overflowY=R},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const v=this._element.scrollHeight>document.documentElement.clientHeight,R=this._scrollBar.getWidth(),K=R>0;if(K&&!v){const dt=dn()?"paddingLeft":"paddingRight";this._element.style[dt]=`${R}px`}if(!K&&v){const dt=dn()?"paddingRight":"paddingLeft";this._element.style[dt]=`${R}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(v,R){return this.each(function(){const K=Po.getOrCreateInstance(this,v);if(typeof v=="string"){if(K[v]===void 0)throw new TypeError(`No method named "${v}"`);K[v](R)}})}}E.on(document,zi,'[data-bs-toggle="modal"]',function(V){const v=Y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&V.preventDefault(),E.one(v,Yr,K=>{K.defaultPrevented||E.one(v,gn,()=>{Ro(this)&&this.focus()})});const R=Y.findOne(".modal.show");R&&Po.getInstance(R).hide(),Po.getOrCreateInstance(v).toggle(this)}),kr(Po),De(Po);const ro=".bs.offcanvas",ui=".data-api",on=`load${ro}${ui}`,tr="show",jn="showing",er="hiding",d=".offcanvas.show",m=`show${ro}`,_=`shown${ro}`,w=`hide${ro}`,A=`hidePrevented${ro}`,O=`hidden${ro}`,L=`resize${ro}`,W=`click${ro}${ui}`,q=`keydown.dismiss${ro}`,Z={backdrop:!0,keyboard:!0,scroll:!1},st={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class at extends ve{constructor(v,R){super(v,R),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Z}static get DefaultType(){return st}static get NAME(){return"offcanvas"}toggle(v){return this._isShown?this.hide():this.show(v)}show(v){this._isShown||E.trigger(this._element,m,{relatedTarget:v}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new di().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jn),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(tr),this._element.classList.remove(jn),E.trigger(this._element,_,{relatedTarget:v})},this._element,!0))}hide(){this._isShown&&(E.trigger(this._element,w).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(er),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(tr,er),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new di().reset(),E.trigger(this._element,O)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const v=!!this._config.backdrop;return new Oa({className:"offcanvas-backdrop",isVisible:v,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:v?()=>{this._config.backdrop!=="static"?this.hide():E.trigger(this._element,A)}:null})}_initializeFocusTrap(){return new Jo({trapElement:this._element})}_addEventListeners(){E.on(this._element,q,v=>{v.key==="Escape"&&(this._config.keyboard?this.hide():E.trigger(this._element,A))})}static jQueryInterface(v){return this.each(function(){const R=at.getOrCreateInstance(this,v);if(typeof v=="string"){if(R[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);R[v](this)}})}}E.on(document,W,'[data-bs-toggle="offcanvas"]',function(V){const v=Y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&V.preventDefault(),yo(this))return;E.one(v,O,()=>{Ro(this)&&this.focus()});const R=Y.findOne(d);R&&R!==v&&at.getInstance(R).hide(),at.getOrCreateInstance(v).toggle(this)}),E.on(window,on,()=>{for(const V of Y.find(d))at.getOrCreateInstance(V).show()}),E.on(window,L,()=>{for(const V of Y.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(V).position!=="fixed"&&at.getOrCreateInstance(V).hide()}),kr(at),De(at);const ot={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ht=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Mt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ie=(V,v)=>{const R=V.nodeName.toLowerCase();return v.includes(R)?!ht.has(R)||!!Mt.test(V.nodeValue):v.filter(K=>K instanceof RegExp).some(K=>K.test(R))},P={allowList:ot,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bn={entry:"(string|element|function|null)",selector:"(string|element)"};class fn extends pe{constructor(v){super(),this._config=this._getConfig(v)}static get Default(){return P}static get DefaultType(){return sn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(v=>this._resolvePossibleFunction(v)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(v){return this._checkContent(v),this._config.content={...this._config.content,...v},this}toHtml(){const v=document.createElement("div");v.innerHTML=this._maybeSanitize(this._config.template);for(const[dt,It]of Object.entries(this._config.content))this._setContent(v,It,dt);const R=v.children[0],K=this._resolvePossibleFunction(this._config.extraClass);return K&&R.classList.add(...K.split(" ")),R}_typeCheckConfig(v){super._typeCheckConfig(v),this._checkContent(v.content)}_checkContent(v){for(const[R,K]of Object.entries(v))super._typeCheckConfig({selector:R,entry:K},bn)}_setContent(v,R,K){const dt=Y.findOne(K,v);dt&&((R=this._resolvePossibleFunction(R))?zn(R)?this._putElementInTemplate(To(R),dt):this._config.html?dt.innerHTML=this._maybeSanitize(R):dt.textContent=R:dt.remove())}_maybeSanitize(v){return this._config.sanitize?function(R,K,dt){if(!R.length)return R;if(dt&&typeof dt=="function")return dt(R);const It=new window.DOMParser().parseFromString(R,"text/html"),Zt=[].concat(...It.body.querySelectorAll("*"));for(const Ae of Zt){const ge=Ae.nodeName.toLowerCase();if(!Object.keys(K).includes(ge)){Ae.remove();continue}const Mn=[].concat(...Ae.attributes),Le=[].concat(K["*"]||[],K[ge]||[]);for(const $o of Mn)ie($o,Le)||Ae.removeAttribute($o.nodeName)}return It.body.innerHTML}(v,this._config.allowList,this._config.sanitizeFn):v}_resolvePossibleFunction(v){return he(v,[this])}_putElementInTemplate(v,R){if(this._config.html)return R.innerHTML="",void R.append(v);R.textContent=v.textContent}}const Mo=new Set(["sanitize","allowList","sanitizeFn"]),Ft="fade",mn="show",ke=".modal",Pe="hide.bs.modal",so="hover",$n="focus",io={AUTO:"auto",TOP:"top",RIGHT:dn()?"left":"right",BOTTOM:"bottom",LEFT:dn()?"right":"left"},ys={allowList:ot,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class wn extends ve{constructor(v,R){if(cn===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(v,R),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ys}static get DefaultType(){return Pn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(ke),Pe,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const v=E.trigger(this._element,this.constructor.eventName("show")),R=(Dt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(v.defaultPrevented||!R)return;this._disposePopper();const K=this._getTipElement();this._element.setAttribute("aria-describedby",K.getAttribute("id"));const{container:dt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(dt.append(K),E.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(K),K.classList.add(mn),"ontouchstart"in document.documentElement)for(const It of[].concat(...document.body.children))E.on(It,"mouseover",Xt);this._queueCallback(()=>{E.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!E.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(mn),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))E.off(v,"mouseover",Xt);this._activeTrigger.click=!1,this._activeTrigger[$n]=!1,this._activeTrigger[so]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(v){const R=this._getTemplateFactory(v).toHtml();if(!R)return null;R.classList.remove(Ft,mn),R.classList.add(`bs-${this.constructor.NAME}-auto`);const K=(dt=>{do dt+=Math.floor(1e6*Math.random());while(document.getElementById(dt));return dt})(this.constructor.NAME).toString();return R.setAttribute("id",K),this._isAnimated()&&R.classList.add(Ft),R}setContent(v){this._newContent=v,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(v){return this._templateFactory?this._templateFactory.changeContent(v):this._templateFactory=new fn({...this._config,content:v,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(v){return this.constructor.getOrCreateInstance(v.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ft)}_isShown(){return this.tip&&this.tip.classList.contains(mn)}_createPopper(v){const R=he(this._config.placement,[this,v,this._element]),K=io[R.toUpperCase()];return cn.createPopper(this._element,v,this._getPopperConfig(K))}_getOffset(){const{offset:v}=this._config;return typeof v=="string"?v.split(",").map(R=>Number.parseInt(R,10)):typeof v=="function"?R=>v(R,this._element):v}_resolvePossibleFunction(v){return he(v,[this._element])}_getPopperConfig(v){const R={placement:v,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:K=>{this._getTipElement().setAttribute("data-popper-placement",K.state.placement)}}]};return{...R,...he(this._config.popperConfig,[R])}}_setListeners(){const v=this._config.trigger.split(" ");for(const R of v)if(R==="click")E.on(this._element,this.constructor.eventName("click"),this._config.selector,K=>{this._initializeOnDelegatedTarget(K).toggle()});else if(R!=="manual"){const K=R===so?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),dt=R===so?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");E.on(this._element,K,this._config.selector,It=>{const Zt=this._initializeOnDelegatedTarget(It);Zt._activeTrigger[It.type==="focusin"?$n:so]=!0,Zt._enter()}),E.on(this._element,dt,this._config.selector,It=>{const Zt=this._initializeOnDelegatedTarget(It);Zt._activeTrigger[It.type==="focusout"?$n:so]=Zt._element.contains(It.relatedTarget),Zt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(ke),Pe,this._hideModalHandler)}_fixTitle(){const v=this._element.getAttribute("title");v&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",v),this._element.setAttribute("data-bs-original-title",v),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(v,R){clearTimeout(this._timeout),this._timeout=setTimeout(v,R)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(v){const R=Wo.getDataAttributes(this._element);for(const K of Object.keys(R))Mo.has(K)&&delete R[K];return v={...R,...typeof v=="object"&&v?v:{}},v=this._mergeConfigObj(v),v=this._configAfterMerge(v),this._typeCheckConfig(v),v}_configAfterMerge(v){return v.container=v.container===!1?document.body:To(v.container),typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),typeof v.title=="number"&&(v.title=v.title.toString()),typeof v.content=="number"&&(v.content=v.content.toString()),v}_getDelegateConfig(){const v={};for(const[R,K]of Object.entries(this._config))this.constructor.Default[R]!==K&&(v[R]=K);return v.selector=!1,v.trigger="manual",v}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(v){return this.each(function(){const R=wn.getOrCreateInstance(this,v);if(typeof v=="string"){if(R[v]===void 0)throw new TypeError(`No method named "${v}"`);R[v]()}})}}De(wn);const Gr={...wn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ao={...wn.DefaultType,content:"(null|string|element|function)"};class Ce extends wn{static get Default(){return Gr}static get DefaultType(){return ao}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(v){return this.each(function(){const R=Ce.getOrCreateInstance(this,v);if(typeof v=="string"){if(R[v]===void 0)throw new TypeError(`No method named "${v}"`);R[v]()}})}}De(Ce);const He=".bs.scrollspy",kn=`activate${He}`,Io=`click${He}`,Sn=`load${He}.data-api`,te="active",Me="[href]",Ge=".nav-link",We=`${Ge}, .nav-item > ${Ge}, .list-group-item`,Fo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},_s={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class lo extends ve{constructor(v,R){super(v,R),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Fo}static get DefaultType(){return _s}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const v of this._observableSections.values())this._observer.observe(v)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(v){return v.target=To(v.target)||document.body,v.rootMargin=v.offset?`${v.offset}px 0px -30%`:v.rootMargin,typeof v.threshold=="string"&&(v.threshold=v.threshold.split(",").map(R=>Number.parseFloat(R))),v}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(E.off(this._config.target,Io),E.on(this._config.target,Io,Me,v=>{const R=this._observableSections.get(v.target.hash);if(R){v.preventDefault();const K=this._rootElement||window,dt=R.offsetTop-this._element.offsetTop;if(K.scrollTo)return void K.scrollTo({top:dt,behavior:"smooth"});K.scrollTop=dt}}))}_getNewObserver(){const v={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(R=>this._observerCallback(R),v)}_observerCallback(v){const R=Zt=>this._targetLinks.get(`#${Zt.target.id}`),K=Zt=>{this._previousScrollData.visibleEntryTop=Zt.target.offsetTop,this._process(R(Zt))},dt=(this._rootElement||document.documentElement).scrollTop,It=dt>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=dt;for(const Zt of v){if(!Zt.isIntersecting){this._activeTarget=null,this._clearActiveClass(R(Zt));continue}const Ae=Zt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(It&&Ae){if(K(Zt),!dt)return}else It||Ae||K(Zt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const v=Y.find(Me,this._config.target);for(const R of v){if(!R.hash||yo(R))continue;const K=Y.findOne(decodeURI(R.hash),this._element);Ro(K)&&(this._targetLinks.set(decodeURI(R.hash),R),this._observableSections.set(R.hash,K))}}_process(v){this._activeTarget!==v&&(this._clearActiveClass(this._config.target),this._activeTarget=v,v.classList.add(te),this._activateParents(v),E.trigger(this._element,kn,{relatedTarget:v}))}_activateParents(v){if(v.classList.contains("dropdown-item"))Y.findOne(".dropdown-toggle",v.closest(".dropdown")).classList.add(te);else for(const R of Y.parents(v,".nav, .list-group"))for(const K of Y.prev(R,We))K.classList.add(te)}_clearActiveClass(v){v.classList.remove(te);const R=Y.find(`${Me}.${te}`,v);for(const K of R)K.classList.remove(te)}static jQueryInterface(v){return this.each(function(){const R=lo.getOrCreateInstance(this,v);if(typeof v=="string"){if(R[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);R[v]()}})}}E.on(window,Sn,()=>{for(const V of Y.find('[data-bs-spy="scroll"]'))lo.getOrCreateInstance(V)}),De(lo);const Wn=".bs.tab",jo=`hide${Wn}`,Vn=`hidden${Wn}`,fi=`show${Wn}`,cr=`shown${Wn}`,Qr=`click${Wn}`,dr=`keydown${Wn}`,ur=`load${Wn}`,mi="ArrowLeft",Br="ArrowRight",pi="ArrowUp",qs="ArrowDown",Zr="Home",I="End",X="active",rt="fade",it="show",mt=".dropdown-toggle",Ot=`:not(${mt})`,jt='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Kt=`.nav-link${Ot}, .list-group-item${Ot}, [role="tab"]${Ot}, ${jt}`,At=`.${X}[data-bs-toggle="tab"], .${X}[data-bs-toggle="pill"], .${X}[data-bs-toggle="list"]`;class ye extends ve{constructor(v){super(v),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),E.on(this._element,dr,R=>this._keydown(R)))}static get NAME(){return"tab"}show(){const v=this._element;if(this._elemIsActive(v))return;const R=this._getActiveElem(),K=R?E.trigger(R,jo,{relatedTarget:v}):null;E.trigger(v,fi,{relatedTarget:R}).defaultPrevented||K&&K.defaultPrevented||(this._deactivate(R,v),this._activate(v,R))}_activate(v,R){v&&(v.classList.add(X),this._activate(Y.getElementFromSelector(v)),this._queueCallback(()=>{v.getAttribute("role")==="tab"?(v.removeAttribute("tabindex"),v.setAttribute("aria-selected",!0),this._toggleDropDown(v,!0),E.trigger(v,cr,{relatedTarget:R})):v.classList.add(it)},v,v.classList.contains(rt)))}_deactivate(v,R){v&&(v.classList.remove(X),v.blur(),this._deactivate(Y.getElementFromSelector(v)),this._queueCallback(()=>{v.getAttribute("role")==="tab"?(v.setAttribute("aria-selected",!1),v.setAttribute("tabindex","-1"),this._toggleDropDown(v,!1),E.trigger(v,Vn,{relatedTarget:R})):v.classList.remove(it)},v,v.classList.contains(rt)))}_keydown(v){if(![mi,Br,pi,qs,Zr,I].includes(v.key))return;v.stopPropagation(),v.preventDefault();const R=this._getChildren().filter(dt=>!yo(dt));let K;if([Zr,I].includes(v.key))K=R[v.key===Zr?0:R.length-1];else{const dt=[Br,qs].includes(v.key);K=be(R,v.target,dt,!0)}K&&(K.focus({preventScroll:!0}),ye.getOrCreateInstance(K).show())}_getChildren(){return Y.find(Kt,this._parent)}_getActiveElem(){return this._getChildren().find(v=>this._elemIsActive(v))||null}_setInitialAttributes(v,R){this._setAttributeIfNotExists(v,"role","tablist");for(const K of R)this._setInitialAttributesOnChild(K)}_setInitialAttributesOnChild(v){v=this._getInnerElement(v);const R=this._elemIsActive(v),K=this._getOuterElement(v);v.setAttribute("aria-selected",R),K!==v&&this._setAttributeIfNotExists(K,"role","presentation"),R||v.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(v,"role","tab"),this._setInitialAttributesOnTargetPanel(v)}_setInitialAttributesOnTargetPanel(v){const R=Y.getElementFromSelector(v);R&&(this._setAttributeIfNotExists(R,"role","tabpanel"),v.id&&this._setAttributeIfNotExists(R,"aria-labelledby",`${v.id}`))}_toggleDropDown(v,R){const K=this._getOuterElement(v);if(!K.classList.contains("dropdown"))return;const dt=(It,Zt)=>{const Ae=Y.findOne(It,K);Ae&&Ae.classList.toggle(Zt,R)};dt(mt,X),dt(".dropdown-menu",it),K.setAttribute("aria-expanded",R)}_setAttributeIfNotExists(v,R,K){v.hasAttribute(R)||v.setAttribute(R,K)}_elemIsActive(v){return v.classList.contains(X)}_getInnerElement(v){return v.matches(Kt)?v:Y.findOne(Kt,v)}_getOuterElement(v){return v.closest(".nav-item, .list-group-item")||v}static jQueryInterface(v){return this.each(function(){const R=ye.getOrCreateInstance(this);if(typeof v=="string"){if(R[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);R[v]()}})}}E.on(document,Qr,jt,function(V){["A","AREA"].includes(this.tagName)&&V.preventDefault(),yo(this)||ye.getOrCreateInstance(this).show()}),E.on(window,ur,()=>{for(const V of Y.find(At))ye.getOrCreateInstance(V)}),De(ye);const oe=".bs.toast",de=`mouseover${oe}`,Yt=`mouseout${oe}`,se=`focusin${oe}`,an=`focusout${oe}`,An=`hide${oe}`,ln=`hidden${oe}`,Kn=`show${oe}`,co=`shown${oe}`,uo="hide",Ne="show",fo="showing",mo={animation:"boolean",autohide:"boolean",delay:"number"},Cs={animation:!0,autohide:!0,delay:5e3};class Jr extends ve{constructor(v,R){super(v,R),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Cs}static get DefaultType(){return mo}static get NAME(){return"toast"}show(){E.trigger(this._element,Kn).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(uo),ce(this._element),this._element.classList.add(Ne,fo),this._queueCallback(()=>{this._element.classList.remove(fo),E.trigger(this._element,co),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(E.trigger(this._element,An).defaultPrevented||(this._element.classList.add(fo),this._queueCallback(()=>{this._element.classList.add(uo),this._element.classList.remove(fo,Ne),E.trigger(this._element,ln)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ne),super.dispose()}isShown(){return this._element.classList.contains(Ne)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(v,R){switch(v.type){case"mouseover":case"mouseout":this._hasMouseInteraction=R;break;case"focusin":case"focusout":this._hasKeyboardInteraction=R}if(R)return void this._clearTimeout();const K=v.relatedTarget;this._element===K||this._element.contains(K)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,de,v=>this._onInteraction(v,!0)),E.on(this._element,Yt,v=>this._onInteraction(v,!1)),E.on(this._element,se,v=>this._onInteraction(v,!0)),E.on(this._element,an,v=>this._onInteraction(v,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(v){return this.each(function(){const R=Jr.getOrCreateInstance(this,v);if(typeof v=="string"){if(R[v]===void 0)throw new TypeError(`No method named "${v}"`);R[v](this)}})}}return kr(Jr),De(Jr),{Alert:tn,Button:Ue,Carousel:eo,Collapse:Go,Dropdown:Fn,Modal:Po,Offcanvas:at,Popover:Ce,ScrollSpy:lo,Tab:ye,Toast:Jr,Tooltip:wn}}),function(){"use strict";var le=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var e=typeof t;return e==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":e==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":e},Zn=function(t){return{eq:t}},cn=Zn(function(t,e){return t===e}),qo=function(t){return Zn(function(e,n){if(e.length!==n.length)return!1;for(var o=e.length,r=0;r<o;r++)if(!t.eq(e[r],n[r]))return!1;return!0})},Dn=function(t){return Zn(function(e,n){var o=Object.keys(e),r=Object.keys(n);if(!function(l,c){return function(u,f){return Zn(function(p,b){return u.eq(f(p),f(b))})}(qo(l),function(u){return function(f,p){return Array.prototype.slice.call(f).sort(p)}(u,c)})}(cn).eq(o,r))return!1;for(var s=o.length,i=0;i<s;i++){var a=o[i];if(!t.eq(e[a],n[a]))return!1}return!0})},cs=Zn(function(t,e){if(t===e)return!0;var n=le(t);return n===le(e)&&(function(o){return["undefined","boolean","number","string","function","xml","null"].indexOf(o)!==-1}(n)?t===e:n==="array"?qo(cs).eq(t,e):n==="object"&&Dn(cs).eq(t,e))});const Ms=Object.getPrototypeOf,No=(t,e,n)=>{var o;return!!n(t,e.prototype)||((o=t.constructor)===null||o===void 0?void 0:o.name)===e.name},zn=t=>e=>(n=>{const o=typeof n;return n===null?"null":o==="object"&&Array.isArray(n)?"array":o==="object"&&No(n,String,(r,s)=>s.isPrototypeOf(r))?"string":o})(e)===t,To=t=>e=>typeof e===t,Ro=t=>e=>t===e,yo=(t,e)=>Xt(t)&&No(t,e,(n,o)=>Ms(n)===o),Dt=zn("string"),Xt=zn("object"),ce=t=>yo(t,Object),Oe=zn("array"),Qt=Ro(null),dn=To("boolean"),De=Ro(void 0),he=t=>t==null,gt=t=>!he(t),be=To("function"),x=To("number"),Er=(t,e)=>{if(Oe(t)){for(let n=0,o=t.length;n<o;++n)if(!e(t[n]))return!1;return!0}return!1},Lt=()=>{},_o=(t,e)=>(...n)=>t(e.apply(null,n)),Di=(t,e)=>n=>t(e(n)),yt=t=>()=>t,me=t=>t,Hr=(t,e)=>t===e;function St(t,...e){return(...n)=>{const o=e.concat(n);return t.apply(null,o)}}const ds=t=>e=>!t(e),Oo=t=>()=>{throw new Error(t)},us=t=>t(),Co=t=>{t()},Be=yt(!1),ze=yt(!0);class E{constructor(e,n){this.tag=e,this.value=n}static some(e){return new E(!0,e)}static none(){return E.singletonNone}fold(e,n){return this.tag?n(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?E.some(e(this.value)):E.none()}bind(e){return this.tag?e(this.value):E.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:E.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return gt(e)?E.some(e):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const zr=Array.prototype.slice,Li=Array.prototype.indexOf,Bi=Array.prototype.push,Wo=(t,e)=>Li.call(t,e),pe=(t,e)=>Wo(t,e)>-1,ve=(t,e)=>{for(let n=0,o=t.length;n<o;n++)if(e(t[n],n))return!0;return!1},re=(t,e)=>{const n=t.length,o=new Array(n);for(let r=0;r<n;r++){const s=t[r];o[r]=e(s,r)}return o},Y=(t,e)=>{for(let n=0,o=t.length;n<o;n++)e(t[n],n)},kr=(t,e)=>{for(let n=t.length-1;n>=0;n--)e(t[n],n)},Sr=(t,e)=>{const n=[],o=[];for(let r=0,s=t.length;r<s;r++){const i=t[r];(e(i,r)?n:o).push(i)}return{pass:n,fail:o}},Wt=(t,e)=>{const n=[];for(let o=0,r=t.length;o<r;o++){const s=t[o];e(s,o)&&n.push(s)}return n},Ur=(t,e,n)=>(kr(t,(o,r)=>{n=e(n,o,r)}),n),tn=(t,e,n)=>(Y(t,(o,r)=>{n=e(n,o,r)}),n),Do=(t,e,n)=>{for(let o=0,r=t.length;o<r;o++){const s=t[o];if(e(s,o))return E.some(s);if(n(s,o))break}return E.none()},Ue=(t,e)=>Do(t,e,Be),Vo=(t,e)=>{for(let n=0,o=t.length;n<o;n++)if(e(t[n],n))return E.some(n);return E.none()},wa=t=>{const e=[];for(let n=0,o=t.length;n<o;++n){if(!Oe(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Bi.apply(e,t[n])}return e},en=(t,e)=>wa(re(t,e)),Jn=(t,e)=>{for(let n=0,o=t.length;n<o;++n)if(e(t[n],n)!==!0)return!1;return!0},ar=t=>{const e=zr.call(t,0);return e.reverse(),e},Jt=(t,e)=>Wt(t,n=>!pe(e,n)),Ln=(t,e)=>{const n={};for(let o=0,r=t.length;o<r;o++){const s=t[o];n[String(s)]=e(s,o)}return n},qr=(t,e)=>{const n=zr.call(t,0);return n.sort(e),n},Ar=(t,e)=>e>=0&&e<t.length?E.some(t[e]):E.none(),Ye=t=>Ar(t,0),Ko=t=>Ar(t,t.length-1),nn=be(Array.from)?Array.from:t=>zr.call(t),pn=(t,e)=>{for(let n=0;n<t.length;n++){const o=e(t[n],n);if(o.isSome())return o}return E.none()},to=(t,e)=>{const n=[],o=be(e)?r=>ve(n,s=>e(s,r)):r=>pe(n,r);for(let r=0,s=t.length;r<s;r++){const i=t[r];o(i)||n.push(i)}return n},Je=Object.keys,yl=Object.hasOwnProperty,_e=(t,e)=>{const n=Je(t);for(let o=0,r=n.length;o<r;o++){const s=n[o];e(t[s],s)}},fs=(t,e)=>xa(t,(n,o)=>({k:o,v:e(n,o)})),xa=(t,e)=>{const n={};return _e(t,(o,r)=>{const s=e(o,r);n[s.k]=s.v}),n},Nr=t=>(e,n)=>{t[n]=e},Tr=(t,e,n,o)=>{_e(t,(r,s)=>{(e(r,s)?n:o)(r,s)})},Rr=(t,e)=>{const n={};return Tr(t,e,Nr(n),Lt),n},Or=(t,e)=>{const n=[];return _e(t,(o,r)=>{n.push(e(o,r))}),n},Is=t=>Or(t,me),Ee=(t,e)=>Ht(t,e)?E.from(t[e]):E.none(),Ht=(t,e)=>yl.call(t,e),un=(t,e)=>Ht(t,e)&&t[e]!==void 0&&t[e]!==null,ei=t=>{const e={};return Y(t,n=>{e[n]={}}),Je(e)},Ea=t=>t.length!==void 0,ni=Array.isArray,Fs=(t,e,n)=>{if(!t)return!1;if(n=n||t,Ea(t)){for(let o=0,r=t.length;o<r;o++)if(e.call(n,t[o],o,t)===!1)return!1}else for(const o in t)if(Ht(t,o)&&e.call(n,t[o],o,t)===!1)return!1;return!0},eo=(t,e)=>{const n=[];return Fs(t,(o,r)=>{n.push(e(o,r,t))}),n},Un=(t,e)=>{const n=[];return Fs(t,(o,r)=>{e&&!e(o,r,t)||n.push(o)}),n},ms=(t,e,n,o)=>{let r=De(n)?t[0]:n;for(let s=0;s<t.length;s++)r=e.call(o,r,t[s],s);return r},js=(t,e,n)=>{for(let o=0,r=t.length;o<r;o++)if(e.call(n,t[o],o,t))return o;return-1},Wr=t=>t[t.length-1],Yo=t=>{let e,n=!1;return(...o)=>(n||(n=!0,e=t.apply(null,o)),e)},ka=()=>ps(0,0),ps=(t,e)=>({major:t,minor:e}),Xo={nu:ps,detect:(t,e)=>{const n=String(e).toLowerCase();return t.length===0?ka():((o,r)=>{const s=((a,l)=>{for(let c=0;c<a.length;c++){const u=a[c];if(u.test(l))return u}})(o,r);if(!s)return{major:0,minor:0};const i=a=>Number(r.replace(s,"$"+a));return ps(i(1),i(2))})(t,n)},unknown:ka},$s=(t,e)=>{const n=String(e).toLowerCase();return Ue(t,o=>o.search(n))},Pi=(t,e,n)=>e===""||t.length>=e.length&&t.substr(n,n+e.length)===e,lr=(t,e)=>Xe(t,e)?((n,o)=>n.substring(o))(t,e.length):t,hn=(t,e,n=0,o)=>{const r=t.indexOf(e,n);return r!==-1&&(!!De(o)||r+e.length<=o)},Xe=(t,e)=>Pi(t,e,0),Go=(t,e)=>Pi(t,e,t.length-e.length),Vr=t=>e=>e.replace(t,""),no=Vr(/^\s+|\s+$/g),Mi=Vr(/^\s+/g),hs=Vr(/\s+$/g),wo=t=>t.length>0,gs=t=>!wo(t),Hs=(t,e=10)=>{const n=parseInt(t,e);return isNaN(n)?E.none():E.some(n)},oi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Lo=t=>e=>hn(e,t),Sa=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>hn(t,"edge/")&&hn(t,"chrome")&&hn(t,"safari")&&hn(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,oi],search:t=>hn(t,"chrome")&&!hn(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>hn(t,"msie")||hn(t,"trident")},{name:"Opera",versionRegexes:[oi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Lo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Lo("firefox")},{name:"Safari",versionRegexes:[oi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(hn(t,"safari")||hn(t,"mobile/"))&&hn(t,"applewebkit")}],Aa=[{name:"Windows",search:Lo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>hn(t,"iphone")||hn(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Lo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Lo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Lo("linux"),versionRegexes:[]},{name:"Solaris",search:Lo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Lo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Lo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ii={browsers:yt(Sa),oses:yt(Aa)},Dr="Edge",Qo="Chromium",Fi="Opera",In="Firefox",Kr="Safari",zs=t=>{const e=t.current,n=t.version,o=r=>()=>e===r;return{current:e,version:n,isEdge:o(Dr),isChromium:o(Qo),isIE:o("IE"),isOpera:o(Fi),isFirefox:o(In),isSafari:o(Kr)}},bs=()=>zs({current:void 0,version:Xo.unknown()}),Na=zs,Ta=(yt(Dr),yt(Qo),yt("IE"),yt(Fi),yt(In),yt(Kr),"Windows"),Ra="Android",ri="Linux",ji="macOS",Fn="Solaris",si="FreeBSD",oo="ChromeOS",ii=t=>{const e=t.current,n=t.version,o=r=>()=>e===r;return{current:e,version:n,isWindows:o(Ta),isiOS:o("iOS"),isAndroid:o(Ra),isMacOS:o(ji),isLinux:o(ri),isSolaris:o(Fn),isFreeBSD:o(si),isChromeOS:o(oo)}},Us=()=>ii({current:void 0,version:Xo.unknown()}),_l=ii,Oa=(yt(Ta),yt("iOS"),yt(Ra),yt(ri),yt(ji),yt(Fn),yt(si),yt(oo),t=>window.matchMedia(t).matches);let Zo=Yo(()=>((t,e,n)=>{const o=Ii.browsers(),r=Ii.oses(),s=e.bind(l=>((c,u)=>pn(u.brands,f=>{const p=f.brand.toLowerCase();return Ue(c,b=>{var h;return p===((h=b.brand)===null||h===void 0?void 0:h.toLowerCase())}).map(b=>({current:b.name,version:Xo.nu(parseInt(f.version,10),0)}))}))(o,l)).orThunk(()=>((l,c)=>$s(l,c).map(u=>{const f=Xo.detect(u.versionRegexes,c);return{current:u.name,version:f}}))(o,t)).fold(bs,Na),i=((l,c)=>$s(l,c).map(u=>{const f=Xo.detect(u.versionRegexes,c);return{current:u.name,version:f}}))(r,t).fold(Us,_l),a=((l,c,u,f)=>{const p=l.isiOS()&&/ipad/i.test(u)===!0,b=l.isiOS()&&!p,h=l.isiOS()||l.isAndroid(),y=h||f("(pointer:coarse)"),g=p||!b&&h&&f("(min-device-width:768px)"),C=b||h&&!g,k=c.isSafari()&&l.isiOS()&&/safari/i.test(u)===!1,S=!C&&!g&&!k;return{isiPad:yt(p),isiPhone:yt(b),isTablet:yt(g),isPhone:yt(C),isTouch:yt(y),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:yt(k),isDesktop:yt(S)}})(i,s,t,n);return{browser:s,os:i,deviceType:a}})(window.navigator.userAgent,E.from(window.navigator.userAgentData),Oa));const Bn=()=>Zo(),$i=window.navigator.userAgent,ai=Bn(),qn=ai.browser,Bo=ai.os,Jo=ai.deviceType,Hi=$i.indexOf("Windows Phone")!==-1,fe={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:qn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!qn.isIE(),windowsPhone:Hi,browser:{current:qn.current,version:qn.version,isChromium:qn.isChromium,isEdge:qn.isEdge,isFirefox:qn.isFirefox,isIE:qn.isIE,isOpera:qn.isOpera,isSafari:qn.isSafari},os:{current:Bo.current,version:Bo.version,isAndroid:Bo.isAndroid,isChromeOS:Bo.isChromeOS,isFreeBSD:Bo.isFreeBSD,isiOS:Bo.isiOS,isLinux:Bo.isLinux,isMacOS:Bo.isMacOS,isSolaris:Bo.isSolaris,isWindows:Bo.isWindows},deviceType:{isDesktop:Jo.isDesktop,isiPad:Jo.isiPad,isiPhone:Jo.isiPhone,isPhone:Jo.isPhone,isTablet:Jo.isTablet,isTouch:Jo.isTouch,isWebView:Jo.isWebView}},li=/^\s*|\s*$/g,ci=t=>he(t)?"":(""+t).replace(li,""),di=function(t,e,n,o){o=o||this,t&&(n&&(t=t[n]),Fs(t,(r,s)=>e.call(o,r,s,n)!==!1&&(di(r,e,n,o),!0)))},lt={trim:ci,isArray:ni,is:(t,e)=>e?!(e!=="array"||!ni(t))||typeof t===e:t!==void 0,toArray:t=>{if(ni(t))return t;{const e=[];for(let n=0,o=t.length;n<o;n++)e[n]=t[n];return e}},makeMap:(t,e,n={})=>{const o=Dt(t)?t.split(e||","):t||[];let r=o.length;for(;r--;)n[o[r]]={};return n},each:Fs,map:eo,grep:Un,inArray:(t,e)=>{if(t){for(let n=0,o=t.length;n<o;n++)if(t[n]===e)return n}return-1},hasOwn:Ht,extend:(t,...e)=>{for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(Ht(o,r)){const s=o[r];s!==void 0&&(t[r]=s)}}return t},walk:di,resolve:(t,e=window)=>{const n=t.split(".");for(let o=0,r=n.length;o<r&&(e=e[n[o]]);o++);return e},explode:(t,e)=>Oe(t)?t:t===""?[]:eo(t.split(e||","),ci),_addCacheSuffix:t=>{const e=fe.cacheSuffix;return e&&(t+=(t.indexOf("?")===-1?"?":"&")+e),t}},Lr=(t,e,n=Hr)=>t.exists(o=>n(o,e)),Da=(t,e,n=Hr)=>gn(t,e,n).getOr(t.isNone()&&e.isNone()),gn=(t,e,n)=>t.isSome()&&e.isSome()?E.some(n(t.getOrDie(),e.getOrDie())):E.none(),Yr=(t,e)=>t?E.some(e):E.none(),Cl=typeof window<"u"?window:Function("return this;")(),La=(t,e)=>((n,o)=>{let r=o??Cl;for(let s=0;s<n.length&&r!=null;++s)r=r[n[s]];return r})(t.split("."),e),wl=Object.getPrototypeOf,Ba=t=>{const e=La("ownerDocument.defaultView",t);return Xt(t)&&((n=>((o,r)=>{const s=((i,a)=>La(i,a))(o,r);if(s==null)throw new Error(o+" not available on this browser");return s})("HTMLElement",n))(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(wl(t).constructor.name))},ue=t=>t.dom.nodeName.toLowerCase(),zi=t=>t.dom.nodeType,Xr=t=>e=>zi(e)===t,vs=t=>En(t)&&Ba(t.dom),En=Xr(1),Cn=Xr(3),xl=Xr(9),Po=Xr(11),ro=t=>e=>En(e)&&ue(e)===t,ui=(t,e,n)=>{if(!(Dt(n)||dn(n)||x(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},on=(t,e,n)=>{ui(t.dom,e,n)},tr=(t,e)=>{const n=t.dom;_e(e,(o,r)=>{ui(n,r,o)})},jn=(t,e)=>{const n=t.dom.getAttribute(e);return n===null?void 0:n},er=(t,e)=>E.from(jn(t,e)),d=(t,e)=>{const n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},m=(t,e)=>{t.dom.removeAttribute(e)},_=t=>tn(t.dom.attributes,(e,n)=>(e[n.name]=n.value,e),{}),w=(t,e)=>{const n=jn(t,e);return n===void 0||n===""?[]:n.split(" ")},A=t=>t.dom.classList!==void 0,O=t=>w(t,"class"),L=(t,e)=>((n,o,r)=>{const s=w(n,o).concat([r]);return on(n,o,s.join(" ")),!0})(t,"class",e),W=(t,e)=>((n,o,r)=>{const s=Wt(w(n,o),i=>i!==r);return s.length>0?on(n,o,s.join(" ")):m(n,o),!1})(t,"class",e),q=(t,e)=>{A(t)?t.dom.classList.add(e):L(t,e)},Z=t=>{(A(t)?t.dom.classList:O(t)).length===0&&m(t,"class")},st=(t,e)=>{A(t)?t.dom.classList.remove(e):W(t,e),Z(t)},at=(t,e)=>A(t)&&t.dom.classList.contains(e),ot=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ht=(t,e)=>{const n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){const o="HTML does not have a single root node";throw console.error(o,t),new Error(o)}return ot(n.childNodes[0])},Mt=(t,e)=>{const n=(e||document).createElement(t);return ot(n)},ie=(t,e)=>{const n=(e||document).createTextNode(t);return ot(n)},P=ot,sn=(t,e,n)=>E.from(t.dom.elementFromPoint(e,n)).map(ot),bn=(t,e)=>{const n=[],o=s=>(n.push(s),e(s));let r=e(t);do r=r.bind(o);while(r.isSome());return n},fn=(t,e)=>{const n=t.dom;if(n.nodeType!==1)return!1;{const o=n;if(o.matches!==void 0)return o.matches(e);if(o.msMatchesSelector!==void 0)return o.msMatchesSelector(e);if(o.webkitMatchesSelector!==void 0)return o.webkitMatchesSelector(e);if(o.mozMatchesSelector!==void 0)return o.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}},Mo=t=>t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0,Ft=(t,e)=>t.dom===e.dom,mn=(t,e)=>{const n=t.dom,o=e.dom;return n!==o&&n.contains(o)},ke=t=>P(t.dom.ownerDocument),Pe=t=>xl(t)?t:ke(t),so=t=>P(Pe(t).dom.defaultView),$n=t=>E.from(t.dom.parentNode).map(P),io=t=>E.from(t.dom.parentElement).map(P),ys=(t,e)=>{const n=be(e)?e:Be;let o=t.dom;const r=[];for(;o.parentNode!==null&&o.parentNode!==void 0;){const s=o.parentNode,i=P(s);if(r.push(i),n(i)===!0)break;o=s}return r},Pn=t=>E.from(t.dom.previousSibling).map(P),wn=t=>E.from(t.dom.nextSibling).map(P),Gr=t=>ar(bn(t,Pn)),ao=t=>bn(t,wn),Ce=t=>re(t.dom.childNodes,P),He=(t,e)=>{const n=t.dom.childNodes;return E.from(n[e]).map(P)},kn=t=>He(t,0),Io=t=>He(t,t.dom.childNodes.length-1),Sn=t=>t.dom.childNodes.length,te=t=>Po(t)&&gt(t.dom.host),Me=t=>P(t.dom.getRootNode()),Ge=t=>te(t)?t:(e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return P(n)})(Pe(t)),We=t=>P(t.dom.host),Fo=t=>{if(gt(t.target)){const e=P(t.target);if(En(e)&&_s(e)&&t.composed&&t.composedPath){const n=t.composedPath();if(n)return Ye(n)}}return E.from(t.target)},_s=t=>gt(t.dom.shadowRoot),lo=t=>{const e=Cn(t)?t.dom.parentNode:t.dom;if(e==null||e.ownerDocument===null)return!1;const n=e.ownerDocument;return(o=>{const r=Me(o);return te(r)?E.some(r):E.none()})(P(e)).fold(()=>n.body.contains(e),Di(lo,We))};var Wn=(t,e,n,o,r)=>t(n,o)?E.some(n):be(r)&&r(n)?E.none():e(n,o,r);const jo=(t,e,n)=>{let o=t.dom;const r=be(n)?n:Be;for(;o.parentNode;){o=o.parentNode;const s=P(o);if(e(s))return E.some(s);if(r(s))break}return E.none()},Vn=(t,e,n)=>Wn((o,r)=>r(o),jo,t,e,n),fi=(t,e)=>{const n=o=>{for(let r=0;r<o.childNodes.length;r++){const s=P(o.childNodes[r]);if(e(s))return E.some(s);const i=n(o.childNodes[r]);if(i.isSome())return i}return E.none()};return n(t.dom)},cr=(t,e,n)=>jo(t,o=>fn(o,e),n),Qr=(t,e)=>((n,o)=>{const r=o===void 0?document:o.dom;return Mo(r)?E.none():E.from(r.querySelector(n)).map(P)})(e,t),dr=(t,e,n)=>Wn((o,r)=>fn(o,r),cr,t,e,n),ur=(t,e=!1)=>{return lo(t)?t.dom.isContentEditable:(n=t,dr(n,"[contenteditable]")).fold(yt(e),o=>mi(o)==="true");var n},mi=t=>t.dom.contentEditable,Br=t=>t.style!==void 0&&be(t.style.getPropertyValue),pi=(t,e,n)=>{if(!Dt(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Br(t)&&t.style.setProperty(e,n)},qs=(t,e,n)=>{const o=t.dom;pi(o,e,n)},Zr=(t,e)=>{const n=t.dom;_e(e,(o,r)=>{pi(n,r,o)})},I=(t,e)=>{const n=t.dom,o=window.getComputedStyle(n).getPropertyValue(e);return o!==""||lo(t)?o:X(n,e)},X=(t,e)=>Br(t)?t.style.getPropertyValue(e):"",rt=(t,e)=>{const n=t.dom,o=X(n,e);return E.from(o).filter(r=>r.length>0)},it=t=>{const e={},n=t.dom;if(Br(n))for(let o=0;o<n.style.length;o++){const r=n.style.item(o);e[r]=n.style[r]}return e},mt=(t,e)=>{((n,o)=>{Br(n)&&n.style.removeProperty(o)})(t.dom,e),Lr(er(t,"style").map(no),"")&&m(t,"style")},Ot=(t,e)=>{$n(t).each(n=>{n.dom.insertBefore(e.dom,t.dom)})},jt=(t,e)=>{wn(t).fold(()=>{$n(t).each(n=>{At(n,e)})},n=>{Ot(n,e)})},Kt=(t,e)=>{kn(t).fold(()=>{At(t,e)},n=>{t.dom.insertBefore(e.dom,n.dom)})},At=(t,e)=>{t.dom.appendChild(e.dom)},ye=(t,e)=>{Ot(t,e),At(e,t)},oe=(t,e)=>{Y(e,n=>{At(t,n)})},de=t=>{t.dom.textContent="",Y(Ce(t),e=>{Yt(e)})},Yt=t=>{const e=t.dom;e.parentNode!==null&&e.parentNode.removeChild(e)},se=t=>{const e=Ce(t);var n,o;e.length>0&&(n=t,Y(o=e,(r,s)=>{const i=s===0?n:o[s-1];jt(i,r)})),Yt(t)},an=t=>re(t,P),An=t=>t.dom.innerHTML,ln=(t,e)=>{const n=ke(t).dom,o=P(n.createDocumentFragment()),r=((s,i)=>{const a=(i||document).createElement("div");return a.innerHTML=s,Ce(P(a))})(e,n);oe(o,r),de(t),At(t,o)},Kn=(t,e,n,o)=>((r,s,i,a,l)=>{const c=((u,f)=>p=>{u(p)&&f((b=>{const h=P(Fo(b).getOr(b.target)),y=()=>b.stopPropagation(),g=()=>b.preventDefault(),C=_o(g,y);return((k,S,N,T,D,F,M)=>({target:k,x:S,y:N,stop:T,prevent:D,kill:F,raw:M}))(h,b.clientX,b.clientY,y,g,C,b)})(p))})(i,a);return r.dom.addEventListener(s,c,!1),{unbind:St(co,r,s,c,!1)}})(t,e,n,o),co=(t,e,n,o)=>{t.dom.removeEventListener(e,n,o)},uo=(t,e)=>({left:t,top:e,translate:(n,o)=>uo(t+n,e+o)}),Ne=uo,fo=(t,e)=>t!==void 0?t:e!==void 0?e:0,mo=t=>{const e=t.dom,n=e.ownerDocument.body;return n===e?Ne(n.offsetLeft,n.offsetTop):lo(t)?(o=>{const r=o.getBoundingClientRect();return Ne(r.left,r.top)})(e):Ne(0,0)},Cs=t=>{const e=t!==void 0?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop;return Ne(n,o)},Jr=(t,e,n)=>{const o=(n!==void 0?n.dom:document).defaultView;o&&o.scrollTo(t,e)},V=(t,e)=>{Bn().browser.isSafari()&&be(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},v=(t,e,n,o)=>({x:t,y:e,width:n,height:o,right:t+n,bottom:e+o}),R=t=>{const e=t===void 0?window:t,n=e.document,o=Cs(P(n));return(r=>{const s=r===void 0?window:r;return Bn().browser.isFirefox()?E.none():E.from(s.visualViewport)})(e).fold(()=>{const r=e.document.documentElement,s=r.clientWidth,i=r.clientHeight;return v(o.left,o.top,s,i)},r=>v(Math.max(r.pageLeft,o.left),Math.max(r.pageTop,o.top),r.width,r.height))},K=(t,e)=>{let n=[];return Y(Ce(t),o=>{e(o)&&(n=n.concat([o])),n=n.concat(K(o,e))}),n},dt=(t,e)=>((n,o)=>{const r=o===void 0?document:o.dom;return Mo(r)?[]:re(r.querySelectorAll(n),P)})(e,t),It=(t,e,n)=>jo(t,e,n).isSome(),Zt=(t,e)=>((n,o)=>{const r=n.dom;return r.parentNode?((s,i)=>Ue(s.dom.childNodes,a=>i(P(a))).map(P))(P(r.parentNode),s=>!Ft(n,s)&&o(s)):E.none()})(t,e).isSome(),Ae=(t,e)=>fi(t,e).isSome();class ge{constructor(e,n){this.node=e,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,n,o,r){if(e){if(!r&&e[n])return e[n];if(e!==this.rootNode){let s=e[o];if(s)return s;for(let i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(s=i[o],s)return s}}}findPreviousNode(e,n){if(e){const o=e.previousSibling;if(this.rootNode&&o===this.rootNode)return;if(o){if(!n){for(let s=o.lastChild;s;s=s.lastChild)if(!s.lastChild)return s}return o}const r=e.parentNode;if(r&&r!==this.rootNode)return r}}}const Mn="\uFEFF",Le="\xA0",$o=t=>t===Mn,ts=/^[ \t\r\n]*$/,xo=t=>ts.test(t),ws=t=>t===`
`||t==="\r",nr=(t,e=4,n=!0,o=!0)=>{const r=((a,l)=>l<=0?"":new Array(l+1).join(" "))(0,e),s=t.replace(/\t/g,r);return tn(s,(a,l)=>(c=>" \f	\v".indexOf(c)!==-1)(l)||l===Le?a.pcIsSpace||a.str===""&&n||a.str.length===s.length-1&&o||((c,u)=>u<c.length&&u>=0&&ws(c[u]))(s,a.str.length+1)?{pcIsSpace:!1,str:a.str+Le}:{pcIsSpace:!0,str:a.str+" "}:{pcIsSpace:ws(l),str:a.str+l},{pcIsSpace:!1,str:""}).str},fr=t=>e=>!!e&&e.nodeType===t,Ws=t=>!!t&&!Object.getPrototypeOf(t),Tt=fr(1),po=t=>Tt(t)&&vs(P(t)),Ui=t=>{const e=t.toLowerCase();return n=>gt(n)&&n.nodeName.toLowerCase()===e},es=t=>{const e=t.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const o=n.nodeName.toLowerCase();return pe(e,o)}return!1}},Bc=(t,e)=>{const n=e.toLowerCase().split(" ");return o=>{if(Tt(o)){const r=o.ownerDocument.defaultView;if(r)for(let s=0;s<n.length;s++){const i=r.getComputedStyle(o,null);if((i?i.getPropertyValue(t):null)===n[s])return!0}}return!1}},qi=t=>Tt(t)&&t.hasAttribute("data-mce-bogus"),xs=t=>Tt(t)&&t.tagName==="TABLE",Ph=t=>e=>!!(po(e)&&(e.contentEditable===t||e.getAttribute("data-mce-contenteditable")===t)),Nu=es(["textarea","input"]),ut=fr(3),HE=fr(4),zE=fr(7),hi=fr(8),El=fr(9),Tu=fr(11),Qe=Ui("br"),Mh=Ui("img"),Pr=Ph("true"),$e=Ph("false"),Pc=es(["td","th"]),UE=es(["td","th","caption"]),Es=es(["video","audio","object","embed"]),qE=Ui("li"),Ru=Ui("details"),WE=Ui("summary"),Ih={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},VE=t=>Tt(t)&&t.hasAttribute("data-mce-bookmark"),KE=(t,e,n,o)=>ut(t)&&!((r,s,i)=>xo(r.data)&&!((a,l,c)=>{const u=P(l),f=P(a),p=c.getWhitespaceElements();return It(f,b=>Ht(p,ue(b)),St(Ft,u))})(r,s,i))(t,e,n)&&(!o.includeZwsp||!(r=>{for(const s of r)if(!$o(s))return!1;return!0})(t.data)),Ou=(t,e,n,o)=>be(o.isContent)&&o.isContent(e)||((r,s)=>Tt(r)&&Ht(s.getNonEmptyElements(),r.nodeName))(e,t)||VE(e)||(r=>Tt(r)&&r.nodeName==="A"&&!r.hasAttribute("href")&&(r.hasAttribute("name")||r.hasAttribute("id")))(e)||KE(e,n,t,o)||$e(e)||Pr(e)&&(r=>io(P(r)).exists(s=>!ur(s)))(e),Vs=(t,e,n)=>{const o={...Ih,...n};if(o.checkRootAsContent&&Ou(t,e,e,o))return!1;let r=e.firstChild,s=0;if(!r)return!0;const i=new ge(r,e);do{if(o.skipBogus&&Tt(r)){const a=r.getAttribute("data-mce-bogus");if(a){r=i.next(a==="all");continue}}if(hi(r))r=i.next(!0);else if(Qe(r))s++,r=i.next();else{if(Ou(t,r,e,o))return!1;r=i.next()}}while(r);return s<=1},Yn=(t,e,n)=>Vs(t,e.dom,{checkRootAsContent:!0,...n}),Fh=(t,e,n)=>Ou(t,e,e,{includeZwsp:Ih.includeZwsp,...n}),Nn=t=>{let e=t;return{get:()=>e,set:n=>{e=n}}},YE=t=>{const e=Nn(E.none()),n=()=>e.get().each(o=>clearInterval(o));return{clear:()=>{n(),e.set(E.none())},isSet:()=>e.get().isSome(),get:()=>e.get(),set:o=>{n(),e.set(E.some(setInterval(o,t)))}}},Ks=()=>{const t=(e=>{const n=Nn(E.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(E.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:r=>{o(),n.set(E.some(r))}}})(Lt);return{...t,on:e=>t.get().each(e)}},jh=t=>{const e=t.toLowerCase();return e==="svg"?"svg":e==="math"?"math":"html"},Wi=t=>jh(t)!=="html",Du=t=>Wi(t.nodeName),$h=t=>jh(t.nodeName),XE=["svg","math"],Mc="data-mce-block",Lu=t=>re((e=>Wt(Je(e),n=>!/[A-Z]/.test(n)))(t),e=>{const n=CSS.escape(e);return`${n}:`+re(XE,o=>`not(${o} ${n})`).join(":")}).join(","),Hh=(t,e)=>gt(e.querySelector(t))?(e.setAttribute(Mc,"true"),e.getAttribute("data-mce-selected")==="inline-boundary"&&e.removeAttribute("data-mce-selected"),!0):(e.removeAttribute(Mc),!1),zh=(t,e)=>{const n=Lu(t.getTransparentElements()),o=Lu(t.getBlockElements());return Wt(e.querySelectorAll(n),r=>Hh(o,r))},Uh=(t,e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let s=e[r];s;s=s[r])if(Vs(t,s,{checkRootAsContent:!0}))return void((o=s.parentNode)===null||o===void 0||o.removeChild(s))},GE=(t,e,n)=>{const o=t.getBlockElements(),r=P(e),s=a=>ue(a)in o,i=a=>Ft(a,r);Y(an(n),a=>{jo(a,s,i).each(l=>{const c=((u,f)=>Wt(Ce(u),p=>s(p)&&!t.isValidChild(ue(l),ue(p))))(a);if(c.length>0){const u=io(l);Y(c,f=>{jo(f,s,i).each(p=>{((b,h,y)=>{const g=document.createRange(),C=h.parentNode;if(C){g.setStartBefore(h),g.setEndBefore(y);const k=g.extractContents();Uh(b,k,!0),g.setStartAfter(y),g.setEndAfter(h);const S=g.extractContents();Uh(b,S,!1),Vs(b,k,{checkRootAsContent:!0})||C.insertBefore(k,h),Vs(b,y,{checkRootAsContent:!0})||C.insertBefore(y,h),Vs(b,S,{checkRootAsContent:!0})||C.insertBefore(S,h),C.removeChild(h)}})(t,p.dom,f.dom)})}),u.each(f=>zh(t,f.dom))}})})},Bu=(t,e)=>{const n=zh(t,e);GE(t,e,n),((o,r,s)=>{Y([...s,...Vi(o,r)?[r]:[]],i=>Y(dt(P(i),i.nodeName.toLowerCase()),a=>{ZE(o,a.dom)&&se(a)}))})(t,e,n)},QE=(t,e)=>{if(Iu(t,e)){const n=Lu(t.getBlockElements());Hh(n,e)}},Pu=t=>t.hasAttribute(Mc),Mu=(t,e)=>Ht(t.getTransparentElements(),e),Iu=(t,e)=>Tt(e)&&Mu(t,e.nodeName),Vi=(t,e)=>Iu(t,e)&&Pu(e),ZE=(t,e)=>Iu(t,e)&&!Pu(e),Fu=(t,e)=>e.type===1&&Mu(t,e.name)&&Dt(e.attr(Mc)),JE=Bn().browser,qh=t=>Ue(t,En),Wh=(t,e)=>t.children&&pe(t.children,e),Vh=(t,e={})=>{let n=0;const o={},r=P(t),s=Pe(r),i=f=>{At(Ge(r),f)},a=f=>{const p=Ge(r);Qr(p,"#"+f).each(Yt)},l=f=>Ee(o,f).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),c=f=>new Promise((p,b)=>{let h;const y=lt._addCacheSuffix(f),g=l(y);o[y]=g,g.count++;const C=(T,D)=>{Y(T,Co),g.status=D,g.passed=[],g.failed=[],h&&(h.onload=null,h.onerror=null,h=null)},k=()=>C(g.passed,2),S=()=>C(g.failed,3);if(p&&g.passed.push(p),b&&g.failed.push(b),g.status===1)return;if(g.status===2)return void k();if(g.status===3)return void S();g.status=1;const N=Mt("link",s.dom);tr(N,{rel:"stylesheet",type:"text/css",id:g.id}),e.contentCssCors&&on(N,"crossOrigin","anonymous"),e.referrerPolicy&&on(N,"referrerpolicy",e.referrerPolicy),h=N.dom,h.onload=k,h.onerror=S,i(N),on(N,"href",y)}),u=f=>{const p=lt._addCacheSuffix(f);Ee(o,p).each(b=>{--b.count==0&&(delete o[p],a(b.id))})};return{load:c,loadRawCss:(f,p)=>{const b=l(f);o[f]=b,b.count++;const h=Mt("style",s.dom);tr(h,{rel:"stylesheet",type:"text/css",id:b.id}),h.dom.innerHTML=p,i(h)},loadAll:f=>Promise.allSettled(re(f,p=>c(p).then(yt(p)))).then(p=>{const b=Sr(p,h=>h.status==="fulfilled");return b.fail.length>0?Promise.reject(re(b.fail,h=>h.reason)):re(b.pass,h=>h.value)}),unload:u,unloadRawCss:f=>{Ee(o,f).each(p=>{--p.count==0&&(delete o[f],a(p.id))})},unloadAll:f=>{Y(f,p=>{u(p)})},_setReferrerPolicy:f=>{e.referrerPolicy=f},_setContentCssCors:f=>{e.contentCssCors=f}}},Kh=(()=>{const t=new WeakMap;return{forElement:(e,n)=>{const o=Me(e).dom;return E.from(t.get(o)).getOrThunk(()=>{const r=Vh(o,n);return t.set(o,r),r})}}})(),Yh=(t,e)=>gt(t)&&(Fh(e,t)||e.isInline(t.nodeName.toLowerCase())),Xh=t=>(e=>e.nodeName.toLowerCase()==="span")(t)&&t.getAttribute("data-mce-type")==="bookmark",ju=(t,e,n,o)=>{var r;const s=o||e;if(Tt(e)&&Xh(e))return e;const i=e.childNodes;for(let a=i.length-1;a>=0;a--)ju(t,i[a],n,s);if(Tt(e)){const a=e.childNodes;a.length===1&&Xh(a[0])&&((r=e.parentNode)===null||r===void 0||r.insertBefore(a[0],e))}return(a=>Tu(a)||El(a))(e)||Fh(n,e)||(a=>!!Tt(a)&&a.childNodes.length>0)(e)||((a,l,c)=>ut(a)&&a.data.length>0&&((u,f,p)=>{const b=new ge(u,f).prev(!1),h=new ge(u,f).next(!1),y=De(b)||Yh(b,p),g=De(h)||Yh(h,p);return y&&g})(a,l,c))(e,s,n)||t.remove(e),e},tk=lt.makeMap,Ic=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fc=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ek=/[<>&\"\']/g,nk=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ok={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Ki={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},rk={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Gh=(t,e)=>{const n={};if(t){const o=t.split(",");e=e||10;for(let r=0;r<o.length;r+=2){const s=String.fromCharCode(parseInt(o[r],e));if(!Ki[s]){const i="&"+o[r+1]+";";n[s]=i,n[i]=s}}return n}},$u=Gh("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Qh=(t,e)=>t.replace(e?Ic:Fc,n=>Ki[n]||n),Zh=(t,e)=>t.replace(e?Ic:Fc,n=>n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":Ki[n]||"&#"+n.charCodeAt(0)+";"),Hu=(t,e,n)=>{const o=n||$u;return t.replace(e?Ic:Fc,r=>Ki[r]||o[r]||r)},Yi={encodeRaw:Qh,encodeAllRaw:t=>(""+t).replace(ek,e=>Ki[e]||e),encodeNumeric:Zh,encodeNamed:Hu,getEncodeFunc:(t,e)=>{const n=Gh(e)||$u,o=tk(t.replace(/\+/g,","));return o.named&&o.numeric?(r,s)=>r.replace(s?Ic:Fc,i=>Ki[i]!==void 0?Ki[i]:n[i]!==void 0?n[i]:i.length>1?"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";":"&#"+i.charCodeAt(0)+";"):o.named?e?(r,s)=>Hu(r,s,n):Hu:o.numeric?Zh:Qh},decode:t=>t.replace(nk,(e,n)=>n?(n=n.charAt(0).toLowerCase()==="x"?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):ok[n]||String.fromCharCode(n):rk[e]||$u[e]||(o=>{const r=Mt("div").dom;return r.innerHTML=o,r.textContent||r.innerText||o})(e))},Hn=(t,e)=>(t=lt.trim(t))?t.split(e||" "):[],Jh=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),tg=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),eg=t=>{let e,n;e="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(e+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),e=[e,"center dir isindex noframes"].join(" "));const o=[e,n].join(" ");return{blockContent:e,phrasingContent:n,flowContent:o}},zu=t=>{const{blockContent:e,phrasingContent:n,flowContent:o}=eg(t),r=s=>Object.freeze(s.split(" "));return Object.freeze({blockContent:r(e),phrasingContent:r(n),flowContent:r(o)})},sk={html4:Yo(()=>zu("html4")),html5:Yo(()=>zu("html5")),"html5-strict":Yo(()=>zu("html5-strict"))},ng=(t,e)=>{const{blockContent:n,phrasingContent:o,flowContent:r}=sk[t]();return e==="blocks"?E.some(n):e==="phrasing"?E.some(o):e==="flow"?E.some(r):E.none()},Uu=t=>E.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(t)).map(e=>({preset:e[1]==="@",name:e[2]})),jc={},kl=lt.makeMap,ns=lt.each,og=lt.extend,rg=lt.explode,sg=(t,e={})=>{const n=kl(t," ",kl(t.toUpperCase()," "));return og(n,e)},ig=t=>sg("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),qu=(t,e)=>{if(t){const n={};return Dt(t)&&(t={"*":t}),ns(t,(o,r)=>{n[r]=n[r.toUpperCase()]=e==="map"?kl(o,/[, ]/):rg(o,/[, ]/)}),n}},gi=(t={})=>{var e;const n={},o={};let r=[];const s={},i={},a=(wt,ee,ae)=>{const ne=t[wt];if(ne)return kl(ne,/[, ]/,kl(ne.toUpperCase(),/[, ]/));{let we=jc[wt];return we||(we=sg(ee,ae),jc[wt]=we),we}},l=(e=t.schema)!==null&&e!==void 0?e:"html5",c=(wt=>{const ee=tg(wt),{phrasingContent:ae,flowContent:ne}=eg(wt),we={},Fe=(Se,je,yn)=>{we[Se]={attributes:Ln(je,yt({})),attributesOrder:je,children:Ln(yn,yt({}))}},_t=(Se,je="",yn="")=>{const Ao=Hn(yn),jr=Hn(Se);let Qn=jr.length;const Uo=[...ee,...Hn(je)];for(;Qn--;)Fe(jr[Qn],Uo.slice(),Ao)},zt=(Se,je)=>{const yn=Hn(Se),Ao=Hn(je);let jr=yn.length;for(;jr--;){const Qn=we[yn[jr]];for(let Uo=0,_n=Ao.length;Uo<_n;Uo++)Qn.attributes[Ao[Uo]]={},Qn.attributesOrder.push(Ao[Uo])}};return wt!=="html5-strict"&&(Y(Hn("acronym applet basefont big font strike tt"),Se=>{_t(Se,"",ae)}),Y(Hn("center dir isindex noframes"),Se=>{_t(Se,"",ne)})),_t("html","manifest","head body"),_t("head","","base command link meta noscript script style title"),_t("title hr noscript br"),_t("base","href target"),_t("link","href rel media hreflang type sizes hreflang"),_t("meta","name http-equiv content charset"),_t("style","media type scoped"),_t("script","src async defer type charset"),_t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",ne),_t("dd div","",ne),_t("address dt caption","",wt==="html4"?ae:ne),_t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",ae),_t("blockquote","cite",ne),_t("ol","reversed start type","li"),_t("ul","","li"),_t("li","value",ne),_t("dl","","dt dd"),_t("a","href target rel media hreflang type",wt==="html4"?ae:ne),_t("q","cite",ae),_t("ins del","cite datetime",ne),_t("img","src sizes srcset alt usemap ismap width height"),_t("iframe","src name width height",ne),_t("embed","src type width height"),_t("object","data type typemustmatch name usemap form width height",[ne,"param"].join(" ")),_t("param","name value"),_t("map","name",[ne,"area"].join(" ")),_t("area","alt coords shape href target rel media hreflang type"),_t("table","border","caption colgroup thead tfoot tbody tr"+(wt==="html4"?" col":"")),_t("colgroup","span","col"),_t("col","span"),_t("tbody thead tfoot","","tr"),_t("tr","","td th"),_t("td","colspan rowspan headers",ne),_t("th","colspan rowspan headers scope abbr",ne),_t("form","accept-charset action autocomplete enctype method name novalidate target",ne),_t("fieldset","disabled form name",[ne,"legend"].join(" ")),_t("label","form for",ae),_t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),_t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",wt==="html4"?ne:ae),_t("select","disabled form multiple name required size","option optgroup"),_t("optgroup","disabled label","option"),_t("option","disabled label selected value"),_t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),_t("menu","type label",[ne,"li"].join(" ")),_t("noscript","",ne),wt!=="html4"&&(_t("wbr"),_t("ruby","",[ae,"rt rp"].join(" ")),_t("figcaption","",ne),_t("mark rt rp bdi","",ae),_t("summary","",[ae,"h1 h2 h3 h4 h5 h6"].join(" ")),_t("canvas","width height",ne),_t("data","value",ae),_t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[ne,"track source"].join(" ")),_t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[ne,"track source"].join(" ")),_t("picture","","img source"),_t("source","src srcset type media sizes"),_t("track","kind src srclang label default"),_t("datalist","",[ae,"option"].join(" ")),_t("article section nav aside main header footer","",ne),_t("hgroup","","h1 h2 h3 h4 h5 h6"),_t("figure","",[ne,"figcaption"].join(" ")),_t("time","datetime",ae),_t("dialog","open",ne),_t("command","type label icon disabled checked radiogroup command"),_t("output","for form name",ae),_t("progress","value max",ae),_t("meter","value min max low high optimum",ae),_t("details","open",[ne,"summary"].join(" ")),_t("keygen","autofocus challenge disabled form keytype name"),Fe("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),wt!=="html5-strict"&&(zt("script","language xml:space"),zt("style","xml:space"),zt("object","declare classid code codebase codetype archive standby align border hspace vspace"),zt("embed","align name hspace vspace"),zt("param","valuetype type"),zt("a","charset name rev shape coords"),zt("br","clear"),zt("applet","codebase archive code object alt name width height align hspace vspace"),zt("img","name longdesc align border hspace vspace"),zt("iframe","longdesc frameborder marginwidth marginheight scrolling align"),zt("font basefont","size color face"),zt("input","usemap align"),zt("select"),zt("textarea"),zt("h1 h2 h3 h4 h5 h6 div p legend caption","align"),zt("ul","type compact"),zt("li","type"),zt("ol dl menu dir","compact"),zt("pre","width xml:space"),zt("hr","align noshade size width"),zt("isindex","prompt"),zt("table","summary width frame rules cellspacing cellpadding align bgcolor"),zt("col","width align char charoff valign"),zt("colgroup","width align char charoff valign"),zt("thead","align char charoff valign"),zt("tr","align char charoff valign bgcolor"),zt("th","axis align char charoff valign nowrap bgcolor width height"),zt("form","accept"),zt("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),zt("tfoot","align char charoff valign"),zt("tbody","align char charoff valign"),zt("area","nohref"),zt("body","background bgcolor text link vlink alink")),wt!=="html4"&&(zt("input button select textarea","autofocus"),zt("input textarea","placeholder"),zt("a","download"),zt("link script img","crossorigin"),zt("img","loading"),zt("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),wt!=="html4"&&Y([we.video,we.audio],Se=>{delete Se.children.audio,delete Se.children.video}),Y(Hn("a form meter progress dfn"),Se=>{we[Se]&&delete we[Se].children[Se]}),delete we.caption.children.table,delete we.script,we})(l);t.verify_html===!1&&(t.valid_elements="*[*]");const u=qu(t.valid_styles),f=qu(t.invalid_styles,"map"),p=qu(t.valid_classes,"map"),b=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),y=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),C="td th iframe video audio object script code",k=a("non_empty_elements",C+" pre svg textarea summary",y),S=a("move_caret_before_on_enter_elements",C+" table",y),N="h1 h2 h3 h4 h5 h6",T=a("text_block_elements",N+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),D=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",T),F=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),M=a("transparent_elements","a ins del canvas map"),z=a("wrap_block_elements","pre "+N);ns("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),wt=>{i[wt]=new RegExp("</"+wt+"[^>]*>","gi")});const G=wt=>{const ee=E.from(n["@"]),ae=/[*?+]/;Y(((ne,we)=>{const Fe=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return en(Hn(we,","),_t=>{const zt=Fe.exec(_t);if(zt){const Se=zt[1],je=zt[2],yn=zt[3],Ao=zt[4],jr=zt[5],Qn={attributes:{},attributesOrder:[]};if(ne.each(Uo=>((_n,ir)=>{_e(_n.attributes,(Ps,Js)=>{ir.attributes[Js]=Ps}),ir.attributesOrder.push(..._n.attributesOrder)})(Uo,Qn)),Se==="#"?Qn.paddEmpty=!0:Se==="-"&&(Qn.removeEmpty=!0),Ao==="!"&&(Qn.removeEmptyAttrs=!0),jr&&((Uo,_n)=>{const ir=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ps=/[*?+]/,{attributes:Js,attributesOrder:_a}=_n;Y(Hn(Uo,"|"),Lh=>{const $r=ir.exec(Lh);if($r){const Ri={},On=$r[1],vo=$r[2].replace(/[\\:]:/g,":"),gl=$r[3],Oi=$r[4];if(On==="!"&&(_n.attributesRequired=_n.attributesRequired||[],_n.attributesRequired.push(vo),Ri.required=!0),On==="-")return delete Js[vo],void _a.splice(lt.inArray(_a,vo),1);if(gl&&(gl==="="?(_n.attributesDefault=_n.attributesDefault||[],_n.attributesDefault.push({name:vo,value:Oi}),Ri.defaultValue=Oi):gl==="~"?(_n.attributesForced=_n.attributesForced||[],_n.attributesForced.push({name:vo,value:Oi}),Ri.forcedValue=Oi):gl==="<"&&(Ri.validValues=lt.makeMap(Oi,"?"))),Ps.test(vo)){const bl=Ri;_n.attributePatterns=_n.attributePatterns||[],bl.pattern=Jh(vo),_n.attributePatterns.push(bl)}else Js[vo]||_a.push(vo),Js[vo]=Ri}})})(jr,Qn),yn&&(Qn.outputName=je),je==="@"){if(!ne.isNone())return[];ne=E.some(Qn)}return[yn?{name:je,element:Qn,aliasName:yn}:{name:je,element:Qn}]}return[]})})(ee,wt??""),({name:ne,element:we,aliasName:Fe})=>{if(Fe&&(n[Fe]=we),ae.test(ne)){const _t=we;_t.pattern=Jh(ne),r.push(_t)}else n[ne]=we})},B=wt=>{r=[],Y(Je(n),ee=>{delete n[ee]}),G(wt)},j=(wt,ee)=>{var ae,ne;delete jc.text_block_elements,delete jc.block_elements;const we=!!ee.extends&&!Te(ee.extends),Fe=ee.extends;if(o[wt]=Fe?o[Fe]:{},s[wt]=Fe??wt,k[wt.toUpperCase()]={},k[wt]={},we||(D[wt.toUpperCase()]={},D[wt]={}),Fe&&!n[wt]&&n[Fe]){const _t=(zt=>{const Se=je=>Oe(je)?re(je,Se):(yn=>Xt(yn)&&yn.source&&Object.prototype.toString.call(yn)==="[object RegExp]")(je)?new RegExp(je.source,je.flags):Xt(je)?fs(je,Se):je;return Se(zt)})(n[Fe]);delete _t.removeEmptyAttrs,delete _t.removeEmpty,n[wt]=_t}else n[wt]={attributesOrder:[],attributes:{}};if(Oe(ee.attributes)){const _t=Se=>{zt.attributesOrder.push(Se),zt.attributes[Se]={}},zt=(ae=n[wt])!==null&&ae!==void 0?ae:{};delete zt.attributesDefault,delete zt.attributesForced,delete zt.attributePatterns,delete zt.attributesRequired,zt.attributesOrder=[],zt.attributes={},Y(ee.attributes,Se=>{const je=tg(l);Uu(Se).each(({preset:yn,name:Ao})=>{yn?Ao==="global"&&Y(je,_t):_t(Ao)})}),n[wt]=zt}if(dn(ee.padEmpty)){const _t=(ne=n[wt])!==null&&ne!==void 0?ne:{};_t.paddEmpty=ee.padEmpty,n[wt]=_t}if(Oe(ee.children)){const _t={},zt=je=>{_t[je]={}},Se=je=>{ng(l,je).each(yn=>{Y(yn,zt)})};Y(ee.children,je=>{Uu(je).each(({preset:yn,name:Ao})=>{yn?Se(Ao):zt(Ao)})}),o[wt]=_t}Fe&&_e(o,(_t,zt)=>{_t[Fe]&&(o[zt]=_t=og({},o[zt]),_t[wt]=_t[Fe])})},H=wt=>{Xt(wt)?_e(wt,(ee,ae)=>j(ae,ee)):Dt(wt)&&(ee=>{Y((ae=>{const ne=/^(~)?(.+)$/;return en(Hn(ae,","),we=>{const Fe=ne.exec(we);return Fe?[{cloneName:Fe[1]==="~"?"span":"div",name:Fe[2]}]:[]})})(ee??""),({name:ae,cloneName:ne})=>{j(ae,{extends:ne})})})(wt)},et=wt=>{Y((ee=>{const ae=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return en(Hn(ee,","),ne=>{const we=ae.exec(ne);if(we){const Fe=we[1];return[{operation:Fe?(zt=>zt==="-"?"remove":"add")(Fe):"replace",name:we[2],validChildren:en(Hn(we[3],"|"),zt=>Uu(zt).toArray())}]}return[]})})(wt??""),({operation:ee,name:ae,validChildren:ne})=>{const we=ee==="replace"?{"#comment":{}}:o[ae],Fe=_t=>{ee==="remove"?delete we[_t]:we[_t]={}};Y(ne,({preset:_t,name:zt})=>{_t?(Se=>{ng(l,Se).each(je=>{Y(je,Fe)})})(zt):Fe(zt)}),o[ae]=we})},ft=wt=>{const ee=n[wt];if(ee)return ee;let ae=r.length;for(;ae--;){const ne=r[ae];if(ne.pattern.test(wt))return ne}},ct=yt(u),Et=yt(f),Rt=yt(p),Bt=yt(g),kt=yt(D),bt=yt(T),Nt=yt(F),$=yt(Object.seal(y)),U=yt(h),J=yt(k),nt=yt(S),vt=yt(b),pt=yt(M),$t=yt(z),Ut=yt(Object.seal(i)),Gt=(wt,ee)=>{const ae=ft(wt);if(ae){if(!ee)return!0;{if(ae.attributes[ee])return!0;const ne=ae.attributePatterns;if(ne){let we=ne.length;for(;we--;)if(ne[we].pattern.test(ee))return!0}}}return!1},Te=wt=>Ht(kt(),wt),Ve=wt=>!Xe(wt,"#")&&Gt(wt)&&!Te(wt),sr=yt(s);return t.valid_elements?(B(t.valid_elements),ns(c,(wt,ee)=>{o[ee]=wt.children})):(ns(c,(wt,ee)=>{n[ee]={attributes:wt.attributes,attributesOrder:wt.attributesOrder},o[ee]=wt.children}),ns(Hn("strong/b em/i"),wt=>{const ee=Hn(wt,"/");n[ee[1]].outputName=ee[0]}),ns(F,(wt,ee)=>{n[ee]&&(t.padd_empty_block_inline_children&&(n[ee].paddInEmptyBlock=!0),n[ee].removeEmpty=!0)}),ns(Hn("ol ul blockquote a table tbody"),wt=>{n[wt]&&(n[wt].removeEmpty=!0)}),ns(Hn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),wt=>{n[wt]&&(n[wt].paddEmpty=!0)}),ns(Hn("span"),wt=>{n[wt].removeEmptyAttrs=!0})),delete n.svg,H(t.custom_elements),et(t.valid_children),G(t.extended_valid_elements),et("+ol[ul|ol],+ul[ul|ol]"),ns({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(wt,ee)=>{n[ee]&&(n[ee].parentsRequired=Hn(wt))}),t.invalid_elements&&ns(rg(t.invalid_elements),wt=>{n[wt]&&delete n[wt]}),ft("span")||G("span[!data-mce-type|*]"),{type:l,children:o,elements:n,getValidStyles:ct,getValidClasses:Rt,getBlockElements:kt,getInvalidStyles:Et,getVoidElements:$,getTextBlockElements:bt,getTextInlineElements:Nt,getBoolAttrs:Bt,getElementRule:ft,getSelfClosingElements:U,getNonEmptyElements:J,getMoveCaretBeforeOnEnterElements:nt,getWhitespaceElements:vt,getTransparentElements:pt,getSpecialElements:Ut,isValidChild:(wt,ee)=>{const ae=o[wt.toLowerCase()];return!(!ae||!ae[ee.toLowerCase()])},isValid:Gt,isBlock:Te,isInline:Ve,isWrapper:wt=>Ht($t(),wt)||Ve(wt),getCustomElements:sr,addValidElements:G,setValidElements:B,addCustomElements:H,addValidChildren:et}},Wu=t=>{const e=t.toString(16);return(e.length===1?"0"+e:e).toUpperCase()},ik=t=>(e=>{return{value:(n=e,lr(n,"#").toUpperCase())};var n})(Wu(t.red)+Wu(t.green)+Wu(t.blue)),ag=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,lg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,cg=(t,e,n,o)=>((r,s,i,a)=>({red:r,green:s,blue:i,alpha:a}))(parseInt(t,10),parseInt(e,10),parseInt(n,10),parseFloat(o)),dg=t=>{const e=ag.exec(t);if(e!==null)return E.some(cg(e[1],e[2],e[3],"1"));const n=lg.exec(t);return n!==null?E.some(cg(n[1],n[2],n[3],n[4])):E.none()},ak=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,Sl=t=>dg(t).map(ik).map(e=>"#"+e.value).getOr(t),Vu=(t={},e)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/,s={};let i,a;const l=Mn;e&&(i=e.getValidStyles(),a=e.getInvalidStyles());const c=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let f=0;f<c.length;f++)s[c[f]]=l+f,s[l+f]=c[f];const u={parse:f=>{const p={};let b=!1;const h=t.url_converter,y=t.url_converter_scope||u,g=(B,j,H)=>{const et=p[B+"-top"+j];if(!et)return;const ft=p[B+"-right"+j];if(!ft)return;const ct=p[B+"-bottom"+j];if(!ct)return;const Et=p[B+"-left"+j];if(!Et)return;const Rt=[et,ft,ct,Et];let Bt=Rt.length-1;for(;Bt--&&Rt[Bt]===Rt[Bt+1];);Bt>-1&&H||(p[B+j]=Bt===-1?Rt[0]:Rt.join(" "),delete p[B+"-top"+j],delete p[B+"-right"+j],delete p[B+"-bottom"+j],delete p[B+"-left"+j])},C=B=>{const j=p[B];if(!j)return;const H=j.indexOf(",")>-1?[j]:j.split(" ");let et=H.length;for(;et--;)if(H[et]!==H[0])return!1;return p[B]=H[0],!0},k=B=>(b=!0,s[B]),S=(B,j)=>(b&&(B=B.replace(/\uFEFF[0-9]/g,H=>s[H])),j||(B=B.replace(/\\([\'\";:])/g,"$1")),B),N=B=>String.fromCharCode(parseInt(B.slice(1),16)),T=B=>B.replace(/\\[0-9a-f]+/gi,N),D=(B,j,H,et,ft,ct)=>{if(ft=ft||ct)return"'"+(ft=S(ft)).replace(/\'/g,"\\'")+"'";if(j=S(j||H||et||""),!t.allow_script_urls){const Et=j.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Et)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Et))return""}return h&&(j=h.call(y,j,"style")),"url('"+j.replace(/\'/g,"\\'")+"')"};if(f){let B;for(f=(f=f.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,k).replace(/\"[^\"]+\"|\'[^\']+\'/g,j=>j.replace(/[;:]/g,k));B=o.exec(f);){o.lastIndex=B.index+B[0].length;let j=B[1].replace(r,"").toLowerCase(),H=B[2].replace(r,"");if(j&&H){if(j=T(j),H=T(H),j.indexOf(l)!==-1||j.indexOf('"')!==-1||!t.allow_script_urls&&(j==="behavior"||/expression\s*\(|\/\*|\*\//.test(H)))continue;j==="font-weight"&&H==="700"?H="bold":j!=="color"&&j!=="background-color"||(H=H.toLowerCase()),G=H,(ag.test(G)?"rgb":lg.test(G)?"rgba":"other")=="rgb"&&dg(H).each(et=>{H=Sl(ak(et)).toLowerCase()}),H=H.replace(n,D),p[j]=b?S(H,!0):H}}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),M="border-style",z="border-color",C(F="border-width")&&C(M)&&C(z)&&(p.border=p[F]+" "+p[M]+" "+p[z],delete p[F],delete p[M],delete p[z]),p.border==="medium none"&&delete p.border,p["border-image"]==="none"&&delete p["border-image"]}var F,M,z,G;return p},serialize:(f,p)=>{let b="";const h=(y,g)=>{const C=g[y];if(C)for(let k=0,S=C.length;k<S;k++){const N=C[k],T=f[N];T&&(b+=(b.length>0?" ":"")+N+": "+T+";")}};return p&&i?(h("*",i),h(p,i)):_e(f,(y,g)=>{y&&((C,k)=>{if(!a||!k)return!0;let S=a["*"];return!(S&&S[C]||(S=a[k],S&&S[C]))})(g,p)&&(b+=(b.length>0?" ":"")+g+": "+y+";")}),b}};return u},lk={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ug=(t,e)=>{const n=e??{};for(const o in t)Ht(lk,o)||(n[o]=t[o]);return gt(t.composedPath)&&(n.composedPath=()=>t.composedPath()),gt(t.getModifierState)&&(n.getModifierState=o=>t.getModifierState(o)),gt(t.getTargetRanges)&&(n.getTargetRanges=()=>t.getTargetRanges()),n},Ku=(t,e,n,o)=>{var r;const s=ug(e,o);return s.type=t,he(s.target)&&(s.target=(r=s.srcElement)!==null&&r!==void 0?r:n),(i=>he(i.preventDefault)||(a=>a instanceof Event||be(a.initEvent))(i))(e)&&(s.preventDefault=()=>{s.defaultPrevented=!0,s.isDefaultPrevented=ze,be(e.preventDefault)&&e.preventDefault()},s.stopPropagation=()=>{s.cancelBubble=!0,s.isPropagationStopped=ze,be(e.stopPropagation)&&e.stopPropagation()},s.stopImmediatePropagation=()=>{s.isImmediatePropagationStopped=ze,s.stopPropagation()},(i=>i.isDefaultPrevented===ze||i.isDefaultPrevented===Be)(s)||(s.isDefaultPrevented=s.defaultPrevented===!0?ze:Be,s.isPropagationStopped=s.cancelBubble===!0?ze:Be,s.isImmediatePropagationStopped=Be)),s},ck=/^(?:mouse|contextmenu)|click/,Yu=(t,e,n,o)=>{t.addEventListener(e,n,o||!1)},$c=(t,e,n,o)=>{t.removeEventListener(e,n,o||!1)},Al=(t,e)=>{const n=Ku(t.type,t,document,e);if((o=>gt(o)&&ck.test(o.type))(t)&&De(t.pageX)&&!De(t.clientX)){const o=n.target.ownerDocument||document,r=o.documentElement,s=o.body,i=n;i.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}return n},dk=(t,e,n)=>{const o=t.document,r={type:"ready"};if(n.domLoaded)return void e(r);const s=()=>{$c(t,"DOMContentLoaded",s),$c(t,"load",s),n.domLoaded||(n.domLoaded=!0,e(r)),t=null};o.readyState==="complete"||o.readyState==="interactive"&&o.body?s():Yu(t,"DOMContentLoaded",s),n.domLoaded||Yu(t,"load",s)};class Xi{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,n,o,r){const s=this;let i;const a=window,l=p=>{s.executeHandlers(Al(p||a.event),c)};if(!e||ut(e)||hi(e))return o;let c;e[s.expando]?c=e[s.expando]:(c=s.count++,e[s.expando]=c,s.events[c]={}),r=r||e;const u=n.split(" ");let f=u.length;for(;f--;){let p=u[f],b=l,h=!1,y=!1;p==="DOMContentLoaded"&&(p="ready"),s.domLoaded&&p==="ready"&&e.readyState==="complete"?o.call(r,Al({type:p})):(s.hasFocusIn||p!=="focusin"&&p!=="focusout"||(h=!0,y=p==="focusin"?"focus":"blur",b=g=>{const C=Al(g||a.event);C.type=C.type==="focus"?"focusin":"focusout",s.executeHandlers(C,c)}),i=s.events[c][p],i?p==="ready"&&s.domLoaded?o(Al({type:p})):i.push({func:o,scope:r}):(s.events[c][p]=i=[{func:o,scope:r}],i.fakeName=y,i.capture=h,i.nativeHandler=b,p==="ready"?dk(e,b,s):Yu(e,y||p,b,h)))}return e=i=null,o}unbind(e,n,o){if(!e||ut(e)||hi(e))return this;const r=e[this.expando];if(r){let s=this.events[r];if(n){const i=n.split(" ");let a=i.length;for(;a--;){const l=i[a],c=s[l];if(c){if(o){let u=c.length;for(;u--;)if(c[u].func===o){const f=c.nativeHandler,p=c.fakeName,b=c.capture,h=c.slice(0,u).concat(c.slice(u+1));h.nativeHandler=f,h.fakeName=p,h.capture=b,s[l]=h}}o&&c.length!==0||(delete s[l],$c(e,c.fakeName||l,c.nativeHandler,c.capture))}}}else _e(s,(i,a)=>{$c(e,i.fakeName||a,i.nativeHandler,i.capture)}),s={};for(const i in s)if(Ht(s,i))return this;delete this.events[r];try{delete e[this.expando]}catch{e[this.expando]=null}}return this}fire(e,n,o){return this.dispatch(e,n,o)}dispatch(e,n,o){if(!e||ut(e)||hi(e))return this;const r=Al({type:n,target:e},o);do{const s=e[this.expando];s&&this.executeHandlers(r,s),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){if(!e||ut(e)||hi(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const n=e.getElementsByTagName("*");let o=n.length;for(;o--;)(e=n[o])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,n){const o=this.events[n],r=o&&o[e.type];if(r)for(let s=0,i=r.length;s<i;s++){const a=r[s];if(a&&a.func.call(a.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Xi.Event=new Xi;const Xu=lt.each,uk=lt.grep,Gu="data-mce-style",fk=lt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Nl=(t,e,n)=>{he(n)||n===""?m(t,e):on(t,e,n)},fg=t=>t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Pa=(t,e)=>{let n=0;if(t)for(let o=t.nodeType,r=t.previousSibling;r;r=r.previousSibling){const s=r.nodeType;(!e||!ut(r)||s!==o&&r.data.length)&&(n++,o=s)}return n},mg=(t,e)=>{const n=jn(e,"style"),o=t.serialize(t.parse(n),ue(e));Nl(e,Gu,o)},pg=(t,e,n)=>{const o=fg(e);he(n)||n===""?mt(t,o):qs(t,o,((r,s)=>x(r)?Ht(fk,s)?r+"":r+"px":r)(n,o))},Ie=(t,e={})=>{const n={},o=window,r={};let s=0;const i=Kh.forElement(P(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),a=[],l=e.schema?e.schema:gi({}),c=Vu({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),u=e.ownEvents?new Xi:Xi.Event,f=l.getBlockElements(),p=$=>$&&t&&Dt($)?t.getElementById($):$,b=$=>{const U=p($);return gt(U)?P(U):null},h=($,U,J="")=>{let nt;const vt=b($);if(gt(vt)&&En(vt)){const pt=Nt[U];nt=pt&&pt.get?pt.get(vt.dom,U):jn(vt,U)}return gt(nt)?nt:J},y=$=>{const U=p($);return he(U)?[]:U.attributes},g=($,U,J)=>{M($,nt=>{if(Tt(nt)){const vt=P(nt),pt=J===""?null:J,$t=jn(vt,U),Ut=Nt[U];Ut&&Ut.set?Ut.set(vt.dom,pt,U):Nl(vt,U,pt),$t!==pt&&e.onSetAttrib&&e.onSetAttrib({attrElm:vt.dom,attrName:U,attrValue:pt})}})},C=()=>e.root_element||t.body,k=($,U)=>((J,nt,vt)=>{let pt=0,$t=0;const Ut=J.ownerDocument;if(vt=vt||J,nt){if(vt===J&&nt.getBoundingClientRect&&I(P(J),"position")==="static"){const Te=nt.getBoundingClientRect();return pt=Te.left+(Ut.documentElement.scrollLeft||J.scrollLeft)-Ut.documentElement.clientLeft,$t=Te.top+(Ut.documentElement.scrollTop||J.scrollTop)-Ut.documentElement.clientTop,{x:pt,y:$t}}let Gt=nt;for(;Gt&&Gt!==vt&&Gt.nodeType&&!Wh(Gt,vt);){const Te=Gt;pt+=Te.offsetLeft||0,$t+=Te.offsetTop||0,Gt=Te.offsetParent}for(Gt=nt.parentNode;Gt&&Gt!==vt&&Gt.nodeType&&!Wh(Gt,vt);)pt-=Gt.scrollLeft||0,$t-=Gt.scrollTop||0,Gt=Gt.parentNode;$t+=(Te=>JE.isFirefox()&&ue(Te)==="table"?qh(Ce(Te)).filter(Ve=>ue(Ve)==="caption").bind(Ve=>qh(ao(Ve)).map(sr=>{const wt=sr.dom.offsetTop,ee=Ve.dom.offsetTop,ae=Ve.dom.offsetHeight;return wt<=ee?-ae:0})).getOr(0):0)(P(nt))}return{x:pt,y:$t}})(t.body,p($),U),S=($,U,J)=>{const nt=p($);var vt;if(!he(nt)&&(po(nt)||Tt(vt=nt)&&vt.namespaceURI==="http://www.w3.org/2000/svg"))return J?I(P(nt),fg(U)):((U=U.replace(/-(\D)/g,(pt,$t)=>$t.toUpperCase()))==="float"&&(U="cssFloat"),nt.style?nt.style[U]:void 0)},N=$=>{const U=p($);if(!U)return{w:0,h:0};let J=S(U,"width"),nt=S(U,"height");return J&&J.indexOf("px")!==-1||(J="0"),nt&&nt.indexOf("px")!==-1||(nt="0"),{w:parseInt(J,10)||U.offsetWidth||U.clientWidth,h:parseInt(nt,10)||U.offsetHeight||U.clientHeight}},T=($,U)=>{if(!$)return!1;const J=Oe($)?$:[$];return ve(J,nt=>fn(P(nt),U))},D=($,U,J,nt)=>{const vt=[];let pt=p($);nt=nt===void 0;const $t=J||(C().nodeName!=="BODY"?C().parentNode:null);if(Dt(U))if(U==="*")U=Tt;else{const Ut=U;U=Gt=>T(Gt,Ut)}for(;pt&&!(pt===$t||he(pt.nodeType)||El(pt)||Tu(pt));){if(!U||U(pt)){if(!nt)return[pt];vt.push(pt)}pt=pt.parentNode}return nt?vt:null},F=($,U,J)=>{let nt=U;if($){Dt(U)&&(nt=vt=>T(vt,U));for(let vt=$[J];vt;vt=vt[J])if(be(nt)&&nt(vt))return vt}return null},M=function($,U,J){const nt=J??this;if(Oe($)){const vt=[];return Xu($,(pt,$t)=>{const Ut=p(pt);Ut&&vt.push(U.call(nt,Ut,$t))}),vt}{const vt=p($);return!!vt&&U.call(nt,vt)}},z=($,U)=>{M($,J=>{_e(U,(nt,vt)=>{g(J,vt,nt)})})},G=($,U)=>{M($,J=>{const nt=P(J);ln(nt,U)})},B=($,U,J,nt,vt)=>M($,pt=>{const $t=Dt(U)?t.createElement(U):U;return gt(J)&&z($t,J),nt&&(!Dt(nt)&&nt.nodeType?$t.appendChild(nt):Dt(nt)&&G($t,nt)),vt?$t:pt.appendChild($t)}),j=($,U,J)=>B(t.createElement($),$,U,J,!0),H=Yi.encodeAllRaw,et=($,U)=>M($,J=>{const nt=P(J);return U&&Y(Ce(nt),vt=>{Cn(vt)&&vt.dom.length===0?Yt(vt):Ot(nt,vt)}),Yt(nt),nt.dom}),ft=($,U,J)=>{M($,nt=>{if(Tt(nt)){const vt=P(nt),pt=U.split(" ");Y(pt,$t=>{gt(J)?(J?q:st)(vt,$t):((Ut,Gt)=>{const Te=A(Ut)?Ut.dom.classList.toggle(Gt):((Ve,sr)=>pe(O(Ve),sr)?W(Ve,sr):L(Ve,sr))(Ut,Gt);Z(Ut)})(vt,$t)})}})},ct=($,U,J)=>M(U,nt=>{var vt;const pt=Oe(U)?$.cloneNode(!0):$;return J&&Xu(uk(nt.childNodes),$t=>{pt.appendChild($t)}),(vt=nt.parentNode)===null||vt===void 0||vt.replaceChild(pt,nt),nt}),Et=()=>t.createRange(),Rt=($,U,J,nt)=>{if(Oe($)){let vt=$.length;const pt=[];for(;vt--;)pt[vt]=Rt($[vt],U,J,nt);return pt}return!e.collect||$!==t&&$!==o||a.push([$,U,J,nt]),u.bind($,U,J,nt||bt)},Bt=($,U,J)=>{if(Oe($)){let nt=$.length;const vt=[];for(;nt--;)vt[nt]=Bt($[nt],U,J);return vt}if(a.length>0&&($===t||$===o)){let nt=a.length;for(;nt--;){const[vt,pt,$t]=a[nt];$!==vt||U&&U!==pt||J&&J!==$t||u.unbind(vt,pt,$t)}}return u.unbind($,U,J)},kt=$=>{if($&&po($)){const U=$.getAttribute("data-mce-contenteditable");return U&&U!=="inherit"?U:$.contentEditable!=="inherit"?$.contentEditable:null}return null},bt={doc:t,settings:e,win:o,files:r,stdMode:!0,boxModel:!0,styleSheetLoader:i,boundEvents:a,styles:c,schema:l,events:u,isBlock:$=>Dt($)?Ht(f,$):Tt($)&&(Ht(f,$.nodeName)||Vi(l,$)),root:null,clone:($,U)=>$.cloneNode(U),getRoot:C,getViewPort:$=>{const U=R($);return{x:U.x,y:U.y,w:U.width,h:U.height}},getRect:$=>{const U=p($),J=k(U),nt=N(U);return{x:J.x,y:J.y,w:nt.w,h:nt.h}},getSize:N,getParent:($,U,J)=>{const nt=D($,U,J,!1);return nt&&nt.length>0?nt[0]:null},getParents:D,get:p,getNext:($,U)=>F($,U,"nextSibling"),getPrev:($,U)=>F($,U,"previousSibling"),select:($,U)=>{var J,nt;const vt=(nt=(J=p(U))!==null&&J!==void 0?J:e.root_element)!==null&&nt!==void 0?nt:t;return be(vt.querySelectorAll)?nn(vt.querySelectorAll($)):[]},is:T,add:B,create:j,createHTML:($,U,J="")=>{let nt="<"+$;for(const vt in U)un(U,vt)&&(nt+=" "+vt+'="'+H(U[vt])+'"');return gs(J)&&Ht(l.getVoidElements(),$)?nt+" />":nt+">"+J+"</"+$+">"},createFragment:$=>{const U=t.createElement("div"),J=t.createDocumentFragment();let nt;for(J.appendChild(U),$&&(U.innerHTML=$);nt=U.firstChild;)J.appendChild(nt);return J.removeChild(U),J},remove:et,setStyle:($,U,J)=>{M($,nt=>{const vt=P(nt);pg(vt,U,J),e.update_styles&&mg(c,vt)})},getStyle:S,setStyles:($,U)=>{M($,J=>{const nt=P(J);_e(U,(vt,pt)=>{pg(nt,pt,vt)}),e.update_styles&&mg(c,nt)})},removeAllAttribs:$=>M($,U=>{const J=U.attributes;for(let nt=J.length-1;nt>=0;nt--)U.removeAttributeNode(J.item(nt))}),setAttrib:g,setAttribs:z,getAttrib:h,getPos:k,parseStyle:$=>c.parse($),serializeStyle:($,U)=>c.serialize($,U),addStyle:$=>{if(bt!==Ie.DOM&&t===document){if(n[$])return;n[$]=!0}let U=t.getElementById("mceDefaultStyles");if(!U){U=t.createElement("style"),U.id="mceDefaultStyles",U.type="text/css";const J=t.head;J.firstChild?J.insertBefore(U,J.firstChild):J.appendChild(U)}U.styleSheet?U.styleSheet.cssText+=$:U.appendChild(t.createTextNode($))},loadCSS:$=>{$||($=""),Y($.split(","),U=>{r[U]=!0,i.load(U).catch(Lt)})},addClass:($,U)=>{ft($,U,!0)},removeClass:($,U)=>{ft($,U,!1)},hasClass:($,U)=>{const J=b($),nt=U.split(" ");return gt(J)&&Jn(nt,vt=>at(J,vt))},toggleClass:ft,show:$=>{M($,U=>mt(P(U),"display"))},hide:$=>{M($,U=>qs(P(U),"display","none"))},isHidden:$=>{const U=b($);return gt(U)&&Lr(rt(U,"display"),"none")},uniqueId:$=>($||"mce_")+s++,setHTML:G,getOuterHTML:$=>{const U=b($);return gt(U)?Tt(U.dom)?U.dom.outerHTML:(J=>{const nt=Mt("div"),vt=P(J.dom.cloneNode(!0));return At(nt,vt),An(nt)})(U):""},setOuterHTML:($,U)=>{M($,J=>{Tt(J)&&(J.outerHTML=U)})},decode:Yi.decode,encode:H,insertAfter:($,U)=>{const J=p(U);return M($,nt=>{const vt=J?.parentNode,pt=J?.nextSibling;return vt&&(pt?vt.insertBefore(nt,pt):vt.appendChild(nt)),nt})},replace:ct,rename:($,U)=>{if($.nodeName!==U.toUpperCase()){const J=j(U);return Xu(y($),nt=>{g(J,nt.nodeName,h($,nt.nodeName))}),ct(J,$,!0),J}return $},findCommonAncestor:($,U)=>{let J=$;for(;J;){let nt=U;for(;nt&&J!==nt;)nt=nt.parentNode;if(J===nt)break;J=J.parentNode}return!J&&$.ownerDocument?$.ownerDocument.documentElement:J},run:M,getAttribs:y,isEmpty:($,U,J)=>ce(U)?Vs(l,$,{...J,isContent:vt=>{const pt=vt.nodeName.toLowerCase();return!!U[pt]}}):Vs(l,$,J),createRng:Et,nodeIndex:Pa,split:($,U,J)=>{let nt,vt,pt=Et();if($&&U&&$.parentNode&&U.parentNode){const $t=$.parentNode;return pt.setStart($t,Pa($)),pt.setEnd(U.parentNode,Pa(U)),nt=pt.extractContents(),pt=Et(),pt.setStart(U.parentNode,Pa(U)+1),pt.setEnd($t,Pa($)+1),vt=pt.extractContents(),$t.insertBefore(ju(bt,nt,l),$),J?$t.insertBefore(J,$):$t.insertBefore(U,$),$t.insertBefore(ju(bt,vt,l),$),et($),J||U}},bind:Rt,unbind:Bt,fire:($,U,J)=>u.dispatch($,U,J),dispatch:($,U,J)=>u.dispatch($,U,J),getContentEditable:kt,getContentEditableParent:$=>{const U=C();let J=null;for(let nt=$;nt&&nt!==U&&(J=kt(nt),J===null);nt=nt.parentNode);return J},isEditable:$=>{if(gt($)){const U=Tt($)?$:$.parentElement;return gt(U)&&po(U)&&ur(P(U))}return!1},destroy:()=>{if(a.length>0){let $=a.length;for(;$--;){const[U,J,nt]=a[$];u.unbind(U,J,nt)}}_e(r,($,U)=>{i.unload(U),delete r[U]})},isChildOf:($,U)=>$===U||U.contains($),dumpRng:$=>"startContainer: "+$.startContainer.nodeName+", startOffset: "+$.startOffset+", endContainer: "+$.endContainer.nodeName+", endOffset: "+$.endOffset},Nt=(($,U,J)=>{const nt=U.keep_values,vt={set:($t,Ut,Gt)=>{const Te=P($t);be(U.url_converter)&&gt(Ut)&&(Ut=U.url_converter.call(U.url_converter_scope||J(),String(Ut),Gt,$t)),Nl(Te,"data-mce-"+Gt,Ut),Nl(Te,Gt,Ut)},get:($t,Ut)=>{const Gt=P($t);return jn(Gt,"data-mce-"+Ut)||jn(Gt,Ut)}},pt={style:{set:($t,Ut)=>{const Gt=P($t);nt&&Nl(Gt,Gu,Ut),m(Gt,"style"),Dt(Ut)&&Zr(Gt,$.parse(Ut))},get:$t=>{const Ut=P($t),Gt=jn(Ut,Gu)||jn(Ut,"style");return $.serialize($.parse(Gt),ue(Ut))}}};return nt&&(pt.href=pt.src=vt),pt})(c,e,yt(bt));return bt};Ie.DOM=Ie(document),Ie.nodeIndex=Pa;const mk=Ie.DOM;class Ys{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((n,o)=>{const r=mk;let s;const i=()=>{r.remove(a),s&&(s.onerror=s.onload=s=null)},a=r.uniqueId();s=document.createElement("script"),s.id=a,s.type="text/javascript",s.src=lt._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(s,"referrerpolicy",this.settings.referrerPolicy),s.onload=()=>{i(),n()},s.onerror=()=>{i(),o("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(s)})}isDone(e){return this.states[e]===2}markDone(e){this.states[e]=2}add(e){const n=this;return n.queue.push(e),n.states[e]===void 0&&(n.states[e]=0),new Promise((o,r)=>{n.scriptLoadedCallbacks[e]||(n.scriptLoadedCallbacks[e]=[]),n.scriptLoadedCallbacks[e].push({resolve:o,reject:r})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const n=this,o=(l,c)=>{Ee(n.scriptLoadedCallbacks,c).each(u=>{Y(u,f=>f[l](c))}),delete n.scriptLoadedCallbacks[c]},r=l=>{const c=Wt(l,u=>u.status==="rejected");return c.length>0?Promise.reject(en(c,({reason:u})=>Oe(u)?u:[u])):Promise.resolve()},s=l=>Promise.allSettled(re(l,c=>n.states[c]===2?(o("resolve",c),Promise.resolve()):n.states[c]===3?(o("reject",c),Promise.reject(c)):(n.states[c]=1,n.loadScript(c).then(()=>{n.states[c]=2,o("resolve",c);const u=n.queue;return u.length>0?(n.queue=[],s(u).then(r)):Promise.resolve()},()=>(n.states[c]=3,o("reject",c),Promise.reject(c)))))),i=l=>(n.loading=!0,s(l).then(c=>{n.loading=!1;const u=n.queueLoadedCallbacks.shift();return E.from(u).each(Co),r(c)})),a=ei(e);return n.loading?new Promise((l,c)=>{n.queueLoadedCallbacks.push(()=>{i(a).then(l,c)})}):i(a)}}Ys.ScriptLoader=new Ys;const Tl={},Qu=Nn("en"),hg=()=>Ee(Tl,Qu.get()),os={getData:()=>fs(Tl,t=>({...t})),setCode:t=>{t&&Qu.set(t)},getCode:()=>Qu.get(),add:(t,e)=>{let n=Tl[t];n||(Tl[t]=n={});const o=re(Je(e),r=>r.toLowerCase());_e(e,(r,s)=>{const i=s.toLowerCase();i!==s&&((a,l)=>{const c=a.indexOf(l);return c!==-1&&a.indexOf(l,c+1)>c})(o,i)?(Ht(e,i)||(n[i]=r),n[s]=r):n[i]=r})},translate:t=>{const e=hg().getOr({}),n=a=>be(a)?Object.prototype.toString.call(a):o(a)?"":""+a,o=a=>a===""||a==null,r=a=>{const l=n(a);return Ht(e,l)?n(e[l]):Ee(e,l.toLowerCase()).map(n).getOr(l)},s=a=>a.replace(/{context:\w+}$/,"");if(o(t))return"";if(Xt(i=t)&&Ht(i,"raw"))return n(t.raw);var i;if((a=>Oe(a)&&a.length>1)(t)){const a=t.slice(1);return s(r(t[0]).replace(/\{([0-9]+)\}/g,(l,c)=>Ht(a,c)?n(a[c]):l))}return s(r(t))},isRtl:()=>hg().bind(t=>Ee(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>Ht(Tl,t)},ho=()=>{const t=[],e={},n={},o=[],r=(l,c)=>{const u=Wt(o,f=>f.name===l&&f.state===c);Y(u,f=>f.resolve())},s=l=>Ht(e,l),i=(l,c)=>{const u=os.getCode();!u||c&&(","+(c||"")+",").indexOf(","+u+",")===-1||Ys.ScriptLoader.add(e[l]+"/langs/"+u+".js")},a=(l,c="added")=>c==="added"&&(u=>Ht(n,u))(l)||c==="loaded"&&s(l)?Promise.resolve():new Promise(u=>{o.push({name:l,state:c,resolve:u})});return{items:t,urls:e,lookup:n,get:l=>{if(n[l])return n[l].instance},requireLangPack:(l,c)=>{ho.languageLoad!==!1&&(s(l)?i(l,c):a(l,"loaded").then(()=>i(l,c)))},add:(l,c)=>(t.push(c),n[l]={instance:c},r(l,"added"),c),remove:l=>{delete e[l],delete n[l]},createUrl:(l,c)=>Dt(c)?Dt(l)?{prefix:"",resource:c,suffix:""}:{prefix:l.prefix,resource:c,suffix:l.suffix}:c,load:(l,c)=>{if(e[l])return Promise.resolve();let u=Dt(c)?c:c.prefix+c.resource+c.suffix;u.indexOf("/")!==0&&u.indexOf("://")===-1&&(u=ho.baseURL+"/"+u),e[l]=u.substring(0,u.lastIndexOf("/"));const f=()=>(r(l,"loaded"),Promise.resolve());return n[l]?f():Ys.ScriptLoader.add(u).then(f)},waitFor:a}};ho.languageLoad=!0,ho.baseURL="",ho.PluginManager=ho(),ho.ThemeManager=ho(),ho.ModelManager=ho();const Hc=(t,e)=>{let n=null;return{cancel:()=>{Qt(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{Qt(n)&&(n=setTimeout(()=>{n=null,t.apply(null,o)},e))}}},Zu=(t,e)=>{let n=null;const o=()=>{Qt(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout(()=>{n=null,t.apply(null,r)},e)}}},Rl=yt("mce-annotation"),Gi=yt("data-mce-annotation"),Ma=yt("data-mce-annotation-uid"),Ol=yt("data-mce-annotation-active"),Dl=yt("data-mce-annotation-classes"),Ll=yt("data-mce-annotation-attrs"),gg=t=>e=>Ft(e,t),bg=(t,e)=>{const n=t.selection.getRng(),o=P(n.startContainer),r=P(t.getBody()),s=e.fold(()=>"."+Rl(),a=>`[${Gi()}="${a}"]`),i=He(o,n.startOffset).getOr(o);return dr(i,s,gg(r)).bind(a=>er(a,`${Ma()}`).bind(l=>er(a,`${Gi()}`).map(c=>{const u=yg(t,l);return{uid:l,name:c,elements:u}})))},vg=(t,e)=>d(t,"data-mce-bogus")||((n,o,r)=>cr(n,'[data-mce-bogus="all"]',r).isSome())(t,0,gg(e)),yg=(t,e)=>{const n=P(t.getBody()),o=dt(n,`[${Ma()}="${e}"]`);return Wt(o,r=>!vg(r,n))},_g=(t,e)=>{const n=P(t.getBody()),o=dt(n,`[${Gi()}="${e}"]`),r={};return Y(o,s=>{if(!vg(s,n)){const i=jn(s,Ma()),a=Ee(r,i).getOr([]);r[i]=a.concat([s])}}),r},Cg=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let wg=0;const Bl=t=>{const e=new Date().getTime(),n=Math.floor(1e9*Cg());return wg++,t+"_"+n+wg+String(e)},xg=(t,e)=>P(t.dom.cloneNode(e)),Qi=t=>xg(t,!1),Eg=t=>xg(t,!0),kg=(t,e,n=Be)=>{const o=new ge(t,e),r=s=>{let i;do i=o[s]();while(i&&!ut(i)&&!n(i));return E.from(i).filter(ut)};return{current:()=>E.from(o.current()).filter(ut),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},Zi=(t,e)=>{const n=e||(r=>t.isBlock(r)||Qe(r)||$e(r)),o=(r,s,i,a)=>{if(ut(r)){const l=a(r,s,r.data);if(l!==-1)return E.some({container:r,offset:l})}return i().bind(l=>o(l.container,l.offset,i,a))};return{backwards:(r,s,i,a)=>{const l=kg(r,a??t.getRoot(),n);return o(r,s,()=>l.prev().map(c=>({container:c,offset:c.length})),i).getOrNull()},forwards:(r,s,i,a)=>{const l=kg(r,a??t.getRoot(),n);return o(r,s,()=>l.next().map(c=>({container:c,offset:0})),i).getOrNull()}}},Ju=((t,e)=>{const n=o=>t(o)?E.from(o.dom.nodeValue):E.none();return{get:o=>{if(!t(o))throw new Error("Can only get text value of a text node");return n(o).getOr("")},getOption:n,set:(o,r)=>{if(!t(o))throw new Error("Can only set raw text value of a text node");o.dom.nodeValue=r}}})(Cn),Pl=t=>Ju.get(t),Sg=(t,e)=>Ju.set(t,e),Ia=t=>{let e;return n=>(e=e||Ln(t,ze),Ht(e,ue(n)))},Ji=t=>En(t)&&ue(t)==="br",Ag=Ia(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),tf=Ia(["ul","ol","dl"]),Fa=Ia(["li","dd","dt"]),pk=Ia(["thead","tbody","tfoot"]),Ml=Ia(["td","th"]),zc=Ia(["pre","script","textarea","style"]),ja=()=>{const t=Mt("br");return on(t,"data-mce-bogus","1"),t},bi=t=>{de(t),At(t,ja())},Tn=Mn,Uc=$o,or=t=>t.replace(/\uFEFF/g,""),hk=Tt,$a=ut,Ha=t=>($a(t)&&(t=t.parentNode),hk(t)&&t.hasAttribute("data-mce-caret")),vi=t=>$a(t)&&Uc(t.data),mr=t=>Ha(t)||vi(t),Ng=t=>t.firstChild!==t.lastChild||!Qe(t.firstChild),ef=t=>{const e=t.container();return!!ut(e)&&(e.data.charAt(t.offset())===Tn||t.isAtStart()&&vi(e.previousSibling))},nf=t=>{const e=t.container();return!!ut(e)&&(e.data.charAt(t.offset()-1)===Tn||t.isAtEnd()&&vi(e.nextSibling))},qc=t=>$a(t)&&t.data[0]===Tn,Wc=t=>$a(t)&&t.data[t.data.length-1]===Tn,of=t=>t&&t.hasAttribute("data-mce-caret")?((e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];qi(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))})(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,Tg=t=>Ha(t.startContainer),za=Math.round,ta=t=>t?{left:za(t.left),top:za(t.top),bottom:za(t.bottom),right:za(t.right),width:za(t.width),height:za(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Rg=(t,e)=>(t=ta(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),Og=(t,e,n)=>t>=0&&t<=Math.min(e.height,n.height)/2,Il=(t,e)=>{const n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&Og(e.top-t.bottom,t,e)},Fl=(t,e)=>t.top>e.bottom||!(t.bottom<e.top)&&Og(e.bottom-t.top,t,e),Dg=(t,e,n)=>{const o=Math.max(Math.min(e,t.left+t.width),t.left),r=Math.max(Math.min(n,t.top+t.height),t.top);return Math.sqrt((e-o)*(e-o)+(n-r)*(n-r))},Vc=t=>{const e=t.startContainer,n=t.startOffset;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},yi=(t,e)=>{if(Tt(t)&&t.hasChildNodes()){const n=t.childNodes,o=((r,s,i)=>Math.min(Math.max(r,0),i))(e,0,n.length-1);return n[o]}return t},gk=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Lg=t=>Dt(t)&&t.charCodeAt(0)>=768&&gk.test(t),Bg=Pr,bk=$e,vk=Qe,yk=ut,_k=es(["script","style","textarea"]),Pg=es(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ck=es(["table"]),wk=mr,rs=t=>!wk(t)&&(yk(t)?!_k(t.parentNode):Pg(t)||vk(t)||Ck(t)||rf(t)),rf=t=>!(e=>Tt(e)&&e.getAttribute("unselectable")==="true")(t)&&bk(t),Mg=(t,e)=>rs(t)&&((n,o)=>{for(let r=n.parentNode;r&&r!==o;r=r.parentNode){if(rf(r))return!1;if(Bg(r))return!0}return!0})(t,e),Ig=Tt,xk=rs,Fg=Bc("display","block table"),Ek=Bc("float","left right"),jl=((...t)=>e=>{for(let n=0;n<t.length;n++)if(!t[n](e))return!1;return!0})(Ig,xk,ds(Ek)),kk=ds(Bc("white-space","pre pre-line pre-wrap")),$l=ut,sf=Qe,jg=Ie.nodeIndex,Kc=(t,e)=>e<0&&Tt(t)&&t.hasChildNodes()?void 0:yi(t,e),af=t=>t?t.createRange():Ie.DOM.createRng(),lf=t=>Dt(t)&&/[\r\n\t ]/.test(t),$g=t=>!!t.setStart&&!!t.setEnd,cf=t=>{const e=t.startContainer,n=t.startOffset;if(lf(t.toString())&&kk(e.parentNode)&&ut(e)){const o=e.data;if(lf(o[n-1])||lf(o[n+1]))return!0}return!1},Hg=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,_i=t=>{var e;let n;const o=t.getClientRects();return n=o.length>0?ta(o[0]):ta(t.getBoundingClientRect()),!$g(t)&&sf(t)&&Hg(n)?(r=>{const s=r.ownerDocument,i=af(s),a=s.createTextNode(Le),l=r.parentNode;l.insertBefore(a,r),i.setStart(a,0),i.setEnd(a,1);const c=ta(i.getBoundingClientRect());return l.removeChild(a),c})(t):Hg(n)&&$g(t)&&(e=(r=>{const s=r.startContainer,i=r.endContainer,a=r.startOffset,l=r.endOffset;if(s===i&&ut(i)&&a===0&&l===1){const c=r.cloneRange();return c.setEndAfter(i),_i(c)}return null})(t))!==null&&e!==void 0?e:n},ea=(t,e)=>{const n=Rg(t,e);return n.width=1,n.right=n.left+1,n},tt=(t,e,n)=>{const o=()=>(n||(n=(r=>{const s=[],i=u=>{var f,p;u.height!==0&&(s.length>0&&(f=u,p=s[s.length-1],f.left===p.left&&f.top===p.top&&f.bottom===p.bottom&&f.right===p.right)||s.push(u))},a=(u,f)=>{const p=af(u.ownerDocument);if(f<u.data.length){if(Lg(u.data[f]))return;if(Lg(u.data[f-1])&&(p.setStart(u,f),p.setEnd(u,f+1),!cf(p)))return void i(ea(_i(p),!1))}f>0&&(p.setStart(u,f-1),p.setEnd(u,f),cf(p)||i(ea(_i(p),!1))),f<u.data.length&&(p.setStart(u,f),p.setEnd(u,f+1),cf(p)||i(ea(_i(p),!0)))},l=r.container(),c=r.offset();if($l(l))return a(l,c),s;if(Ig(l))if(r.isAtEnd()){const u=Kc(l,c);$l(u)&&a(u,u.data.length),jl(u)&&!sf(u)&&i(ea(_i(u),!1))}else{const u=Kc(l,c);if($l(u)&&a(u,0),jl(u)&&r.isAtEnd())return i(ea(_i(u),!1)),s;const f=Kc(r.container(),r.offset()-1);jl(f)&&!sf(f)&&(Fg(f)||Fg(u)||!jl(u))&&i(ea(_i(f),!1)),jl(u)&&i(ea(_i(u),!0))}return s})(tt(t,e))),n);return{container:yt(t),offset:yt(e),toRange:()=>{const r=af(t.ownerDocument);return r.setStart(t,e),r.setEnd(t,e),r},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>($l(t),e===0),isAtEnd:()=>$l(t)?e>=t.data.length:e>=t.childNodes.length,isEqual:r=>r&&t===r.container()&&e===r.offset(),getNode:r=>Kc(t,r?e-1:e)}};tt.fromRangeStart=t=>tt(t.startContainer,t.startOffset),tt.fromRangeEnd=t=>tt(t.endContainer,t.endOffset),tt.after=t=>tt(t.parentNode,jg(t)+1),tt.before=t=>tt(t.parentNode,jg(t)),tt.isAbove=(t,e)=>gn(Ye(e.getClientRects()),Ko(t.getClientRects()),Il).getOr(!1),tt.isBelow=(t,e)=>gn(Ko(e.getClientRects()),Ye(t.getClientRects()),Fl).getOr(!1),tt.isAtStart=t=>!!t&&t.isAtStart(),tt.isAtEnd=t=>!!t&&t.isAtEnd(),tt.isTextPosition=t=>!!t&&ut(t.container()),tt.isElementPosition=t=>!tt.isTextPosition(t);const Yc=(t,e)=>{ut(e)&&e.data.length===0&&t.remove(e)},df=(t,e,n)=>{Tu(n)?((o,r,s)=>{const i=E.from(s.firstChild),a=E.from(s.lastChild);r.insertNode(s),i.each(l=>Yc(o,l.previousSibling)),a.each(l=>Yc(o,l.nextSibling))})(t,e,n):((o,r,s)=>{r.insertNode(s),Yc(o,s.previousSibling),Yc(o,s.nextSibling)})(t,e,n)},ss=ut,zg=qi,Ug=Ie.nodeIndex,qg=t=>{const e=t.parentNode;return zg(e)?qg(e):e},uf=t=>t?ms(t.childNodes,(e,n)=>(zg(n)&&n.nodeName!=="BR"?e=e.concat(uf(n)):e.push(n),e),[]):[],Wg=t=>e=>t===e,Vg=t=>(ss(t)?"text()":t.nodeName.toLowerCase())+"["+(e=>{let n,o;n=uf(qg(e)),o=js(n,Wg(e),e),n=n.slice(0,o+1);const r=ms(n,(s,i,a)=>(ss(i)&&ss(n[a-1])&&s++,s),0);return n=Un(n,es([e.nodeName])),o=js(n,Wg(e),e),o-r})(t)+"]",Kg=(t,e)=>{let n,o=[],r=e.container(),s=e.offset();if(ss(r))n=((a,l)=>{let c=a;for(;(c=c.previousSibling)&&ss(c);)l+=c.data.length;return l})(r,s);else{const a=r.childNodes;s>=a.length?(n="after",s=a.length-1):n="before",r=a[s]}o.push(Vg(r));let i=((a,l,c)=>{const u=[];for(let f=l.parentNode;f&&f!==a;f=f.parentNode)u.push(f);return u})(t,r);return i=Un(i,ds(qi)),o=o.concat(eo(i,a=>Vg(a))),o.reverse().join("/")+","+n},Yg=(t,e)=>{if(!e)return null;const n=e.split(","),o=n[0].split("/"),r=n.length>1?n[1]:"before",s=ms(o,(i,a)=>{const l=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(a);return l?(l[1]==="text()"&&(l[1]="#text"),((c,u,f)=>{let p=uf(c);return p=Un(p,(b,h)=>!ss(b)||!ss(p[h-1])),p=Un(p,es([u])),p[f]})(i,l[1],parseInt(l[2],10))):null},t);if(!s)return null;if(!ss(s)&&s.parentNode){let i;return i=r==="after"?Ug(s)+1:Ug(s),tt(s.parentNode,i)}return((i,a)=>{let l=i,c=0;for(;ss(l);){const u=l.data.length;if(a>=c&&a<=c+u){i=l,a-=c;break}if(!ss(l.nextSibling)){i=l,a=u;break}c+=u,l=l.nextSibling}return ss(i)&&a>i.data.length&&(a=i.data.length),tt(i,a)})(s,parseInt(r,10))},Xc=$e,Xg=(t,e,n,o,r)=>{const s=r?o.startContainer:o.endContainer;let i=r?o.startOffset:o.endOffset;const a=[],l=t.getRoot();if(ut(s))a.push(n?((c,u,f)=>{let p=c(u.data.slice(0,f)).length;for(let b=u.previousSibling;b&&ut(b);b=b.previousSibling)p+=c(b.data).length;return p})(e,s,i):i);else{let c=0;const u=s.childNodes;i>=u.length&&u.length&&(c=1,i=Math.max(0,u.length-1)),a.push(t.nodeIndex(u[i],n)+c)}for(let c=s;c&&c!==l;c=c.parentNode)a.push(t.nodeIndex(c,n));return a},ff=(t,e,n)=>{let o=0;return lt.each(t.select(e),r=>r.getAttribute("data-mce-bogus")==="all"?void 0:r!==n&&void o++),o},Gg=(t,e)=>{let n=e?t.startContainer:t.endContainer,o=e?t.startOffset:t.endOffset;if(Tt(n)&&n.nodeName==="TR"){const r=n.childNodes;n=r[Math.min(e?o:o-1,r.length-1)],n&&(o=e?0:n.childNodes.length,e?t.setStart(n,o):t.setEnd(n,o))}},Qg=t=>(Gg(t,!0),Gg(t,!1),t),Zg=(t,e)=>{if(Tt(t)&&(t=yi(t,e),Xc(t)))return t;if(mr(t)){ut(t)&&Ha(t)&&(t=t.parentNode);let n=t.previousSibling;if(Xc(n)||(n=t.nextSibling,Xc(n)))return n}},Jg=(t,e,n)=>{const o=n.getNode(),r=n.getRng();if(o.nodeName==="IMG"||Xc(o)){const i=o.nodeName;return{name:i,index:ff(n.dom,i,o)}}const s=(i=>Zg(i.startContainer,i.startOffset)||Zg(i.endContainer,i.endOffset))(r);if(s){const i=s.tagName;return{name:i,index:ff(n.dom,i,s)}}return((i,a,l,c)=>{const u=a.dom,f=Xg(u,i,l,c,!0),p=a.isForward(),b=Tg(c)?{isFakeCaret:!0}:{};return a.isCollapsed()?{start:f,forward:p,...b}:{start:f,end:Xg(u,i,l,c,!1),forward:p,...b}})(t,n,e,r)},tb=(t,e,n)=>{const o={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",o,"&#xFEFF;"):t.create("span",o)},eb=(t,e)=>{const n=t.dom;let o=t.getRng();const r=n.uniqueId(),s=t.isCollapsed(),i=t.getNode(),a=i.nodeName,l=t.isForward();if(a==="IMG")return{name:a,index:ff(n,a,i)};const c=Qg(o.cloneRange());if(!s){c.collapse(!1);const f=tb(n,r+"_end",e);df(n,c,f)}o=Qg(o),o.collapse(!0);const u=tb(n,r+"_start",e);return df(n,o,u),t.moveToBookmark({id:r,keep:!0,forward:l}),{id:r,forward:l}},mf=St(Jg,me,!0),nb=t=>{const e=s=>s(t),n=yt(t),o=()=>r,r={tag:!0,inner:t,fold:(s,i)=>i(t),isValue:ze,isError:Be,map:s=>Eo.value(s(t)),mapError:o,bind:e,exists:e,forall:e,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:s=>{s(t)},toOptional:()=>E.some(t)};return r},ob=t=>{const e=()=>n,n={tag:!1,inner:t,fold:(o,r)=>o(t),isValue:Be,isError:ze,map:e,mapError:o=>Eo.error(o(t)),bind:e,exists:Be,forall:ze,getOr:me,or:me,getOrThunk:us,orThunk:us,getOrDie:Oo(String(t)),each:Lt,toOptional:E.none};return n},Eo={value:nb,error:ob,fromOption:(t,e)=>t.fold(()=>ob(e),nb)},ks=t=>{if(!Oe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const e=[],n={};return Y(t,(o,r)=>{const s=Je(o);if(s.length!==1)throw new Error("one and only one name per case");const i=s[0],a=o[i];if(n[i]!==void 0)throw new Error("duplicate key detected:"+i);if(i==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Oe(a))throw new Error("case arguments must be an array");e.push(i),n[i]=(...l)=>{const c=l.length;if(c!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+c);return{fold:(...u)=>{if(u.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+u.length);return u[r].apply(null,l)},match:u=>{const f=Je(u);if(e.length!==f.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+`
Actual: `+f.join(","));if(!Jn(e,p=>pe(f,p)))throw new Error("Not all branches were specified when using match. Specified: "+f.join(", ")+`
Required: `+e.join(", "));return u[i].apply(null,l)},log:u=>{console.log(u,{constructors:e,constructor:i,params:l})}}}}),n};ks([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Sk=t=>t.type==="inline-command"||t.type==="inline-format",Ak=t=>t.type==="block-command"||t.type==="block-format",Nk=t=>{var e;const n=r=>Eo.error({message:r,pattern:t}),o=(r,s,i)=>{if(t.format!==void 0){let a;if(Oe(t.format)){if(!Jn(t.format,Dt))return n(r+" pattern has non-string items in the `format` array");a=t.format}else{if(!Dt(t.format))return n(r+" pattern has non-string `format` parameter");a=[t.format]}return Eo.value(s(a))}return t.cmd!==void 0?Dt(t.cmd)?Eo.value(i(t.cmd,t.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Xt(t))return n("Raw pattern is not an object");if(!Dt(t.start))return n("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!Dt(t.end))return n("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=t.start,s=t.end;return s.length===0&&(s=r,r=""),o("Inline",i=>({type:"inline-format",start:r,end:s,format:i}),(i,a)=>({type:"inline-command",start:r,end:s,cmd:i,value:a}))}if(t.replacement!==void 0)return Dt(t.replacement)?t.start.length===0?n("Replacement pattern has empty `start` parameter"):Eo.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const r=(e=t.trigger)!==null&&e!==void 0?e:"space";return t.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",s=>({type:"block-format",start:t.start,format:s[0],trigger:r}),(s,i)=>({type:"block-command",start:t.start,cmd:s,value:i,trigger:r}))}},rb=t=>Wt(t,Ak),sb=t=>Wt(t,Sk),pf=(t,e)=>({...t,blockPatterns:Wt(t.blockPatterns,n=>((o,r)=>(o.type==="block-command"||o.type==="block-format")&&o.trigger===r)(n,e))}),ib=t=>{const e=(n=>{const o=[],r=[];return Y(n,s=>{s.fold(i=>{o.push(i)},i=>{r.push(i)})}),{errors:o,values:r}})(re(t,Nk));return Y(e.errors,n=>console.error(n.message,n.pattern)),e.values},hf=Bn().deviceType,Tk=hf.isTouch(),Rk=Ie.DOM,ab=t=>yo(t,RegExp),xt=t=>e=>e.options.get(t),Gc=t=>Dt(t)||Xt(t),lb=(t,e="")=>n=>{const o=Dt(n);if(o){if(n.indexOf("=")!==-1){const r=(s=>{const i=s.indexOf("=")>0?s.split(/[;,](?![^=;,]*(?:[;,]|$))/):s.split(",");return tn(i,(a,l)=>{const c=l.split("="),u=c[0],f=c.length>1?c[1]:u;return a[no(u)]=no(f),a},{})})(n);return{value:Ee(r,t.id).getOr(e),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},Ok=xt("iframe_attrs"),Dk=xt("doctype"),cb=xt("document_base_url"),Lk=xt("body_id"),Bk=xt("body_class"),db=xt("content_security_policy"),Pk=xt("br_in_pre"),Xn=xt("forced_root_block"),Hl=xt("forced_root_block_attrs"),Mk=xt("newline_behavior"),Ik=xt("br_newline_selector"),Fk=xt("no_newline_selector"),jk=xt("keep_styles"),$k=xt("end_container_on_empty_block"),ub=xt("automatic_uploads"),fb=xt("images_reuse_filename"),Hk=xt("images_replace_blob_uris"),mb=xt("icons"),zk=xt("icons_url"),Uk=xt("images_upload_url"),qk=xt("images_upload_base_path"),Wk=xt("images_upload_credentials"),Vk=xt("images_upload_handler"),Kk=xt("content_css_cors"),gf=xt("referrer_policy"),pb=xt("language"),Yk=xt("language_url"),hb=xt("indent_use_margin"),Xk=xt("indentation"),Gk=xt("content_css"),Qk=xt("content_style"),gb=xt("font_css"),Zk=xt("directionality"),Jk=xt("inline_boundaries_selector"),bb=xt("object_resizing"),tS=xt("resize_img_proportional"),eS=xt("placeholder"),vb=xt("event_root"),nS=xt("service_message"),Ua=xt("theme"),oS=xt("theme_url"),bf=xt("model"),rS=xt("model_url"),zl=xt("inline_boundaries"),sS=xt("formats"),iS=xt("preview_styles"),aS=xt("format_empty_lines"),lS=xt("format_noneditable_selector"),cS=xt("custom_ui_selector"),vf=xt("inline"),dS=xt("hidden_input"),uS=xt("submit_patch"),fS=xt("add_form_submit_trigger"),mS=xt("add_unload_trigger"),pS=xt("custom_undo_redo_levels"),hS=xt("disable_nodechange"),yb=xt("readonly"),gS=xt("editable_root"),_b=xt("content_css_cors"),Qc=xt("plugins"),bS=xt("external_plugins"),vS=xt("block_unsupported_drop"),yS=xt("visual"),_S=xt("visual_table_class"),Cb=xt("visual_anchor_class"),wb=xt("iframe_aria_text"),CS=xt("setup"),wS=xt("init_instance_callback"),xS=xt("urlconverter_callback"),ES=xt("auto_focus"),kS=xt("browser_spellcheck"),SS=xt("protect"),AS=xt("paste_block_drop"),Zc=xt("paste_data_images"),NS=xt("paste_preprocess"),TS=xt("paste_postprocess"),RS=xt("newdocument_content"),OS=xt("paste_webkit_styles"),DS=xt("paste_remove_styles_if_webkit"),LS=xt("paste_merge_formats"),BS=xt("smart_paste"),PS=xt("paste_as_text"),MS=xt("paste_tab_spaces"),IS=xt("allow_html_data_urls"),FS=xt("text_patterns"),jS=xt("text_patterns_lookup"),xb=xt("noneditable_class"),$S=xt("editable_class"),HS=xt("noneditable_regexp"),zS=xt("preserve_cdata"),US=xt("highlight_on_focus"),Eb=xt("xss_sanitization"),qS=xt("init_content_sync"),kb=t=>lt.explode(t.options.get("images_file_types")),WS=xt("table_tab_navigation"),VS=xt("details_initial_state"),KS=xt("details_serialized_state"),Sb=xt("sandbox_iframes"),yf=t=>t.options.get("sandbox_iframes_exclusions"),YS=xt("convert_unsafe_embeds"),XS=xt("license_key"),GS=xt("api_key"),QS=Tt,Ab=ut,Nb=t=>{const e=t.parentNode;e&&e.removeChild(t)},Tb=t=>{const e=or(t);return{count:t.length-e.length,text:e}},Rb=t=>{let e;for(;(e=t.data.lastIndexOf(Tn))!==-1;)t.deleteData(e,1)},Ob=(t,e)=>(na(t),e),ZS=(t,e)=>tt.isTextPosition(e)?((n,o)=>Ab(n)&&o.container()===n?((r,s)=>{const i=Tb(r.data.substr(0,s.offset())),a=Tb(r.data.substr(s.offset()));return(i.text+a.text).length>0?(Rb(r),tt(r,s.offset()-i.count)):s})(n,o):Ob(n,o))(t,e):((n,o)=>o.container()===n.parentNode?((r,s)=>{const i=s.container(),a=((l,c)=>{const u=Wo(l,c);return u===-1?E.none():E.some(u)})(nn(i.childNodes),r).map(l=>l<s.offset()?tt(i,s.offset()-1):s).getOr(s);return na(r),a})(n,o):Ob(n,o))(t,e),na=t=>{QS(t)&&mr(t)&&(Ng(t)?t.removeAttribute("data-mce-caret"):Nb(t)),Ab(t)&&(Rb(t),t.data.length===0&&Nb(t))},JS=$e,tA=Es,eA=Pc,Db=(t,e,n)=>{const o=Rg(e.getBoundingClientRect(),n);let r,s;if(t.tagName==="BODY"){const a=t.ownerDocument.documentElement;r=t.scrollLeft||a.scrollLeft,s=t.scrollTop||a.scrollTop}else{const a=t.getBoundingClientRect();r=t.scrollLeft-a.left,s=t.scrollTop-a.top}o.left+=r,o.right+=r,o.top+=s,o.bottom+=s,o.width=1;let i=e.offsetWidth-e.clientWidth;return i>0&&(n&&(i*=-1),o.left+=i,o.right+=i),o},nA=(t,e,n,o)=>{const r=Ks();let s,i;const a=Xn(t),l=t.dom,c=()=>{(u=>{var f,p;const b=dt(P(u),"*[contentEditable=false],video,audio,embed,object");for(let h=0;h<b.length;h++){const y=b[h].dom;let g=y.previousSibling;if(Wc(g)){const C=g.data;C.length===1?(f=g.parentNode)===null||f===void 0||f.removeChild(g):g.deleteData(C.length-1,1)}g=y.nextSibling,qc(g)&&(g.data.length===1?(p=g.parentNode)===null||p===void 0||p.removeChild(g):g.deleteData(0,1))}})(e),i&&(na(i),i=null),r.on(u=>{l.remove(u.caret),r.clear()}),s&&(clearInterval(s),s=void 0)};return{show:(u,f)=>{let p;if(c(),eA(f))return null;if(!n(f))return i=((b,h)=>{var y;const g=((y=b.ownerDocument)!==null&&y!==void 0?y:document).createTextNode(Tn),C=b.parentNode;if(h){const k=b.previousSibling;if($a(k)){if(mr(k))return k;if(Wc(k))return k.splitText(k.data.length-1)}C?.insertBefore(g,b)}else{const k=b.nextSibling;if($a(k)){if(mr(k))return k;if(qc(k))return k.splitText(1),k}b.nextSibling?C?.insertBefore(g,b.nextSibling):C?.appendChild(g)}return g})(f,u),p=f.ownerDocument.createRange(),Ul(i.nextSibling)?(p.setStart(i,0),p.setEnd(i,0)):(p.setStart(i,1),p.setEnd(i,1)),p;{const b=((g,C,k)=>{var S;const N=((S=C.ownerDocument)!==null&&S!==void 0?S:document).createElement(g);N.setAttribute("data-mce-caret",k?"before":"after"),N.setAttribute("data-mce-bogus","all"),N.appendChild(ja().dom);const T=C.parentNode;return k?T?.insertBefore(N,C):C.nextSibling?T?.insertBefore(N,C.nextSibling):T?.appendChild(N),N})(a,f,u),h=Db(e,f,u);l.setStyle(b,"top",h.top),l.setStyle(b,"caret-color","transparent"),i=b;const y=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(y,{...h}),l.add(e,y),r.set({caret:y,element:f,before:u}),u&&l.addClass(y,"mce-visual-caret-before"),s=setInterval(()=>{r.on(g=>{o()?l.toggleClass(g.caret,"mce-visual-caret-hidden"):l.addClass(g.caret,"mce-visual-caret-hidden")})},500),p=f.ownerDocument.createRange(),p.setStart(b,0),p.setEnd(b,0)}return p},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{r.on(u=>{const f=Db(e,u.element,u.before);l.setStyles(u.caret,{...f})})},destroy:()=>clearInterval(s)}},Lb=()=>fe.browser.isFirefox(),Ul=t=>JS(t)||tA(t),ql=t=>(Ul(t)||xs(t)&&Lb())&&io(P(t)).exists(ur),oA=Pr,_f=$e,rA=Es,Bb=Bc("display","block table table-cell table-caption list-item"),Pb=mr,Mb=Ha,sA=Tt,iA=ut,aA=rs,qa=t=>t>0,oa=t=>t<0,Jc=(t,e)=>{let n;for(;n=t(e);)if(!Mb(n))return n;return null},Wl=(t,e,n,o,r)=>{const s=new ge(t,o),i=_f(t)||Mb(t);let a;if(oa(e)){if(i&&(a=Jc(s.prev.bind(s),!0),n(a)))return a;for(;a=Jc(s.prev.bind(s),r);)if(n(a))return a}if(qa(e)){if(i&&(a=Jc(s.next.bind(s),!0),n(a)))return a;for(;a=Jc(s.next.bind(s),r);)if(n(a))return a}return null},Ci=(t,e)=>{for(;t&&t!==e;){if(Bb(t))return t;t=t.parentNode}return null},Ss=(t,e,n)=>Ci(t.container(),n)===Ci(e.container(),n),Cf=(t,e)=>{if(!e)return E.none();const n=e.container(),o=e.offset();return sA(n)?E.from(n.childNodes[o+t]):E.none()},Ib=(t,e)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createRange();return t?(o.setStartBefore(e),o.setEndBefore(e)):(o.setStartAfter(e),o.setEndAfter(e)),o},lA=(t,e,n)=>Ci(e,t)===Ci(n,t),Fb=(t,e,n)=>{const o=t?"previousSibling":"nextSibling";let r=n;for(;r&&r!==e;){let s=r[o];if(s&&Pb(s)&&(s=s[o]),_f(s)||rA(s)){if(lA(e,s,r))return s;break}if(aA(s))break;r=r.parentNode}return null},Vl=St(Ib,!0),Kl=St(Ib,!1),wf=(t,e,n)=>{let o;const r=St(Fb,!0,e),s=St(Fb,!1,e),i=n.startContainer,a=n.startOffset;if(Ha(i)){const l=iA(i)?i.parentNode:i,c=l.getAttribute("data-mce-caret");if(c==="before"&&(o=l.nextSibling,ql(o)))return Vl(o);if(c==="after"&&(o=l.previousSibling,ql(o)))return Kl(o)}if(!n.collapsed)return n;if(ut(i)){if(Pb(i)){if(t===1){if(o=s(i),o)return Vl(o);if(o=r(i),o)return Kl(o)}if(t===-1){if(o=r(i),o)return Kl(o);if(o=s(i),o)return Vl(o)}return n}if(Wc(i)&&a>=i.data.length-1)return t===1&&(o=s(i),o)?Vl(o):n;if(qc(i)&&a<=1)return t===-1&&(o=r(i),o)?Kl(o):n;if(a===i.data.length)return o=s(i),o?Vl(o):n;if(a===0)return o=r(i),o?Kl(o):n}return n},jb=(t,e)=>Cf(t?0:-1,e).filter(_f),Yl=(t,e,n)=>{const o=wf(t,e,n);return t===-1?tt.fromRangeStart(o):tt.fromRangeEnd(o)},td=t=>E.from(t.getNode()).map(P),xf=(t,e)=>{let n=e;for(;n=t(n);)if(n.isVisible())return n;return n},ed=(t,e)=>{const n=Ss(t,e);return!(n||!Qe(t.getNode()))||n};var Rn;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Rn||(Rn={}));const cA=$e,As=ut,$b=Tt,Ef=Qe,Wa=rs,Hb=t=>Pg(t)||(e=>!!rf(e)&&!tn(nn(e.getElementsByTagName("*")),(n,o)=>n||Bg(o),!1))(t),nd=Mg,zb=(t,e)=>t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null,Ub=(t,e)=>{if(qa(t)){if(Wa(e.previousSibling)&&!As(e.previousSibling))return tt.before(e);if(As(e))return tt(e,0)}if(oa(t)){if(Wa(e.nextSibling)&&!As(e.nextSibling))return tt.after(e);if(As(e))return tt(e,e.data.length)}return oa(t)?Ef(e)?tt.before(e):tt.after(e):tt.before(e)},kf=(t,e,n)=>{let o,r,s,i;if(!$b(n)||!e)return null;if(e.isEqual(tt.after(n))&&n.lastChild){if(i=tt.after(n.lastChild),oa(t)&&Wa(n.lastChild)&&$b(n.lastChild))return Ef(n.lastChild)?tt.before(n.lastChild):i}else i=e;const a=i.container();let l=i.offset();if(As(a)){if(oa(t)&&l>0)return tt(a,--l);if(qa(t)&&l<a.length)return tt(a,++l);o=a}else{if(oa(t)&&l>0&&(r=zb(a,l-1),Wa(r)))return!Hb(r)&&(s=Wl(r,t,nd,r),s)?As(s)?tt(s,s.data.length):tt.after(s):As(r)?tt(r,r.data.length):tt.before(r);if(qa(t)&&l<a.childNodes.length&&(r=zb(a,l),Wa(r)))return Ef(r)?((u,f)=>{const p=f.nextSibling;return p&&Wa(p)?As(p)?tt(p,0):tt.before(p):kf(Rn.Forwards,tt.after(f),u)})(n,r):!Hb(r)&&(s=Wl(r,t,nd,r),s)?As(s)?tt(s,0):tt.before(s):As(r)?tt(r,0):tt.after(r);o=r||i.getNode()}if(o&&(qa(t)&&i.isAtEnd()||oa(t)&&i.isAtStart())&&(o=Wl(o,t,ze,n,!0),nd(o,n)))return Ub(t,o);r=o&&Wl(o,t,nd,n);const c=Wr(Wt(((u,f)=>{const p=[];let b=u;for(;b&&b!==f;)p.push(b),b=b.parentNode;return p})(a,n),cA));return!c||r&&c.contains(r)?r?Ub(t,r):null:(i=qa(t)?tt.after(c):tt.before(c),i)},Ns=t=>({next:e=>kf(Rn.Forwards,e,t),prev:e=>kf(Rn.Backwards,e,t)}),qb=t=>tt.isTextPosition(t)?t.offset()===0:rs(t.getNode()),Wb=t=>{if(tt.isTextPosition(t)){const e=t.container();return t.offset()===e.data.length}return rs(t.getNode(!0))},Vb=(t,e)=>!tt.isTextPosition(t)&&!tt.isTextPosition(e)&&t.getNode()===e.getNode(!0),pr=(t,e,n)=>{const o=Ns(e);return E.from(t?o.next(n):o.prev(n))},Va=(t,e,n)=>pr(t,e,n).bind(o=>Ss(n,o,e)&&((r,s,i)=>{return r?!Vb(s,i)&&(a=s,!(!tt.isTextPosition(a)&&Qe(a.getNode())))&&Wb(s)&&qb(i):!Vb(i,s)&&qb(s)&&Wb(i);var a})(t,n,o)?pr(t,e,o):E.some(o)),Kb=(t,e,n,o)=>Va(t,e,n).bind(r=>o(r)?Kb(t,e,r,o):E.some(r)),Ka=(t,e)=>{const n=t?e.firstChild:e.lastChild;return ut(n)?E.some(tt(n,t?0:n.data.length)):n?rs(n)?E.some(t?tt.before(n):Qe(o=n)?tt.before(o):tt.after(o)):((r,s,i)=>{const a=r?tt.before(i):tt.after(i);return pr(r,s,a)})(t,e,n):E.none();var o},ko=St(pr,!0),Ho=St(pr,!1),Gn=St(Ka,!0),Mr=St(Ka,!1),Sf="_mce_caret",hr=t=>Tt(t)&&t.id===Sf,ra=(t,e)=>{let n=e;for(;n&&n!==t;){if(hr(n))return n;n=n.parentNode}return null},Yb=t=>Ht(t,"name"),Xb=t=>lt.isArray(t.start),od=t=>!(!Yb(t)&&dn(t.forward))||t.forward,Gb=(t,e)=>(Tt(e)&&t.isBlock(e)&&!e.innerHTML&&(e.innerHTML='<br data-mce-bogus="1" />'),e),dA=(t,e)=>Mr(t).fold(Be,n=>(e.setStart(n.container(),n.offset()),e.setEnd(n.container(),n.offset()),!0)),Qb=(t,e,n)=>!(!(o=>!o.hasChildNodes())(e)||!ra(t,e)||(((o,r)=>{var s;const i=((s=o.ownerDocument)!==null&&s!==void 0?s:document).createTextNode(Tn);o.appendChild(i),r.setStart(i,0),r.setEnd(i,0)})(e,n),0)),Zb=(t,e,n,o)=>{const r=n[e?"start":"end"],s=t.getRoot();if(r){let i=s,a=r[0];for(let l=r.length-1;i&&l>=1;l--){const c=i.childNodes;if(Qb(s,i,o))return!0;if(r[l]>c.length-1)return!!Qb(s,i,o)||dA(i,o);i=c[r[l]]}ut(i)&&(a=Math.min(r[0],i.data.length)),Tt(i)&&(a=Math.min(r[0],i.childNodes.length)),e?o.setStart(i,a):o.setEnd(i,a)}return!0},Af=t=>ut(t)&&t.data.length>0,Jb=(t,e,n)=>{const o=t.get(n.id+"_"+e),r=o?.parentNode,s=n.keep;if(o&&r){let i,a;if(e==="start"?s?o.hasChildNodes()?(i=o.firstChild,a=1):Af(o.nextSibling)?(i=o.nextSibling,a=0):Af(o.previousSibling)?(i=o.previousSibling,a=o.previousSibling.data.length):(i=r,a=t.nodeIndex(o)+1):(i=r,a=t.nodeIndex(o)):s?o.hasChildNodes()?(i=o.firstChild,a=1):Af(o.previousSibling)?(i=o.previousSibling,a=o.previousSibling.data.length):(i=r,a=t.nodeIndex(o)):(i=r,a=t.nodeIndex(o)),!s){const l=o.previousSibling,c=o.nextSibling;let u;for(lt.each(lt.grep(o.childNodes),f=>{ut(f)&&(f.data=f.data.replace(/\uFEFF/g,""))});u=t.get(n.id+"_"+e);)t.remove(u,!0);if(ut(c)&&ut(l)&&!fe.browser.isOpera()){const f=l.data.length;l.appendData(c.data),t.remove(c),i=l,a=f}}return E.some(tt(i,a))}return E.none()},uA=(t,e,n)=>((o,r,s=!1)=>r===2?Jg(or,s,o):r===3?(i=>{const a=i.getRng();return{start:Kg(i.dom.getRoot(),tt.fromRangeStart(a)),end:Kg(i.dom.getRoot(),tt.fromRangeEnd(a)),forward:i.isForward()}})(o):r?(i=>({rng:i.getRng(),forward:i.isForward()}))(o):eb(o,!1))(t,e,n),fA=(t,e)=>{((n,o)=>{const r=n.dom;if(o){if(Xb(o))return((s,i)=>{const a=s.createRng();return Zb(s,!0,i,a)&&Zb(s,!1,i,a)?E.some({range:a,forward:od(i)}):E.none()})(r,o);if((s=>Dt(s.start))(o))return((s,i)=>{const a=E.from(Yg(s.getRoot(),i.start)),l=E.from(Yg(s.getRoot(),i.end));return gn(a,l,(c,u)=>{const f=s.createRng();return f.setStart(c.container(),c.offset()),f.setEnd(u.container(),u.offset()),{range:f,forward:od(i)}})})(r,o);if((s=>Ht(s,"id"))(o))return((s,i)=>{const a=Jb(s,"start",i),l=Jb(s,"end",i);return gn(a,l.or(a),(c,u)=>{const f=s.createRng();return f.setStart(Gb(s,c.container()),c.offset()),f.setEnd(Gb(s,u.container()),u.offset()),{range:f,forward:od(i)}})})(r,o);if(Yb(o))return((s,i)=>E.from(s.select(i.name)[i.index]).map(a=>{const l=s.createRng();return l.selectNode(a),{range:l,forward:!0}}))(r,o);if((s=>Ht(s,"rng"))(o))return E.some({range:o.rng,forward:od(o)})}return E.none()})(t,e).each(({range:n,forward:o})=>{t.setRng(n,o)})},gr=t=>Tt(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",rd=(tv=Le,t=>tv===t);var tv;const sa=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,Nf=t=>!sa(t)&&!rd(t)&&!$o(t),Tf=t=>{const e=[];if(t)for(let n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},ev=(t,e)=>{const n=dt(e,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(o=>Wt((r=>en(r,s=>{const i=Vc(s);return i?[P(i)]:[]}))(o),Ml))(t)},Ya=t=>ev(Tf(t.selection.getSel()),P(t.getBody())),Xl=(t,e)=>cr(t,"table",e),nv=t=>kn(t).fold(yt([t]),e=>[t].concat(nv(e))),Rf=t=>Io(t).fold(yt([t]),e=>ue(e)==="br"?Pn(e).map(n=>[t].concat(Rf(n))).getOr([]):[t].concat(Rf(e))),Of=(t,e)=>gn((n=>{const o=n.startContainer,r=n.startOffset;return ut(o)?r===0?E.some(P(o)):E.none():E.from(o.childNodes[r]).map(P)})(e),(n=>{const o=n.endContainer,r=n.endOffset;return ut(o)?r===o.data.length?E.some(P(o)):E.none():E.from(o.childNodes[r-1]).map(P)})(e),(n,o)=>{const r=Ue(nv(t),St(Ft,n)),s=Ue(Rf(t),St(Ft,o));return r.isSome()&&s.isSome()}).getOr(!1),Df=(t,e,n,o)=>{const r=n,s=new ge(n,r),i=Rr(t.schema.getMoveCaretBeforeOnEnterElements(),(l,c)=>!pe(["td","th","table"],c.toLowerCase()));let a=n;do{if(ut(a)&&lt.trim(a.data).length!==0)return void(o?e.setStart(a,0):e.setEnd(a,a.data.length));if(i[a.nodeName])return void(o?e.setStartBefore(a):a.nodeName==="BR"?e.setEndBefore(a):e.setEndAfter(a))}while(a=o?s.next():s.prev());r.nodeName==="BODY"&&(o?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},sd=t=>{const e=t.selection.getSel();return gt(e)&&e.rangeCount>0},Lf=(t,e)=>{const n=Ya(t);n.length>0?Y(n,o=>{const r=o.dom,s=t.dom.createRng();s.setStartBefore(r),s.setEndAfter(r),e(s,!0)}):e(t.selection.getRng(),!1)},ov=(t,e,n)=>{const o=eb(t,e);n(o),t.moveToBookmark(o)},Gl=t=>x(t?.nodeType),Bf=t=>Tt(t)&&!gr(t)&&!hr(t)&&!qi(t),rv=(t,e,n)=>{const{selection:o,dom:r}=t,s=o.getNode(),i=$e(s);ov(o,!0,()=>{e()}),i&&$e(s)&&r.isChildOf(s,t.getBody())?t.selection.select(s):n(o.getStart())&&mA(r,o)},mA=(t,e)=>{var n,o;const r=e.getRng(),{startContainer:s,startOffset:i}=r;if(!((a,l)=>{if(Bf(l)&&!/^(TD|TH)$/.test(l.nodeName)){const c=a.getAttrib(l,"data-mce-selected"),u=parseInt(c,10);return!isNaN(u)&&u>0}return!1})(t,e.getNode())&&Tt(s)){const a=s.childNodes,l=t.getRoot();let c;if(i<a.length){const u=a[i];c=new ge(u,(n=t.getParent(u,t.isBlock))!==null&&n!==void 0?n:l)}else{const u=a[a.length-1];c=new ge(u,(o=t.getParent(u,t.isBlock))!==null&&o!==void 0?o:l),c.next(!0)}for(let u=c.current();u;u=c.next()){if(t.getContentEditable(u)==="false")return;if(ut(u)&&!Mf(u))return r.setStart(u,0),void e.setRng(r)}}},sv=(t,e,n)=>{if(t){const o=e?"nextSibling":"previousSibling";for(t=n?t:t[o];t;t=t[o])if(Tt(t)||!Mf(t))return t}},Pf=(t,e)=>!!t.getTextBlockElements()[e.nodeName.toLowerCase()]||Vi(t,e),Xa=(t,e,n)=>t.schema.isValidChild(e,n),Mf=(t,e=!1)=>{if(gt(t)&&ut(t)){const n=e?t.data.replace(/ /g,"\xA0"):t.data;return xo(n)}return!1},iv=(t,e)=>{const n=t.dom;return Bf(e)&&n.getContentEditable(e)==="false"&&((o,r)=>{const s="[data-mce-cef-wrappable]",i=lS(o),a=gs(i)?s:`${s},${i}`;return fn(P(r),a)})(t,e)&&n.select('[contenteditable="true"]',e).length===0},wi=(t,e)=>be(t)?t(e):(gt(e)&&(t=t.replace(/%(\w+)/g,(n,o)=>e[o]||n)),t),If=(t,e)=>(e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()),Ff=(t,e)=>{if(he(t))return null;{let n=String(t);return e!=="color"&&e!=="backgroundColor"||(n=Sl(n)),e==="fontWeight"&&t===700&&(n="bold"),e==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},id=(t,e,n)=>{const o=t.getStyle(e,n);return Ff(o,n)},av=(t,e)=>{let n;return t.getParent(e,o=>!!Tt(o)&&(n=t.getStyle(o,"text-decoration"),!!n&&n!=="none")),n},ad=(t,e,n)=>t.getParents(e,n,t.getRoot()),jf=(t,e,n)=>{const o=t.formatter.get(e);return gt(o)&&ve(o,n)},Ts=t=>un(t,"block"),br=t=>un(t,"selector"),xn=t=>un(t,"inline"),$f=t=>br(t)&&t.expand!==!1&&!xn(t),lv=t=>(e=>{const n=[];let o=e;for(;o;){if(ut(o)&&o.data!==Tn||o.childNodes.length>1)return[];Tt(o)&&n.push(o),o=o.firstChild}return n})(t).length>0,Hf=t=>hr(t.dom)&&lv(t.dom),Ga=gr,cv=ad,dv=Mf,pA=Pf,uv=(t,e)=>{let n=e;for(;n;){if(Tt(n)&&t.getContentEditable(n))return t.getContentEditable(n)==="false"?n:e;n=n.parentNode}return e},fv=(t,e,n,o)=>{const r=e.data;if(t){for(let s=n;s>0;s--)if(o(r.charAt(s-1)))return s}else for(let s=n;s<r.length;s++)if(o(r.charAt(s)))return s;return-1},hA=(t,e,n)=>fv(t,e,n,o=>rd(o)||sa(o)),gA=(t,e,n)=>fv(t,e,n,Nf),mv=(t,e,n,o,r,s)=>{let i;const a=t.getParent(n,t.isBlock)||e,l=(c,u,f)=>{const p=Zi(t),b=r?p.backwards:p.forwards;return E.from(b(c,u,(h,y)=>Ga(h.parentNode)?-1:(i=h,f(r,h,y)),a))};return l(n,o,hA).bind(c=>s?l(c.container,c.offset+(r?-1:0),gA):E.some(c)).orThunk(()=>i?E.some({container:i,offset:r?0:i.length}):E.none())},pv=(t,e,n,o,r)=>{const s=o[r];ut(o)&&gs(o.data)&&s&&(o=s);const i=cv(t,o);for(let a=0;a<i.length;a++)for(let l=0;l<e.length;l++){const c=e[l];if((!gt(c.collapsed)||c.collapsed===n.collapsed)&&br(c)&&t.is(i[a],c.selector))return i[a]}return o},hv=(t,e,n,o)=>{var r;let s=n;const i=t.getRoot(),a=e[0];if(Ts(a)&&(s=a.wrapper?null:t.getParent(n,a.block,i)),!s){const l=(r=t.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&r!==void 0?r:i;s=t.getParent(ut(n)?n.parentNode:n,c=>c!==i&&pA(t.schema,c),l)}if(s&&Ts(a)&&a.wrapper&&(s=cv(t,s,"ul,ol").reverse()[0]||s),!s)for(s=n;s&&s[o]&&!t.isBlock(s[o])&&(s=s[o],!If(s,"br")););return s||n},gv=(t,e,n,o)=>{const r=n.parentNode;return!gt(n[o])&&(!(r!==e&&!he(r)&&!t.isBlock(r))||gv(t,e,r,o))},ld=(t,e,n,o,r)=>{let s=n;const i=r?"previousSibling":"nextSibling",a=t.getRoot();if(ut(n)&&!dv(n)&&(r?o>0:o<n.data.length))return n;for(;s;){if(!e[0].block_expand&&t.isBlock(s))return s;for(let c=s[i];c;c=c[i]){const u=ut(c)&&!gv(t,a,c,i);if(!Ga(c)&&(!Qe(l=c)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!dv(c,u))return s}if(s===a||s.parentNode===a){n=s;break}s=s.parentNode}var l;return n},bv=t=>Ga(t.parentNode)||Ga(t),ia=(t,e,n,o=!1)=>{let{startContainer:r,startOffset:s,endContainer:i,endOffset:a}=e;const l=n[0];return Tt(r)&&r.hasChildNodes()&&(r=yi(r,s),ut(r)&&(s=0)),Tt(i)&&i.hasChildNodes()&&(i=yi(i,e.collapsed?a:a-1),ut(i)&&(a=i.data.length)),r=uv(t,r),i=uv(t,i),bv(r)&&(r=Ga(r)?r:r.parentNode,r=e.collapsed?r.previousSibling||r:r.nextSibling||r,ut(r)&&(s=e.collapsed?r.length:0)),bv(i)&&(i=Ga(i)?i:i.parentNode,i=e.collapsed?i.nextSibling||i:i.previousSibling||i,ut(i)&&(a=e.collapsed?0:i.length)),e.collapsed&&(mv(t,t.getRoot(),r,s,!0,o).each(({container:c,offset:u})=>{r=c,s=u}),mv(t,t.getRoot(),i,a,!1,o).each(({container:c,offset:u})=>{i=c,a=u})),(xn(l)||l.block_expand)&&(xn(l)&&ut(r)&&s!==0||(r=ld(t,n,r,s,!0)),xn(l)&&ut(i)&&a!==i.data.length||(i=ld(t,n,i,a,!1))),$f(l)&&(r=pv(t,n,e,r,"previousSibling"),i=pv(t,n,e,i,"nextSibling")),(Ts(l)||br(l))&&(r=hv(t,n,r,"previousSibling"),i=hv(t,n,i,"nextSibling"),Ts(l)&&(t.isBlock(r)||(r=ld(t,n,r,s,!0),ut(r)&&(s=0)),t.isBlock(i)||(i=ld(t,n,i,a,!1),ut(i)&&(a=i.data.length)))),Tt(r)&&r.parentNode&&(s=t.nodeIndex(r),r=r.parentNode),Tt(i)&&i.parentNode&&(a=t.nodeIndex(i)+1,i=i.parentNode),{startContainer:r,startOffset:s,endContainer:i,endOffset:a}},Ql=(t,e,n)=>{var o;const r=e.startOffset,s=yi(e.startContainer,r),i=e.endOffset,a=yi(e.endContainer,i-1),l=g=>{const C=g[0];ut(C)&&C===s&&r>=C.data.length&&g.splice(0,1);const k=g[g.length-1];return i===0&&g.length>0&&k===a&&ut(k)&&g.splice(g.length-1,1),g},c=(g,C,k)=>{const S=[];for(;g&&g!==k;g=g[C])S.push(g);return S},u=(g,C)=>t.getParent(g,k=>k.parentNode===C,C),f=(g,C,k)=>{const S=k?"nextSibling":"previousSibling";for(let N=g,T=N.parentNode;N&&N!==C;N=T){T=N.parentNode;const D=c(N===g?N:N[S],S);D.length&&(k||D.reverse(),n(l(D)))}};if(s===a)return n(l([s]));const p=(o=t.findCommonAncestor(s,a))!==null&&o!==void 0?o:t.getRoot();if(t.isChildOf(s,a))return f(s,p,!0);if(t.isChildOf(a,s))return f(a,p);const b=u(s,p)||s,h=u(a,p)||a;f(s,b,!0);const y=c(b===s?b:b.nextSibling,"nextSibling",h===a?h.nextSibling:h);y.length&&n(l(y)),f(a,h)},bA=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],vv=(t,e,n,o,r,s)=>{const{uid:i=e,...a}=n;q(t,Rl()),on(t,`${Ma()}`,i),on(t,`${Gi()}`,o);const{attributes:l={},classes:c=[]}=r(i,a);if(tr(t,l),((u,f)=>{Y(f,p=>{q(u,p)})})(t,c),s){c.length>0&&on(t,`${Dl()}`,c.join(","));const u=Je(l);u.length>0&&on(t,`${Ll()}`,u.join(","))}},yv=(t,e,n,o,r)=>{const s=Mt("span",t);return vv(s,e,n,o,r,!1),s},vA=(t,e,n,o,r,s)=>{const i=[],a=yv(t.getDoc(),n,s,o,r),l=Ks(),c=()=>{l.clear()},u=p=>{Y(p,f)},f=p=>{switch(((b,h,y,g)=>$n(h).fold(()=>"skipping",C=>g==="br"||(k=>Cn(k)&&Pl(k)===Tn)(h)?"valid":(k=>En(k)&&at(k,Rl()))(h)?"existing":hr(h.dom)?"caret":ve(bA,k=>fn(h,k))?"valid-block":Xa(b,y,g)&&Xa(b,ue(C),y)?"valid":"invalid-child"))(t,p,"span",ue(p))){case"invalid-child":{c();const b=Ce(p);u(b),c();break}case"valid-block":c(),vv(p,n,s,o,r,!0);break;case"valid":{const b=l.get().getOrThunk(()=>{const h=Qi(a);return i.push(h),l.set(h),h});ye(p,b);break}}};return Ql(t.dom,e,p=>{c(),(b=>{const h=re(b,P);u(h)})(p)}),i},_v=t=>{const e=(()=>{const s={};return{register:(i,a)=>{s[i]={name:i,settings:a}},lookup:i=>Ee(s,i).map(a=>a.settings),getNames:()=>Je(s)}})();((s,i)=>{const a=Gi(),l=u=>E.from(u.attr(a)).bind(i.lookup),c=u=>{var f,p;u.attr(Ma(),null),u.attr(Gi(),null),u.attr(Ol(),null);const b=E.from(u.attr(Ll())).map(C=>C.split(",")).getOr([]),h=E.from(u.attr(Dl())).map(C=>C.split(",")).getOr([]);Y(b,C=>u.attr(C,null));const y=(p=(f=u.attr("class"))===null||f===void 0?void 0:f.split(" "))!==null&&p!==void 0?p:[],g=Jt(y,[Rl()].concat(h));u.attr("class",g.length>0?g.join(" "):null),u.attr(Dl(),null),u.attr(Ll(),null)};s.serializer.addTempAttr(Ol()),s.serializer.addAttributeFilter(a,u=>{for(const f of u)l(f).each(p=>{p.persistent===!1&&(f.name==="span"?f.unwrap():c(f))})})})(t,e);const n=((s,i)=>{const a=Nn({}),l=()=>({listeners:[],previous:Ks()}),c=(b,h)=>{u(b,y=>(h(y),y))},u=(b,h)=>{const y=a.get(),g=h(Ee(y,b).getOrThunk(l));y[b]=g,a.set(y)},f=(b,h)=>{Y(yg(s,b),y=>{h?on(y,Ol(),"true"):m(y,Ol())})},p=Zu(()=>{const b=qr(i.getNames());Y(b,h=>{u(h,y=>{const g=y.previous.get();return bg(s,E.some(h)).fold(()=>{g.each(C=>{(k=>{c(k,S=>{Y(S.listeners,N=>N(!1,k))})})(h),y.previous.clear(),f(C,!1)})},({uid:C,name:k,elements:S})=>{Lr(g,C)||(g.each(N=>f(N,!1)),((N,T,D)=>{c(N,F=>{Y(F.listeners,M=>M(!0,N,{uid:T,nodes:re(D,z=>z.dom)}))})})(k,C,S),y.previous.set(C),f(C,!0))}),{previous:y.previous,listeners:y.listeners}})})},30);return s.on("remove",()=>{p.cancel()}),s.on("NodeChange",()=>{p.throttle()}),{addListener:(b,h)=>{u(b,y=>({previous:y.previous,listeners:y.listeners.concat([h])}))}}})(t,e),o=ro("span"),r=s=>{Y(s,i=>{o(i)?se(i):(a=>{st(a,Rl()),m(a,`${Ma()}`),m(a,`${Gi()}`),m(a,`${Ol()}`);const l=er(a,`${Ll()}`).map(f=>f.split(",")).getOr([]),c=er(a,`${Dl()}`).map(f=>f.split(",")).getOr([]);var u;Y(l,f=>m(a,f)),u=a,Y(c,f=>{st(u,f)}),m(a,`${Dl()}`),m(a,`${Ll()}`)})(i)})};return{register:(s,i)=>{e.register(s,i)},annotate:(s,i)=>{e.lookup(s).each(a=>{((l,c,u,f)=>{l.undoManager.transact(()=>{const p=l.selection,b=p.getRng(),h=Ya(l).length>0,y=Bl("mce-annotation");if(b.collapsed&&!h&&((g,C)=>{const k=ia(g.dom,C,[{inline:"span"}]);C.setStart(k.startContainer,k.startOffset),C.setEnd(k.endContainer,k.endOffset),g.selection.setRng(C)})(l,b),p.getRng().collapsed&&!h){const g=yv(l.getDoc(),y,f,c,u.decorate);ln(g,Le),p.getRng().insertNode(g.dom),p.select(g.dom)}else ov(p,!1,()=>{Lf(l,g=>{vA(l,g,y,c,u.decorate,f)})})})})(t,s,a,i)})},annotationChanged:(s,i)=>{n.addListener(s,i)},remove:s=>{bg(t,E.some(s)).each(({elements:i})=>{const a=t.selection.getBookmark();r(i),t.selection.moveToBookmark(a)})},removeAll:s=>{const i=t.selection.getBookmark();_e(_g(t,s),(a,l)=>{r(a)}),t.selection.moveToBookmark(i)},getAll:s=>{const i=_g(t,s);return fs(i,a=>re(a,l=>l.dom))}}},Zl=t=>({getBookmark:St(uA,t),moveToBookmark:St(fA,t)});Zl.isBookmarkNode=gr;const Cv=(t,e,n)=>!n.collapsed&&ve(n.getClientRects(),o=>((r,s,i)=>s>=r.left&&s<=r.right&&i>=r.top&&i<=r.bottom)(o,t,e)),wv=(t,e,n)=>{t.dispatch(e,n)},xv=(t,e,n,o)=>{t.dispatch("FormatApply",{format:e,node:n,vars:o})},Ev=(t,e,n,o)=>{t.dispatch("FormatRemove",{format:e,node:n,vars:o})},kv=(t,e)=>t.dispatch("SetContent",e),Sv=(t,e)=>t.dispatch("GetContent",e),zf=(t,e)=>{t.dispatch("AutocompleterUpdateActiveRange",e)},Av=(t,e)=>t.dispatch("PastePlainTextToggle",{state:e}),Ct={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||Ct.metaKeyPressed(t),metaKeyPressed:t=>fe.os.isMacOS()||fe.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},aa="data-mce-selected",Nv=Math.abs,cd=Math.round,Uf={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Tv=(t,e)=>{const n=e.dom,o=e.getDoc(),r=document,s=e.getBody();let i,a,l,c,u,f,p,b,h,y,g,C,k,S,N;const T=bt=>gt(bt)&&(Mh(bt)||n.is(bt,"figure.image")),D=bt=>Es(bt)||n.hasClass(bt,"mce-preview-object"),F=bt=>{const Nt=bt.target;(($,U)=>{if((J=>J.type==="longpress"||J.type.indexOf("touch")===0)($)){const J=$.touches[0];return T($.target)&&!Cv(J.clientX,J.clientY,U)}return T($.target)&&!Cv($.clientX,$.clientY,U)})(bt,e.selection.getRng())&&!bt.isDefaultPrevented()&&e.selection.select(Nt)},M=bt=>n.hasClass(bt,"mce-preview-object")&&gt(bt.firstElementChild)?[bt,bt.firstElementChild]:n.is(bt,"figure.image")?[bt.querySelector("img")]:[bt],z=bt=>{const Nt=bb(e);return!!Nt&&bt.getAttribute("data-mce-resize")!=="false"&&bt!==e.getBody()&&(n.hasClass(bt,"mce-preview-object")&&gt(bt.firstElementChild)?fn(P(bt.firstElementChild),Nt):fn(P(bt),Nt))},G=(bt,Nt,$)=>{if(gt($)){const U=M(bt);Y(U,J=>{J.style[Nt]||!e.schema.isValid(J.nodeName.toLowerCase(),Nt)?n.setStyle(J,Nt,$):n.setAttrib(J,Nt,""+$)})}},B=(bt,Nt,$)=>{G(bt,"width",Nt),G(bt,"height",$)},j=bt=>{let Nt,$,U,J,nt;Nt=bt.screenX-f,$=bt.screenY-p,C=Nt*c[2]+b,k=$*c[3]+h,C=C<5?5:C,k=k<5?5:k,U=(T(i)||D(i))&&tS(e)!==!1?!Ct.modifierPressed(bt):Ct.modifierPressed(bt),U&&(Nv(Nt)>Nv($)?(k=cd(C*y),C=cd(k/y)):(C=cd(k/y),k=cd(C*y))),B(a,C,k),J=c.startPos.x+Nt,nt=c.startPos.y+$,J=J>0?J:0,nt=nt>0?nt:0,n.setStyles(l,{left:J,top:nt,display:"block"}),l.innerHTML=C+" &times; "+k,c[2]<0&&a.clientWidth<=C&&n.setStyle(a,"left",void 0+(b-C)),c[3]<0&&a.clientHeight<=k&&n.setStyle(a,"top",void 0+(h-k)),Nt=s.scrollWidth-S,$=s.scrollHeight-N,Nt+$!==0&&n.setStyles(l,{left:J-Nt,top:nt-$}),g||(((vt,pt,$t,Ut,Gt)=>{vt.dispatch("ObjectResizeStart",{target:pt,width:$t,height:Ut,origin:Gt})})(e,i,b,h,"corner-"+c.name),g=!0)},H=()=>{const bt=g;g=!1,bt&&(G(i,"width",C),G(i,"height",k)),n.unbind(o,"mousemove",j),n.unbind(o,"mouseup",H),r!==o&&(n.unbind(r,"mousemove",j),n.unbind(r,"mouseup",H)),n.remove(a),n.remove(l),n.remove(u),et(i),bt&&(((Nt,$,U,J,nt)=>{Nt.dispatch("ObjectResized",{target:$,width:U,height:J,origin:nt})})(e,i,C,k,"corner-"+c.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),e.nodeChanged()},et=bt=>{Bt();const Nt=n.getPos(bt,s),$=Nt.x,U=Nt.y,J=bt.getBoundingClientRect(),nt=J.width||J.right-J.left,vt=J.height||J.bottom-J.top;i!==bt&&(ct(),i=bt,C=k=0);const pt=e.dispatch("ObjectSelected",{target:bt});z(bt)&&!pt.isDefaultPrevented()?_e(Uf,($t,Ut)=>{let Gt=n.get("mceResizeHandle"+Ut);Gt&&n.remove(Gt),Gt=n.add(s,"div",{id:"mceResizeHandle"+Ut,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ut+"-resize; margin:0; padding:0"}),n.bind(Gt,"mousedown",Te=>{Te.stopImmediatePropagation(),Te.preventDefault(),(Ve=>{const sr=M(i)[0];f=Ve.screenX,p=Ve.screenY,b=sr.clientWidth,h=sr.clientHeight,y=h/b,c=$t,c.name=Ut,c.startPos={x:nt*$t[0]+$,y:vt*$t[1]+U},S=s.scrollWidth,N=s.scrollHeight,u=n.add(s,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=((wt,ee)=>{if(D(ee))return wt.create("img",{src:fe.transparentSrc});if(xs(ee)){const ae=Xe(c.name,"n")?Ye:Ko,ne=ee.cloneNode(!0);return ae(wt.select("tr",ne)).each(we=>{const Fe=wt.select("td,th",we);wt.setStyle(we,"height",null),Y(Fe,_t=>wt.setStyle(_t,"height",null))}),ne}return ee.cloneNode(!0)})(n,i),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:$,top:U,margin:0}),B(a,nt,vt),a.removeAttribute(aa),s.appendChild(a),n.bind(o,"mousemove",j),n.bind(o,"mouseup",H),r!==o&&(n.bind(r,"mousemove",j),n.bind(r,"mouseup",H)),l=n.add(s,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},b+" &times; "+h)})(Te)}),$t.elm=Gt,n.setStyles(Gt,{left:nt*$t[0]+$-Gt.offsetWidth/2,top:vt*$t[1]+U-Gt.offsetHeight/2})}):ct(!1)},ft=Hc(et,0),ct=(bt=!0)=>{ft.cancel(),Bt(),i&&bt&&i.removeAttribute(aa),_e(Uf,(Nt,$)=>{const U=n.get("mceResizeHandle"+$);U&&(n.unbind(U),n.remove(U))})},Et=(bt,Nt)=>n.isChildOf(bt,Nt),Rt=bt=>{if(g||e.removed||e.composing)return;const Nt=bt.type==="mousedown"?bt.target:t.getNode(),$=dr(P(Nt),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(J=>J.dom).filter(J=>n.isEditable(J.parentElement)||J.nodeName==="IMG"&&n.isEditable(J)).getOrUndefined(),U=gt($)?n.getAttrib($,aa,"1"):"1";if(Y(n.select(`img[${aa}],hr[${aa}]`),J=>{J.removeAttribute(aa)}),gt($)&&Et($,s)&&e.hasFocus()){kt();const J=t.getStart(!0);if(Et(J,$)&&Et(t.getEnd(!0),$))return n.setAttrib($,aa,U),void ft.throttle($)}ct()},Bt=()=>{_e(Uf,bt=>{bt.elm&&(n.unbind(bt.elm),delete bt.elm)})},kt=()=>{try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return e.on("init",()=>{kt(),e.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Rt),e.on("keyup compositionend",bt=>{i&&i.nodeName==="TABLE"&&Rt(bt)}),e.on("hide blur",ct),e.on("contextmenu longpress",F,!0)}),e.on("remove",Bt),{isResizable:z,showResizeRect:et,hideResizeRect:ct,updateResizeRect:Rt,destroy:()=>{ft.cancel(),i=a=u=null}}},Rv=(t,e,n)=>{const o=t.document.createRange();var r;return r=o,e.fold(s=>{r.setStartBefore(s.dom)},(s,i)=>{r.setStart(s.dom,i)},s=>{r.setStartAfter(s.dom)}),((s,i)=>{i.fold(a=>{s.setEndBefore(a.dom)},(a,l)=>{s.setEnd(a.dom,l)},a=>{s.setEndAfter(a.dom)})})(o,n),o},qf=(t,e,n,o,r)=>{const s=t.document.createRange();return s.setStart(e.dom,n),s.setEnd(o.dom,r),s},Jl=ks([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ov=(t,e,n)=>e(P(n.startContainer),n.startOffset,P(n.endContainer),n.endOffset);Jl.ltr,Jl.rtl;const Dv=(t,e,n,o)=>({start:t,soffset:e,finish:n,foffset:o}),Wf=ks([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Xs={before:Wf.before,on:Wf.on,after:Wf.after,cata:(t,e,n,o)=>t.fold(e,n,o),getStart:t=>t.fold(me,me,me)},dd=ks([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qa={domRange:dd.domRange,relative:dd.relative,exact:dd.exact,exactFromRange:t=>dd.exact(t.start,t.soffset,t.finish,t.foffset),getWin:t=>{const e=(n=>n.match({domRange:o=>P(o.startContainer),relative:(o,r)=>Xs.getStart(o),exact:(o,r,s,i)=>o}))(t);return so(e)},range:Dv},ud=(t,e)=>{const n=ue(t);return n==="input"?Xs.after(t):pe(["br","img"],n)?e===0?Xs.before(t):Xs.after(t):Xs.on(t,e)},yA=(t,e)=>{const n=t.fold(Xs.before,ud,Xs.after),o=e.fold(Xs.before,ud,Xs.after);return Qa.relative(n,o)},Lv=(t,e,n,o)=>{const r=ud(t,e),s=ud(n,o);return Qa.relative(r,s)},Vf=(t,e)=>{const n=(e||document).createDocumentFragment();return Y(t,o=>{n.appendChild(o.dom)}),P(n)},_A=t=>{const e=Qa.getWin(t).dom,n=(r,s,i,a)=>qf(e,r,s,i,a),o=(r=>r.match({domRange:s=>{const i=P(s.startContainer),a=P(s.endContainer);return Lv(i,s.startOffset,a,s.endOffset)},relative:yA,exact:Lv}))(t);return((r,s)=>{const i=((a,l)=>l.match({domRange:c=>({ltr:yt(c),rtl:E.none}),relative:(c,u)=>({ltr:Yo(()=>Rv(a,c,u)),rtl:Yo(()=>E.some(Rv(a,u,c)))}),exact:(c,u,f,p)=>({ltr:Yo(()=>qf(a,c,u,f,p)),rtl:Yo(()=>E.some(qf(a,f,p,c,u)))})}))(r,s);return((a,l)=>{const c=l.ltr();return c.collapsed?l.rtl().filter(u=>u.collapsed===!1).map(u=>Jl.rtl(P(u.endContainer),u.endOffset,P(u.startContainer),u.startOffset)).getOrThunk(()=>Ov(0,Jl.ltr,c)):Ov(0,Jl.ltr,c)})(0,i)})(e,o).match({ltr:n,rtl:n})},CA=(t,e,n)=>((o,r,s)=>((i,a,l)=>i.caretPositionFromPoint?((c,u,f)=>{var p;return E.from((p=c.caretPositionFromPoint)===null||p===void 0?void 0:p.call(c,u,f)).bind(b=>{if(b.offsetNode===null)return E.none();const h=c.createRange();return h.setStart(b.offsetNode,b.offset),h.collapse(),E.some(h)})})(i,a,l):i.caretRangeFromPoint?((c,u,f)=>{var p;return E.from((p=c.caretRangeFromPoint)===null||p===void 0?void 0:p.call(c,u,f))})(i,a,l):E.none())(o.document,r,s).map(i=>Dv(P(i.startContainer),i.startOffset,P(i.endContainer),i.endOffset)))(t,e,n),Bv=(t,e,n)=>{const o=so(P(n));return CA(o.dom,t,e).map(r=>{const s=n.createRange();return s.setStart(r.start.dom,r.soffset),s.setEnd(r.finish.dom,r.foffset),s}).getOrUndefined()},Kf=(t,e)=>gt(t)&&gt(e)&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset,Pv=(t,e,n)=>((o,r,s)=>{let i=o;for(;i&&i!==r;){if(s(i))return i;i=i.parentNode}return null})(t,e,n)!==null,wA=(t,e,n)=>Pv(t,e,o=>o.nodeName===n),xA=(t,e)=>mr(t)&&!Pv(t,e,hr),Mv=(t,e,n)=>{const o=e.parentNode;if(o){const r=new ge(e,t.getParent(o,t.isBlock)||t.getRoot());let s;for(;s=r[n?"prev":"next"]();)if(Qe(s))return!0}return!1},Yf=(t,e,n,o,r)=>{const s=t.getRoot(),i=t.schema.getNonEmptyElements(),a=r.parentNode;let l,c;if(!a)return E.none();const u=t.getParent(a,t.isBlock)||s;if(o&&Qe(r)&&e&&t.isEmpty(u))return E.some(tt(a,t.nodeIndex(r)));const f=new ge(r,u);for(;c=f[o?"prev":"next"]();){if(t.getContentEditableParent(c)==="false"||xA(c,s))return E.none();if(ut(c)&&c.data.length>0)return wA(c,s,"A")?E.none():E.some(tt(c,o?c.data.length:0));if(t.isBlock(c)||i[c.nodeName.toLowerCase()])return E.none();l=c}return hi(l)?E.none():n&&l?E.some(tt(l,0)):E.none()},Iv=(t,e,n,o)=>{const r=t.getRoot();let s,i=!1,a=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const c=Tt(a)&&l===a.childNodes.length,u=t.schema.getNonEmptyElements();let f=n;if(mr(a))return E.none();if(Tt(a)&&l>a.childNodes.length-1&&(f=!1),El(a)&&(a=r,l=0),a===r){if(f&&(s=a.childNodes[l>0?l-1:0],s)&&(mr(s)||u[s.nodeName]||xs(s)))return E.none();if(a.hasChildNodes()){if(l=Math.min(!f&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=ut(a)&&c?a.data.length:0,!e&&a===r.lastChild&&xs(a)||((p,b)=>{let h=b;for(;h&&h!==p;){if($e(h))return!0;h=h.parentNode}return!1})(r,a)||mr(a)||Ru(a))return E.none();if(a.hasChildNodes()&&!xs(a)){s=a;const p=new ge(a,r);do{if($e(s)||mr(s)){i=!1;break}if(ut(s)&&s.data.length>0){l=f?0:s.data.length,a=s,i=!0;break}if(u[s.nodeName.toLowerCase()]&&!UE(s)){l=t.nodeIndex(s),a=s.parentNode,f||l++,i=!0;break}}while(s=f?p.next():p.prev())}}}return e&&(ut(a)&&l===0&&Yf(t,c,e,!0,a).each(p=>{a=p.container(),l=p.offset(),i=!0}),Tt(a)&&(s=a.childNodes[l],s||(s=a.childNodes[l-1]),!s||!Qe(s)||((p,b)=>{var h;return((h=p.previousSibling)===null||h===void 0?void 0:h.nodeName)==="A"})(s)||Mv(t,s,!1)||Mv(t,s,!0)||Yf(t,c,e,!0,s).each(p=>{a=p.container(),l=p.offset(),i=!0}))),f&&!e&&ut(a)&&l===a.data.length&&Yf(t,c,e,!1,a).each(p=>{a=p.container(),l=p.offset(),i=!0}),i&&a?E.some(tt(a,l)):E.none()},fd=(t,e)=>{const n=e.collapsed,o=e.cloneRange(),r=tt.fromRangeStart(e);return Iv(t,n,!0,o).each(s=>{n&&tt.isAbove(r,s)||o.setStart(s.container(),s.offset())}),n||Iv(t,n,!1,o).each(s=>{o.setEnd(s.container(),s.offset())}),n&&o.collapse(!0),Kf(e,o)?E.none():E.some(o)},md=(t,e)=>t.splitText(e),pd=t=>{let e=t.startContainer,n=t.startOffset,o=t.endContainer,r=t.endOffset;if(e===o&&ut(e)){if(n>0&&n<e.data.length)if(o=md(e,n),e=o.previousSibling,r>n){r-=n;const s=md(o,r).previousSibling;e=o=s,r=s.data.length,n=0}else r=0}else if(ut(e)&&n>0&&n<e.data.length&&(e=md(e,n),n=0),ut(o)&&r>0&&r<o.data.length){const s=md(o,r).previousSibling;o=s,r=s.data.length}return{startContainer:e,startOffset:n,endContainer:o,endOffset:r}},la=t=>({walk:(e,n)=>Ql(t,e,n),split:pd,expand:(e,n={type:"word"})=>{if(n.type==="word"){const o=ia(t,e,[{inline:"span"}]),r=t.createRng();return r.setStart(o.startContainer,o.startOffset),r.setEnd(o.endContainer,o.endOffset),r}return e},normalize:e=>fd(t,e).fold(Be,n=>(e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),!0))});la.compareRanges=Kf,la.getCaretRangeFromPoint=Bv,la.getSelectedNode=Vc,la.getNode=yi;const EA=((t,e)=>{const n=r=>{const s=(i=>{const a=i.dom;return lo(i)?a.getBoundingClientRect().height:a.offsetHeight})(r);if(s<=0||s===null){const i=I(r,t);return parseFloat(i)||0}return s},o=(r,s)=>tn(s,(i,a)=>{const l=I(r,a),c=l===void 0?0:parseInt(l,10);return isNaN(c)?i:i+c},0);return{set:(r,s)=>{if(!x(s)&&!s.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+s);const i=r.dom;Br(i)&&(i.style[t]=s+"px")},get:n,getOuter:n,aggregate:o,max:(r,s,i)=>{const a=o(r,i);return s>a?s-a:0}}})("height"),Fv=()=>P(document),jv=(t,e)=>t.view(e).fold(yt([]),n=>{const o=t.owner(n),r=jv(t,o);return[n].concat(r)});var kA=Object.freeze({__proto__:null,view:t=>{var e;return(t.dom===document?E.none():E.from((e=t.dom.defaultView)===null||e===void 0?void 0:e.frameElement)).map(P)},owner:t=>Pe(t)});const Xf=t=>ue(t)==="textarea",$v=(t,e)=>{const n=(r=>{const s=r.dom.ownerDocument,i=s.body,a=s.defaultView,l=s.documentElement;if(i===r.dom)return Ne(i.offsetLeft,i.offsetTop);const c=fo(a?.pageYOffset,l.scrollTop),u=fo(a?.pageXOffset,l.scrollLeft),f=fo(l.clientTop,i.clientTop),p=fo(l.clientLeft,i.clientLeft);return mo(r).translate(u-p,c-f)})(t),o=(r=>EA.get(r))(t);return{element:t,bottom:n.top+o,height:o,pos:n,cleanup:e}},Hv=(t,e,n,o)=>{AA(t,(r,s)=>SA(t,e,n,o),n)},zv=(t,e,n,o,r)=>{const s={elm:o.element.dom,alignToTop:r};((i,a)=>i.dispatch("ScrollIntoView",a).isDefaultPrevented())(t,s)||(n(t,e,Cs(e).top,o,r),((i,a)=>{i.dispatch("AfterScrollIntoView",a)})(t,s))},SA=(t,e,n,o)=>{const r=P(t.getBody()),s=P(t.getDoc());r.dom.offsetWidth;const i=((a,l)=>{const c=((f,p)=>{const b=Ce(f);if(b.length===0||Xf(f))return{element:f,offset:p};if(p<b.length&&!Xf(b[p]))return{element:b[p],offset:0};{const h=b[b.length-1];return Xf(h)?{element:f,offset:p}:ue(h)==="img"?{element:h,offset:1}:Cn(h)?{element:h,offset:Pl(h).length}:{element:h,offset:Ce(h).length}}})(a,l),u=ht('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return Ot(c.element,u),$v(u,()=>Yt(u))})(P(n.startContainer),n.startOffset);zv(t,s,e,i,o),i.cleanup()},Uv=(t,e,n,o)=>{const r=P(t.getDoc());zv(t,r,n,(s=>$v(P(s),Lt))(e),o)},AA=(t,e,n)=>{const o=n.startContainer,r=n.startOffset,s=n.endContainer,i=n.endOffset;e(P(o),P(s));const a=t.dom.createRng();a.setStart(o,r),a.setEnd(s,i),t.selection.setRng(n)},Gf=(t,e,n,o,r)=>{const s=e.pos;if(o)Jr(s.left,s.top,r);else{const i=s.top-n+e.height;Jr(-t.getBody().getBoundingClientRect().left,i,r)}},qv=(t,e,n,o,r,s)=>{const i=o+n,a=r.pos.top,l=r.bottom,c=l-a>=o;a<n?Gf(t,r,o,s!==!1,e):a>i?Gf(t,r,o,c?s!==!1:s===!0,e):l>i&&!c&&Gf(t,r,o,s===!0,e)},Wv=(t,e,n,o,r)=>{const s=so(e).dom.innerHeight;qv(t,e,n,s,o,r)},Vv=(t,e,n,o,r)=>{const s=so(e).dom.innerHeight;qv(t,e,n,s,o,r);const i=(l=>{const c=Fv(),u=Cs(c),f=((h,y)=>{const g=y.owner(h);return jv(y,g)})(l,kA),p=mo(l),b=Ur(f,(h,y)=>{const g=mo(y);return{left:h.left+g.left,top:h.top+g.top}},{left:0,top:0});return Ne(b.left+p.left+u.left,b.top+p.top+u.top)})(o.element),a=R(window);i.top<a.y?V(o.element,r!==!1):i.top>a.bottom&&V(o.element,r===!0)},NA=(t,e,n)=>Hv(t,Wv,e,n),TA=(t,e,n)=>Uv(t,e,Wv,n),RA=(t,e,n)=>Hv(t,Vv,e,n),OA=(t,e,n)=>Uv(t,e,Vv,n),tc=(t,e,n)=>{(t.inline?NA:RA)(t,e,n)},Kv=(t,e=!1)=>t.dom.focus({preventScroll:e}),Yv=t=>{const e=Me(t).dom;return t.dom===e.activeElement},Qf=(t=Fv())=>E.from(t.dom.activeElement).map(P),Xv=(t,e)=>{const n=Cn(e)?Pl(e).length:Ce(e).length+1;return t>n?n:t<0?0:t},DA=t=>Qa.range(t.start,Xv(t.soffset,t.start),t.finish,Xv(t.foffset,t.finish)),Gv=(t,e)=>!Ws(e.dom)&&(mn(t,e)||Ft(t,e)),Qv=t=>e=>Gv(t,e.start)&&Gv(t,e.finish),LA=t=>Qa.range(P(t.startContainer),t.startOffset,P(t.endContainer),t.endOffset),BA=t=>{const e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),E.some(e)}catch{return E.none()}},hd=t=>{const e=(o=>o.inline||fe.browser.isFirefox())(t)?(n=P(t.getBody()),(o=>{const r=o.getSelection();return(r&&r.rangeCount!==0?E.from(r.getRangeAt(0)):E.none()).map(LA)})(so(n).dom).filter(Qv(n))):E.none();var n;t.bookmark=e.isSome()?e:t.bookmark},Zf=t=>(t.bookmark?t.bookmark:E.none()).bind(e=>{return n=P(t.getBody()),o=e,E.from(o).filter(Qv(n)).map(DA);var n,o}).bind(BA),Zv={isEditorUIElement:t=>{const e=t.className.toString();return e.indexOf("tox-")!==-1||e.indexOf("mce-")!==-1}},vr={setEditorTimeout:(t,e,n)=>((o,r)=>(x(r)||(r=0),setTimeout(o,r)))(()=>{t.removed||e()},n),setEditorInterval:(t,e,n)=>{const o=((r,s)=>(x(s)||(s=0),setInterval(r,s)))(()=>{t.removed?clearInterval(o):e()},n);return o}};let Za;const Jf=Ie.DOM,tm=t=>{const e=t.classList;return e!==void 0&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},gd=(t,e)=>{const n=cS(t);return Jf.getParent(e,r=>(s=>Tt(s)&&Zv.isEditorUIElement(s))(r)||!!n&&t.dom.is(r,n))!==null},em=t=>{try{const e=Me(P(t.getElement()));return Qf(e).fold(()=>document.body,n=>n.dom)}catch{return document.body}},PA=(t,e)=>{const n=e.editor;(r=>{const s=Hc(()=>{hd(r)},0);r.on("init",()=>{r.inline&&((i,a)=>{const l=()=>{a.throttle()};Ie.DOM.bind(document,"mouseup",l),i.on("remove",()=>{Ie.DOM.unbind(document,"mouseup",l)})})(r,s),((i,a)=>{((l,c)=>{l.on("mouseup touchend",u=>{c.throttle()})})(i,a),i.on("keyup NodeChange AfterSetSelectionRange",l=>{(c=>c.type==="nodechange"&&c.selectionChange)(l)||hd(i)})})(r,s)}),r.on("remove",()=>{s.cancel()})})(n);const o=(r,s)=>{US(r)&&r.inline!==!0&&s(P(r.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const r=t.focusedEditor;tm(em(n))&&o(n,q),r!==n&&(r&&r.dispatch("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.dispatch("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",()=>{vr.setEditorTimeout(n,()=>{const r=t.focusedEditor;tm(em(n))&&r===n||o(n,st),gd(n,em(n))||r!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Za||(Za=r=>{const s=t.activeEditor;s&&Fo(r).each(i=>{const a=i;a.ownerDocument===document&&(a===document.body||gd(s,a)||t.focusedEditor!==s||(s.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))})},Jf.bind(document,"focusin",Za))},MA=(t,e)=>{t.focusedEditor===e.editor&&(t.focusedEditor=null),!t.activeEditor&&Za&&(Jf.unbind(document,"focusin",Za),Za=null)},Jv=(t,e)=>{((n,o)=>(r=>r.collapsed?E.from(yi(r.startContainer,r.startOffset)).map(P):E.none())(o).bind(r=>pk(r)?E.some(r):mn(n,r)?E.none():E.some(n)))(P(t.getBody()),e).bind(n=>Gn(n.dom)).fold(()=>{t.selection.normalize()},n=>t.selection.setRng(n.toRange()))},bd=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Ja=t=>t.inline?(e=>{const n=e.getBody();return n&&(o=P(n),Yv(o)||(r=o,Qf(Me(r)).filter(s=>r.dom.contains(s.dom))).isSome());var o,r})(t):(e=>gt(e.iframeElement)&&Yv(P(e.iframeElement)))(t),t0=t=>Ja(t)||(e=>{const n=Me(P(e.getElement()));return Qf(n).filter(o=>!tm(o.dom)&&gd(e,o.dom)).isSome()})(t),nm=t=>t.editorManager.setActive(t),e0=(t,e)=>e.collapsed?t.isEditable(e.startContainer):t.isEditable(e.startContainer)&&t.isEditable(e.endContainer),n0=(t,e,n,o,r)=>{const s=n?e.startContainer:e.endContainer,i=n?e.startOffset:e.endOffset;return E.from(s).map(P).map(a=>o&&e.collapsed?a:He(a,r(a,i)).getOr(a)).bind(a=>En(a)?E.some(a):$n(a).filter(En)).map(a=>a.dom).getOr(t)},o0=(t,e,n=!1)=>n0(t,e,!0,n,(o,r)=>Math.min(Sn(o),r)),r0=(t,e,n=!1)=>n0(t,e,!1,n,(o,r)=>r>0?r-1:r),s0=(t,e)=>{const n=t;for(;t&&ut(t)&&t.length===0;)t=e?t.nextSibling:t.previousSibling;return t||n},om=(t,e)=>re(e,n=>{const o=t.dispatch("GetSelectionRange",{range:n});return o.range!==n?o.range:n}),IA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vd=(t,e,n)=>{const o=n?"lastChild":"firstChild",r=n?"prev":"next";if(t[o])return t[o];if(t!==e){let s=t[r];if(s)return s;for(let i=t.parent;i&&i!==e;i=i.parent)if(s=i[r],s)return s}},FA=t=>{var e;const n=(e=t.value)!==null&&e!==void 0?e:"";if(!xo(n))return!1;const o=t.parent;return!o||o.name==="span"&&!o.attr("style")||!/^[ ]+$/.test(n)},i0=t=>{const e=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e};class go{static create(e,n){const o=new go(e,IA[e]||1);return n&&_e(n,(r,s)=>{o.attr(s,r)}),o}constructor(e,n){this.name=e,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(e){const n=this;return e.parent&&e.remove(),n.insert(e,n),n.remove(),n}attr(e,n){const o=this;if(!Dt(e))return gt(e)&&_e(e,(s,i)=>{o.attr(i,s)}),o;const r=o.attributes;if(r){if(n!==void 0){if(n===null){if(e in r.map){delete r.map[e];let s=r.length;for(;s--;)if(r[s].name===e)return r.splice(s,1),o}return o}if(e in r.map){let s=r.length;for(;s--;)if(r[s].name===e){r[s].value=n;break}}else r.push({name:e,value:n});return r.map[e]=n,o}return r.map[e]}}clone(){const e=this,n=new go(e.name,e.type),o=e.attributes;if(o){const r=[];r.map={};for(let s=0,i=o.length;s<i;s++){const a=o[s];a.name!=="id"&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}n.attributes=r}return n.value=e.value,n}wrap(e){const n=this;return n.parent&&(n.parent.insert(e,n),e.append(n)),n}unwrap(){const e=this;for(let n=e.firstChild;n;){const o=n.next;e.insert(n,e,!0),n=o}e.remove()}remove(){const e=this,n=e.parent,o=e.next,r=e.prev;return n&&(n.firstChild===e?(n.firstChild=o,o&&(o.prev=null)):r&&(r.next=o),n.lastChild===e?(n.lastChild=r,r&&(r.next=null)):o&&(o.prev=r),e.parent=e.next=e.prev=null),e}append(e){const n=this;e.parent&&e.remove();const o=n.lastChild;return o?(o.next=e,e.prev=o,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e}insert(e,n,o){e.parent&&e.remove();const r=n.parent||this;return o?(n===r.firstChild?r.firstChild=e:n.prev&&(n.prev.next=e),e.prev=n.prev,e.next=n,n.prev=e):(n===r.lastChild?r.lastChild=e:n.next&&(n.next.prev=e),e.next=n.next,e.prev=n,n.next=e),e.parent=r,e}getAll(e){const n=this,o=[];for(let r=n.firstChild;r;r=vd(r,n))r.name===e&&o.push(r);return o}children(){const e=[];for(let n=this.firstChild;n;n=n.next)e.push(n);return e}empty(){const e=this;if(e.firstChild){const n=[];for(let r=e.firstChild;r;r=vd(r,e))n.push(r);let o=n.length;for(;o--;){const r=n[o];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,n={},o){var r;const s=this;let i=s.firstChild;if(i0(s))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(e[i.name]||i0(i))return!1}if(i.type===8||i.type===3&&!FA(i)||i.type===3&&i.parent&&n[i.parent.name]&&xo((r=i.value)!==null&&r!==void 0?r:"")||o&&o(i))return!1}while(i=vd(i,s));return!0}walk(e){return vd(this,null,e)}}const jA=lt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),a0=t=>Dt(t.nodeValue)&&t.nodeValue.includes(Tn),l0=t=>(t.length===0?"":`${re(t,e=>`[${e}]`).join(",")},`)+'[data-mce-bogus="all"]',c0=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,e=>a0(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),d0=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,e=>{if(a0(e)){const n=e.parentNode;return n&&Ht(jA,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),$A=t=>c0(t).nextNode()!==null,HA=t=>d0(t).nextNode()!==null,zA=(t,e)=>e.querySelector(l0(t))!==null,UA=(t,e)=>{Y(((n,o)=>o.querySelectorAll(l0(n)))(t,e),n=>{const o=P(n);jn(o,"data-mce-bogus")==="all"?Yt(o):Y(t,r=>{d(o,r)&&m(o,r)})})},u0=t=>{let e=t.nextNode();for(;e!==null;)e.nodeValue=null,e=t.nextNode()},qA=_o(u0,c0),WA=_o(u0,d0),f0=(t,e)=>{const n=[{condition:St(zA,e),action:St(UA,e)},{condition:$A,action:qA},{condition:HA,action:WA}];let o=t,r=!1;return Y(n,({condition:s,action:i})=>{s(o)&&(r||(o=t.cloneNode(!0),r=!0),i(o))}),o},m0=t=>{const e=dt(t,"[data-mce-bogus]");Y(e,n=>{jn(n,"data-mce-bogus")==="all"?Yt(n):Ji(n)?(Ot(n,ie(Mn)),Yt(n)):se(n)})},p0=t=>{const e=dt(t,"input");Y(e,n=>{m(n,"name")})},VA=(t,e,n)=>{let o;return o=e.format==="raw"?lt.trim(or(f0(n,t.serializer.getTempAttrs()).innerHTML)):e.format==="text"?((r,s)=>{const i=r.getDoc(),a=Me(P(r.getBody())),l=Mt("div",i);on(l,"data-mce-bogus","all"),Zr(l,{position:"fixed",left:"-9999999px",top:"0"}),ln(l,s.innerHTML),m0(l),p0(l);const c=(f=>te(f)?f:P(Pe(f).dom.body))(a);At(c,l);const u=or(l.dom.innerText);return Yt(l),u})(t,n):e.format==="tree"?t.serializer.serialize(n,e):((r,s)=>{const i=Xn(r),a=new RegExp(`^(<${i}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${i}>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(a,"")})(t,t.serializer.serialize(n,e)),e.format!=="text"&&!zc(P(n))&&Dt(o)?lt.trim(o):o},h0=lt.makeMap,g0=t=>{const e=[],n=(t=t||{}).indent,o=h0(t.indent_before||""),r=h0(t.indent_after||""),s=Yi.getEncodeFunc(t.entity_encoding||"raw",t.entities),i=t.element_format!=="xhtml";return{start:(a,l,c)=>{if(n&&o[a]&&e.length>0){const u=e[e.length-1];u.length>0&&u!==`
`&&e.push(`
`)}if(e.push("<",a),l)for(let u=0,f=l.length;u<f;u++){const p=l[u];e.push(" ",p.name,'="',s(p.value,!0),'"')}if(e[e.length]=!c||i?">":" />",c&&n&&r[a]&&e.length>0){const u=e[e.length-1];u.length>0&&u!==`
`&&e.push(`
`)}},end:a=>{let l;e.push("</",a,">"),n&&r[a]&&e.length>0&&(l=e[e.length-1],l.length>0&&l!==`
`&&e.push(`
`))},text:(a,l)=>{a.length>0&&(e[e.length]=l?a:s(a))},cdata:a=>{e.push("<![CDATA[",a,"]]>")},comment:a=>{e.push("<!--",a,"-->")},pi:(a,l)=>{l?e.push("<?",a," ",s(l),"?>"):e.push("<?",a,"?>"),n&&e.push(`
`)},doctype:a=>{e.push("<!DOCTYPE",a,">",n?`
`:"")},reset:()=>{e.length=0},getContent:()=>e.join("").replace(/\n$/,"")}},xi=(t={},e=gi())=>{const n=g0(t);return t.validate=!("validate"in t)||t.validate,{serialize:o=>{const r=t.validate,s={3:a=>{var l;n.text((l=a.value)!==null&&l!==void 0?l:"",a.raw)},8:a=>{var l;n.comment((l=a.value)!==null&&l!==void 0?l:"")},7:a=>{n.pi(a.name,a.value)},10:a=>{var l;n.doctype((l=a.value)!==null&&l!==void 0?l:"")},4:a=>{var l;n.cdata((l=a.value)!==null&&l!==void 0?l:"")},11:a=>{let l=a;if(l=l.firstChild)do i(l);while(l=l.next)}};n.reset();const i=a=>{var l;const c=s[a.type];if(c)c(a);else{const u=a.name,f=u in e.getVoidElements();let p=a.attributes;if(r&&p&&p.length>1){const b=[];b.map={};const h=e.getElementRule(a.name);if(h){for(let y=0,g=h.attributesOrder.length;y<g;y++){const C=h.attributesOrder[y];if(C in p.map){const k=p.map[C];b.map[C]=k,b.push({name:C,value:k})}}for(let y=0,g=p.length;y<g;y++){const C=p[y].name;if(!(C in b.map)){const k=p.map[C];b.map[C]=k,b.push({name:C,value:k})}}p=b}}if(n.start(u,p,f),Wi(u))Dt(a.value)&&n.text(a.value,!0),n.end(u);else if(!f){let b=a.firstChild;if(b){u!=="pre"&&u!=="textarea"||b.type!==3||((l=b.value)===null||l===void 0?void 0:l[0])!==`
`||n.text(`
`,!0);do i(b);while(b=b.next)}n.end(u)}}};return o.type!==1||t.inner?o.type===3?s[3](o):s[11](o):i(o),n.getContent()}}},b0=new Set;Y(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{b0.add(t)});const v0=new Set;Y(["background-color"],t=>{v0.add(t)});const y0=["font","text-decoration","text-emphasis"],tl=(t,e)=>Je(((n,o)=>n.parseStyle(n.getAttrib(o,"style")))(t,e)),_0=(t,e)=>ve(tl(t,e),n=>(o=>b0.has(o))(n)),C0=(t,e,n)=>E.from(n.container()).filter(ut).exists(o=>{const r=t?0:-1;return e(o.data.charAt(n.offset()+r))}),rm=St(C0,!0,sa),sm=St(C0,!1,sa),KA=t=>{const e=t.container();return ut(e)&&(e.data.length===0||Uc(e.data)&&Zl.isBookmarkNode(e.parentNode))},Ei=(t,e)=>n=>Cf(t?0:-1,n).filter(e).isSome(),w0=t=>Mh(t)&&I(P(t),"display")==="block",x0=t=>$e(t)&&!(e=>Tt(e)&&e.getAttribute("data-mce-bogus")==="all")(t),YA=Ei(!0,w0),XA=Ei(!1,w0),ec=Ei(!0,Es),nc=Ei(!1,Es),E0=Ei(!0,xs),im=Ei(!1,xs),ki=Ei(!0,x0),Si=Ei(!1,x0),k0=(t,e)=>((n,o,r)=>mn(o,n)?ys(n,s=>r(s)||Ft(s,o)).slice(0,-1):[])(t,e,Be),Gs=(t,e)=>[t].concat(k0(t,e)),am=(t,e,n)=>Kb(t,e,n,KA),S0=(t,e,n)=>Ue(Gs(P(e.container()),t),(o=>r=>o.isBlock(ue(r)))(n)),A0=(t,e,n,o)=>am(t,e.dom,n).forall(r=>S0(e,n,o).fold(()=>!Ss(r,n,e.dom),s=>!Ss(r,n,e.dom)&&mn(s,P(r.container())))),N0=(t,e,n,o)=>S0(e,n,o).fold(()=>am(t,e.dom,n).forall(r=>!Ss(r,n,e.dom)),r=>am(t,r.dom,n).isNone()),lm=St(N0,!1),T0=St(N0,!0),GA=St(A0,!1),QA=St(A0,!0),ZA=t=>td(t).exists(Ji),yd=(t,e,n,o)=>{const r=Wt(Gs(P(n.container()),e),i=>o.isBlock(ue(i))),s=Ye(r).getOr(e);return pr(t,s.dom,n).filter(ZA)},cm=(t,e,n)=>td(e).exists(Ji)||yd(!0,t,e,n).isSome(),_d=(t,e,n)=>(o=>E.from(o.getNode(!0)).map(P))(e).exists(Ji)||yd(!1,t,e,n).isSome(),R0=St(yd,!1),JA=St(yd,!0),O0=t=>tt.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),D0=(t,e,n)=>{const o=Wt(Gs(P(e.container()),t),r=>n.isBlock(ue(r)));return Ye(o).getOr(t)},L0=(t,e,n)=>O0(e)?sm(e):sm(e)||Ho(D0(t,e,n).dom,e).exists(sm),B0=(t,e,n)=>O0(e)?rm(e):rm(e)||ko(D0(t,e,n).dom,e).exists(rm),dm=t=>td(t).bind(e=>Vn(e,En)).exists(e=>(n=>pe(["pre","pre-wrap"],n))(I(e,"white-space"))),P0=(t,e)=>n=>{return o=new ge(n,t)[e](),gt(o)&&$e(o)&&Bb(o);var o},M0=(t,e,n)=>!dm(e)&&(((o,r,s)=>((i,a)=>Ho(i.dom,a).isNone())(o,r)||((i,a)=>ko(i.dom,a).isNone())(o,r)||lm(o,r,s)||T0(o,r,s)||_d(o,r,s)||cm(o,r,s))(t,e,n)||L0(t,e,n)||B0(t,e,n)),oc=(t,e,n)=>!dm(e)&&(lm(t,e,n)||GA(t,e,n)||_d(t,e,n)||L0(t,e,n)||((o,r)=>{const s=Ho(o.dom,r).getOr(r),i=P0(o.dom,"prev");return r.isAtStart()&&(i(r.container())||i(s.container()))})(t,e)),rc=(t,e,n)=>!dm(e)&&(T0(t,e,n)||QA(t,e,n)||cm(t,e,n)||B0(t,e,n)||((o,r)=>{const s=ko(o.dom,r).getOr(r),i=P0(o.dom,"next");return r.isAtEnd()&&(i(r.container())||i(s.container()))})(t,e)),um=(t,e,n)=>oc(t,e,n)||rc(t,(o=>{const r=o.container(),s=o.offset();return ut(r)&&s<r.data.length?tt(r,s+1):o})(e),n),I0=(t,e)=>rd(t.charAt(e)),F0=(t,e)=>sa(t.charAt(e)),j0=(t,e,n,o)=>{const r=e.data,s=tt(e,0);return n||!I0(r,0)||um(t,s,o)?!!(n&&F0(r,0)&&oc(t,s,o))&&(e.data=Le+r.slice(1),!0):(e.data=" "+r.slice(1),!0)},$0=(t,e,n,o)=>{const r=e.data,s=tt(e,r.length-1);return n||!I0(r,r.length-1)||um(t,s,o)?!!(n&&F0(r,r.length-1)&&rc(t,s,o))&&(e.data=r.slice(0,-1)+Le,!0):(e.data=r.slice(0,-1)+" ",!0)},tN=(t,e,n)=>{const o=e.container();if(!ut(o))return E.none();if((r=>{const s=r.container();return ut(s)&&hn(s.data,Le)})(e)){const r=j0(t,o,!1,n)||(s=>{const i=s.data,a=(l=>{const c=l.split("");return re(c,(u,f)=>rd(u)&&f>0&&f<c.length-1&&Nf(c[f-1])&&Nf(c[f+1])?" ":u).join("")})(i);return a!==i&&(s.data=a,!0)})(o)||$0(t,o,!1,n);return Yr(r,e)}if(um(t,e,n)){const r=j0(t,o,!0,n)||$0(t,o,!0,n);return Yr(r,e)}return E.none()},H0=(t,e,n,o)=>{if(n===0)return;const r=P(t),s=jo(r,c=>o.isBlock(ue(c))).getOr(r),i=t.data.slice(e,e+n),a=e+n>=t.data.length&&rc(s,tt(t,t.data.length),o),l=e===0&&oc(s,tt(t,0),o);t.replaceData(e,n,nr(i,4,l,a))},Cd=(t,e,n)=>{const o=t.data.slice(e),r=o.length-Mi(o).length;H0(t,e,r,n)},fm=(t,e,n)=>{const o=t.data.slice(0,e),r=o.length-hs(o).length;H0(t,e-r,r,n)},mm=(t,e,n,o,r=!0)=>{const s=hs(t.data).length,i=r?t:e,a=r?e:t;return r?i.appendData(a.data):i.insertData(0,a.data),Yt(P(a)),o&&Cd(i,s,n),i},eN=(t,e)=>((n,o)=>{const r=n.container(),s=n.offset();return!tt.isTextPosition(n)&&r===o.parentNode&&s>tt.before(o).offset()})(e,t)?tt(e.container(),e.offset()-1):e,z0=t=>{return rs(t.previousSibling)?E.some((e=t.previousSibling,ut(e)?tt(e,e.data.length):tt.after(e))):t.previousSibling?Mr(t.previousSibling):E.none();var e},U0=t=>{return rs(t.nextSibling)?E.some((e=t.nextSibling,ut(e)?tt(e,0):tt.before(e))):t.nextSibling?Gn(t.nextSibling):E.none();var e},nN=(t,e,n)=>((o,r,s)=>o?((i,a)=>U0(a).orThunk(()=>z0(a)).orThunk(()=>((l,c)=>ko(l,tt.after(c)).orThunk(()=>Ho(l,tt.before(c))))(i,a)))(r,s):((i,a)=>z0(a).orThunk(()=>U0(a)).orThunk(()=>((l,c)=>E.from(c.previousSibling?c.previousSibling:c.parentNode).bind(u=>Ho(l,tt.before(u))).orThunk(()=>ko(l,tt.after(c))))(i,a)))(r,s))(t,e,n).map(St(eN,n)),q0=(t,e,n)=>{n.fold(()=>{t.focus()},o=>{t.selection.setRng(o.toRange(),e)})},oN=(t,e)=>e&&Ht(t.schema.getBlockElements(),ue(e)),ca=(t,e,n,o=!0,r=!1)=>{const s=nN(e,t.getBody(),n.dom),i=jo(n,St(oN,t),(a=t.getBody(),c=>c.dom===a));var a;const l=((c,u,f,p)=>{const b=Pn(c).filter(Cn),h=wn(c).filter(Cn);return Yt(c),(y=b,g=h,C=u,k=(S,N,T)=>{const D=S.dom,F=N.dom,M=D.data.length;return mm(D,F,f,p),T.container()===F?tt(D,M):T},y.isSome()&&g.isSome()&&C.isSome()?E.some(k(y.getOrDie(),g.getOrDie(),C.getOrDie())):E.none()).orThunk(()=>(p&&(b.each(S=>fm(S.dom,S.dom.length,f)),h.each(S=>Cd(S.dom,0,f))),u));var y,g,C,k})(n,s,t.schema,((c,u)=>Ht(c.schema.getTextInlineElements(),ue(u)))(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):i.bind(c=>((u,f,p)=>{if(Yn(u,f)){const b=ht('<br data-mce-bogus="1">');return p?Y(Ce(f),h=>{Hf(h)||Yt(h)}):de(f),At(f,b),E.some(tt.before(b.dom))}return E.none()})(t.schema,c,r)).fold(()=>{o&&q0(t,e,l)},c=>{o&&q0(t,e,E.some(c))})},rN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,da=(t,e)=>fn(P(e),Jk(t))&&!Vi(t.schema,e)&&t.dom.isEditable(e),W0=t=>{var e;return Ie.DOM.getStyle(t,"direction",!0)==="rtl"||(n=>rN.test(n))((e=t.textContent)!==null&&e!==void 0?e:"")},Ai=(t,e,n)=>{const o=((r,s,i)=>Wt(Ie.DOM.getParents(i.container(),"*",s),r))(t,e,n);return E.from(o[o.length-1])},yr=(t,e)=>{const n=e.container(),o=e.offset();return t?vi(n)?ut(n.nextSibling)?tt(n.nextSibling,0):tt.after(n):ef(e)?tt(n,o+1):e:vi(n)?ut(n.previousSibling)?tt(n.previousSibling,n.previousSibling.data.length):tt.before(n):nf(e)?tt(n,o-1):e},V0=St(yr,!0),K0=St(yr,!1),Y0=(t,e)=>{const n=o=>o.stopImmediatePropagation();t.on("beforeinput input",n,!0),t.getDoc().execCommand(e),t.off("beforeinput input",n)},wd=t=>Y0(t,"Delete"),X0=t=>Y0(t,"ForwardDelete"),sN=t=>Ag(t)||Fa(t),xd=(t,e)=>mn(t,e)?Vn(e,sN,(n=>o=>Lr($n(o),n,Ft))(t)):E.none(),pm=(t,e=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!e})},G0=(t,e,n)=>gn(Gn(n),Mr(n),(o,r)=>{const s=yr(!0,o),i=yr(!1,r),a=yr(!1,e);return t?ko(n,a).exists(l=>l.isEqual(i)&&e.isEqual(s)):Ho(n,a).exists(l=>l.isEqual(s)&&e.isEqual(i))}).getOr(!0),Q0=t=>{var e;return(zi(e=t)===8||ue(e)==="#comment"?Pn(t):Io(t)).bind(Q0).orThunk(()=>E.some(t))},Z0=(t,e,n,o=!0)=>{var r;e.deleteContents();const s=Q0(n).getOr(n),i=P((r=t.dom.getParent(s.dom,t.dom.isBlock))!==null&&r!==void 0?r:n.dom);if(i.dom===t.getBody()?pm(t,o):Yn(t.schema,i,{checkRootAsContent:!1})&&(bi(i),o&&t.selection.setCursorLocation(i.dom,0)),!Ft(n,i)){const l=Lr($n(i),n)?[]:$n(a=i).map(Ce).map(c=>Wt(c,u=>!Ft(a,u))).getOr([]);Y(l.concat(Ce(n)),c=>{Ft(c,i)||mn(c,i)||!Yn(t.schema,c)||Yt(c)})}var a},hm=t=>dt(t,"td,th"),J0=(t,e)=>Xl(P(t),e),gm=(t,e)=>({start:t,end:e}),sc=ks([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ed=(t,e)=>dr(P(t),"td,th",e),ty=t=>!Ft(t.start,t.end),ey=(t,e)=>Xl(t.start,e).bind(n=>Xl(t.end,e).bind(o=>Yr(Ft(n,o),n))),bm=t=>e=>ey(e,t).map(n=>((o,r,s)=>({rng:o,table:r,cells:s}))(e,n,hm(n))),ny=(t,e,n,o)=>{if(n.collapsed||!t.forall(ty))return E.none();if(e.isSameTable){const r=t.bind(bm(o));return E.some({start:r,end:r})}{const r=Ed(n.startContainer,o),s=Ed(n.endContainer,o),i=r.bind((l=>c=>Xl(c,l).bind(u=>Ko(hm(u)).map(f=>gm(c,f))))(o)).bind(bm(o)),a=s.bind((l=>c=>Xl(c,l).bind(u=>Ye(hm(u)).map(f=>gm(f,c))))(o)).bind(bm(o));return E.some({start:i,end:a})}},oy=(t,e)=>Vo(t,n=>Ft(n,e)),vm=t=>gn(oy(t.cells,t.rng.start),oy(t.cells,t.rng.end),(e,n)=>t.cells.slice(e,n+1)),ry=(t,e)=>{const{startTable:n,endTable:o}=e,r=t.cloneRange();return n.each(s=>r.setStartAfter(s.dom)),o.each(s=>r.setEndBefore(s.dom)),r},iN=(t,e)=>{const n=(s=>i=>Ft(s,i))(t),o=((s,i)=>{const a=Ed(s.startContainer,i),l=Ed(s.endContainer,i);return gn(a,l,gm)})(e,n),r=((s,i)=>{const a=J0(s.startContainer,i),l=J0(s.endContainer,i),c=a.isSome(),u=l.isSome(),f=gn(a,l,Ft).getOr(!1);return(p=>gn(p.startTable,p.endTable,(b,h)=>{const y=Ae(b,C=>Ft(C,h)),g=Ae(h,C=>Ft(C,b));return y||g?{...p,startTable:y?E.none():p.startTable,endTable:g?E.none():p.endTable,isSameTable:!1,isMultiTable:!1}:p}).getOr(p))({startTable:a,endTable:l,isStartInTable:c,isEndInTable:u,isSameTable:f,isMultiTable:!f&&c&&u})})(e,n);return((s,i,a)=>s.exists(l=>((c,u)=>!ty(c)&&ey(c,u).exists(f=>{const p=f.dom.rows;return p.length===1&&p[0].cells.length===1}))(l,a)&&Of(l.start,i)))(o,e,n)?o.map(s=>sc.singleCellTable(e,s.start)):r.isMultiTable?((s,i,a,l)=>ny(s,i,a,l).bind(({start:c,end:u})=>{const f=c.bind(vm).getOr([]),p=u.bind(vm).getOr([]);if(f.length>0&&p.length>0){const b=ry(a,i);return E.some(sc.multiTable(f,p,b))}return E.none()}))(o,r,e,n):((s,i,a,l)=>ny(s,i,a,l).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=i,f=vm(c).getOr([]);if(u&&c.cells.length===f.length)return E.some(sc.fullTable(c.table));if(f.length>0){if(u)return E.some(sc.partialTable(f,E.none()));{const p=ry(a,i);return E.some(sc.partialTable(f,E.some({...i,rng:p})))}}return E.none()}))(o,r,e,n)},sy=t=>Y(t,e=>{m(e,"contenteditable"),bi(e)}),ym=(t,e,n,o)=>{const r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(e.dom.lastChild)):(r.setStartBefore(e.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),_m(t,r,e,!1).each(s=>s())},iy=t=>{const e=Ya(t),n=P(t.selection.getNode());Pc(n.dom)&&Yn(t.schema,n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),e.length>1&&ve(e,o=>Ft(o,n))&&on(n,"data-mce-selected","1")},ay=(t,e,n)=>E.some(()=>{const o=t.selection.getRng(),r=n.bind(({rng:s,isStartInTable:i})=>{const a=((c,u)=>E.from(c.dom.getParent(u,c.dom.isBlock)).map(P))(t,i?s.endContainer:s.startContainer);s.deleteContents(),((c,u,f)=>{f.each(p=>{u?Yt(p):(bi(p),c.selection.setCursorLocation(p.dom,0))})})(t,i,a.filter(St(Yn,t.schema)));const l=i?e[0]:e[e.length-1];return ym(t,l,o,i),Yn(t.schema,l)?E.none():E.some(i?e.slice(1):e.slice(0,-1))}).getOr(e);sy(r),iy(t)}),aN=(t,e,n,o)=>E.some(()=>{const r=t.selection.getRng(),s=e[0],i=n[n.length-1];ym(t,s,r,!0),ym(t,i,r,!1);const a=Yn(t.schema,s)?e:e.slice(1),l=Yn(t.schema,i)?n:n.slice(0,-1);sy(a.concat(l)),o.deleteContents(),iy(t)}),_m=(t,e,n,o=!0)=>E.some(()=>{Z0(t,e,n,o)}),lN=(t,e)=>E.some(()=>ca(t,!1,e)),ly=(t,e)=>Ue(Gs(e,t),Ml),Cm=(t,e)=>Ue(Gs(e,t),ro("caption")),kd=(t,e)=>E.some(()=>{bi(e),t.selection.setCursorLocation(e.dom,0)}),cy=(t,e)=>t?E0(e):im(e),cN=(t,e,n)=>{const o=P(t.getBody());return Cm(o,n).fold(()=>((r,s,i,a)=>{const l=tt.fromRangeStart(r.selection.getRng());return ly(i,a).bind(c=>Yn(r.schema,c,{checkRootAsContent:!1})?kd(r,c):((u,f,p,b,h)=>Va(p,u.getBody(),h).bind(y=>ly(f,P(y.getNode())).bind(g=>Ft(g,b)?E.none():E.some(Lt))))(r,i,s,c,l))})(t,e,o,n).orThunk(()=>Yr(((r,s)=>{const i=tt.fromRangeStart(r.selection.getRng());return cy(s,i)||pr(s,r.getBody(),i).exists(a=>cy(s,a))})(t,e),Lt)),r=>((s,i,a,l)=>{const c=tt.fromRangeStart(s.selection.getRng());return Yn(s.schema,l)?kd(s,l):((u,f,p,b,h)=>Va(p,u.getBody(),h).fold(()=>E.some(Lt),y=>((g,C,k,S)=>Gn(g.dom).bind(N=>Mr(g.dom).map(T=>C?k.isEqual(N)&&S.isEqual(T):k.isEqual(T)&&S.isEqual(N))).getOr(!0))(b,p,h,y)?((g,C)=>kd(g,C))(u,b):((g,C,k)=>Cm(g,P(k.getNode())).fold(()=>E.some(Lt),S=>Yr(!Ft(S,C),Lt)))(f,b,y)))(s,a,i,l,c)})(t,e,o,r))},wm=(t,e)=>{const n=P(t.selection.getStart(!0)),o=Ya(t);return t.selection.isCollapsed()&&o.length===0?cN(t,e,n):((r,s,i)=>{const a=P(r.getBody()),l=r.selection.getRng();return i.length!==0?ay(r,i,E.none()):((c,u,f,p)=>Cm(u,p).fold(()=>((b,h,y)=>iN(h,y).bind(g=>g.fold(St(_m,b),St(lN,b),St(ay,b),St(aN,b))))(c,u,f),b=>((h,y)=>kd(h,y))(c,b)))(r,a,l,s)})(t,n,o)},ua=(t,e)=>{let n=e;for(;n&&n!==t;){if(Pr(n)||$e(n))return n;n=n.parentNode}return null},dN=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],uN=lt.each,xm=t=>{const e=t.dom,n=new Set(t.serializer.getTempAttrs()),o=r=>ve(dN,s=>Xe(r,s))||n.has(r);return{compare:(r,s)=>{if(r.nodeName!==s.nodeName||r.nodeType!==s.nodeType)return!1;const i=l=>{const c={};return uN(e.getAttribs(l),u=>{const f=u.nodeName.toLowerCase();f==="style"||o(f)||(c[f]=e.getAttrib(l,f))}),c},a=(l,c)=>{for(const u in l)if(Ht(l,u)){const f=c[u];if(De(f)||l[u]!==f)return!1;delete c[u]}for(const u in c)if(Ht(c,u))return!1;return!0};return Tt(r)&&Tt(s)&&(!a(i(r),i(s))||!a(e.parseStyle(e.getAttrib(r,"style")),e.parseStyle(e.getAttrib(s,"style"))))?!1:!gr(r)&&!gr(s)},isAttributeInternal:o}},dy=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),uy=(t,e,n,o)=>{const r=n.name;for(let s=0,i=t.length;s<i;s++){const a=t[s];if(a.name===r){const l=o.nodes[r];l?l.nodes.push(n):o.nodes[r]={filter:a,nodes:[n]}}}if(n.attributes)for(let s=0,i=e.length;s<i;s++){const a=e[s],l=a.name;if(l in n.attributes.map){const c=o.attributes[l];c?c.nodes.push(n):o.attributes[l]={filter:a,nodes:[n]}}}},fy=(t,e)=>{const n=(o,r)=>{_e(o,s=>{const i=nn(s.nodes);Y(s.filter.callbacks,a=>{for(let l=i.length-1;l>=0;l--){const c=i[l];(r?c.attr(s.filter.name)!==void 0:c.name===s.filter.name)&&!he(c.parent)||i.splice(l,1)}i.length>0&&a(i,s.filter.name,e)})})};n(t.nodes,!1),n(t.attributes,!0)},my=(t,e,n,o={})=>{const r=((s,i,a)=>{const l={nodes:{},attributes:{}};return a.firstChild&&((c,u)=>{let f=c;for(;f=f.walk();)uy(s,i,f,l)})(a),l})(t,e,n);fy(r,o)},Em=(t,e,n,o)=>{if((t.pad_empty_with_br||e.insert)&&n(o)){const r=new go("br",1);e.insert&&r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new go("#text",3)).value=Le},py=(t,e)=>{const n=t?.firstChild;return gt(n)&&n===t.lastChild&&n.name===e},ic=(t,e,n,o)=>o.isEmpty(e,n,r=>((s,i)=>{const a=s.getElementRule(i.name);return a?.paddEmpty===!0})(t,r)),fN=t=>{let e;for(let n=t;n;n=n.parent){const o=n.attr("contenteditable");if(o==="false")break;o==="true"&&(e=n)}return E.from(e)},km=(t,e,n=t.parent)=>{if(e.getSpecialElements()[t.name])t.empty().remove();else{const o=t.children();for(const r of o)n&&!e.isValidChild(n.name,r.name)&&km(r,e,n);t.unwrap()}},Sm=(t,e,n,o=Lt)=>{const r=e.getTextBlockElements(),s=e.getNonEmptyElements(),i=e.getWhitespaceElements(),a=lt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,c=u=>u!==n&&!a[u.name];for(let u=0;u<t.length;u++){const f=t[u];let p,b,h;if(!f.parent||l.has(f))continue;if(r[f.name]&&f.parent.name==="li"){let g=f.next;for(;g&&r[g.name];)g.name="li",l.add(g),f.parent.insert(g,f.parent),g=g.next;f.unwrap();continue}const y=[f];for(p=f.parent;p&&!e.isValidChild(p.name,f.name)&&c(p);p=p.parent)y.push(p);if(p&&y.length>1)if(Am(e,f,p))km(f,e);else{y.reverse(),b=y[0].clone(),o(b);let g=b;for(let C=0;C<y.length-1;C++){e.isValidChild(g.name,y[C].name)&&C>0?(h=y[C].clone(),o(h),g.append(h)):h=g;for(let k=y[C].firstChild;k&&k!==y[C+1];){const S=k.next;h.append(k),k=S}g=h}ic(e,s,i,b)?p.insert(f,y[0],!0):(p.insert(b,y[0],!0),p.insert(f,b)),p=y[0],(ic(e,s,i,p)||py(p,"br"))&&p.empty().remove()}else if(f.parent){if(f.name==="li"){let g=f.prev;if(g&&(g.name==="ul"||g.name==="ol")){g.append(f);continue}if(g=f.next,g&&(g.name==="ul"||g.name==="ol")&&g.firstChild){g.insert(f,g.firstChild,!0);continue}const C=new go("ul",1);o(C),f.wrap(C);continue}if(e.isValidChild(f.parent.name,"div")&&e.isValidChild("div",f.name)){const g=new go("div",1);o(g),f.wrap(g)}else km(f,e)}}},Am=(t,e,n=e.parent)=>!(!n||(!t.children[e.name]||t.isValidChild(n.name,e.name))&&(e.name!=="a"||!((o,r)=>{let s=o;for(;s;){if(s.name==="a")return!0;s=s.parent}return!1})(n))&&(!(o=>o.name==="summary")(n)||!dy(e)||n?.firstChild===e&&n?.lastChild===e)),Nm=t=>t.collapsed?t:(e=>{const n=tt.fromRangeStart(e),o=tt.fromRangeEnd(e),r=e.commonAncestorContainer;return pr(!1,r,o).map(s=>!Ss(n,o,r)&&Ss(n,s,r)?((i,a,l,c)=>{const u=document.createRange();return u.setStart(i,a),u.setEnd(l,c),u})(n.container(),n.offset(),s.container(),s.offset()):e).getOr(e)})(t),mN=(t,e)=>{let n=e.firstChild,o=e.lastChild;return n&&n.name==="meta"&&(n=n.next),o&&o.attr("id")==="mce_marker"&&(o=o.prev),((r,s)=>{const i=r.getNonEmptyElements();return gt(s)&&(s.isEmpty(i)||((a,l)=>a.getBlockElements()[l.name]&&(c=>gt(c.firstChild)&&c.firstChild===c.lastChild)(l)&&(c=>c.name==="br"||c.value===Le)(l.firstChild))(r,s))})(t,o)&&(o=o?.prev),!(!n||n!==o||n.name!=="ul"&&n.name!=="ol")},pN=t=>{return t.length>0&&(!(n=t[t.length-1]).firstChild||gt((e=n)==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&(o=>o.data===Le||Qe(o))(e.firstChild))?t.slice(0,-1):t;var e,n},Tm=(t,e)=>{const n=t.getParent(e,t.isBlock);return n&&n.nodeName==="LI"?n:null},hy=(t,e)=>{const n=tt.after(t),o=Ns(e).prev(n);return o?o.toRange():null},hN=(t,e,n,o)=>{const r=((f,p,b)=>{const h=p.serialize(b);return(y=>{var g,C;const k=y.firstChild,S=y.lastChild;return k&&k.nodeName==="META"&&((g=k.parentNode)===null||g===void 0||g.removeChild(k)),S&&S.id==="mce_marker"&&((C=S.parentNode)===null||C===void 0||C.removeChild(S)),y})(f.createFragment(h))})(e,t,o),s=Tm(e,n.startContainer),i=pN((a=r.firstChild,Wt((l=a?.childNodes)!==null&&l!==void 0?l:[],f=>f.nodeName==="LI")));var a,l;const c=e.getRoot(),u=f=>{const p=tt.fromRangeStart(n),b=Ns(e.getRoot()),h=f===1?b.prev(p):b.next(p),y=h?.getNode();return!y||Tm(e,y)!==s};return s?u(1)?((f,p,b)=>{const h=f.parentNode;return h&&lt.each(p,y=>{h.insertBefore(y,f)}),((y,g)=>{const C=tt.before(y),k=Ns(g).next(C);return k?k.toRange():null})(f,b)})(s,i,c):u(2)?((f,p,b,h)=>(h.insertAfter(p.reverse(),f),hy(p[0],b)))(s,i,c,e):((f,p,b,h)=>{const y=((C,k)=>{const S=k.cloneRange(),N=k.cloneRange();return S.setStartBefore(C),N.setEndAfter(C),[S.cloneContents(),N.cloneContents()]})(f,h),g=f.parentNode;return g&&(g.insertBefore(y[0],f),lt.each(p,C=>{g.insertBefore(C,f)}),g.insertBefore(y[1],f),g.removeChild(f)),hy(p[p.length-1],b)})(s,i,c,n):null},gN=["pre"],Rm=Pc,bN=(t,e,n)=>{var o,r;const s=t.selection,i=t.dom,a=t.parser,l=n.merge,c=xi({validate:!0},t.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(e=or(e)),e.indexOf("{$caret}")===-1&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,u);let f=s.getRng();const p=f.startContainer,b=t.getBody();p===b&&s.isCollapsed()&&i.isBlock(b.firstChild)&&((S,N)=>gt(N)&&!S.schema.getVoidElements()[N.nodeName])(t,b.firstChild)&&i.isEmpty(b.firstChild)&&(f=i.createRng(),f.setStart(b.firstChild,0),f.setEnd(b.firstChild,0),s.setRng(f)),s.isCollapsed()||(S=>{const N=S.dom,T=Nm(S.selection.getRng());S.selection.setRng(T);const D=N.getParent(T.startContainer,Rm);((F,M,z)=>!!gt(z)&&z===F.getParent(M.endContainer,Rm)&&Of(P(z),M))(N,T,D)?_m(S,T,P(D)):T.startContainer===T.endContainer&&T.endOffset-T.startOffset==1&&ut(T.startContainer.childNodes[T.startOffset])?T.deleteContents():S.getDoc().execCommand("Delete",!1)})(t);const h=s.getNode(),y={context:h.nodeName.toLowerCase(),data:n.data,insert:!0},g=a.parse(e,y);if(n.paste===!0&&mN(t.schema,g)&&((S,N)=>!!Tm(S,N))(i,h))return f=hN(c,i,s.getRng(),g),f&&s.setRng(f),e;n.paste===!0&&((S,N,T,D)=>{var F;const M=N.firstChild,z=N.lastChild,G=M===(z.attr("data-mce-type")==="bookmark"?z.prev:z),B=pe(gN,M.name);if(G&&B){const j=M.attr("contenteditable")!=="false",H=((F=S.getParent(T,S.isBlock))===null||F===void 0?void 0:F.nodeName.toLowerCase())===M.name,et=E.from(ua(D,T)).forall(Pr);return j&&H&&et}return!1})(i,g,h,t.getBody())&&((o=g.firstChild)===null||o===void 0||o.unwrap()),(S=>{let N=S;for(;N=N.walk();)N.type===1&&N.attr("data-mce-fragment","1")})(g);let C=g.lastChild;if(C&&C.attr("id")==="mce_marker"){const S=C;for(C=C.prev;C;C=C.walk(!0))if(C.type===3||!i.isBlock(C.name)){C.parent&&t.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(S,C,C.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(h),y.invalid||((S,N,T)=>{var D;return ve(T.children(),dy)&&((D=S.getParent(N,S.isBlock))===null||D===void 0?void 0:D.nodeName)==="SUMMARY"})(i,h,g)){t.selection.setContent(u);let S,N=s.getNode();const T=t.getBody();for(El(N)?N=S=T:S=N;S&&S!==T;)N=S,S=S.parentNode;e=N===T?T.innerHTML:i.getOuterHTML(N);const D=a.parse(e),F=(j=>{for(let H=j;H;H=H.walk())if(H.attr("id")==="mce_marker")return E.some(H);return E.none()})(D),M=F.bind(fN).getOr(D);F.each(j=>j.replace(g));const z=g.children(),G=(r=g.parent)!==null&&r!==void 0?r:D;g.unwrap();const B=Wt(z,j=>Am(t.schema,j,G));Sm(B,t.schema,M),my(a.getNodeFilters(),a.getAttributeFilters(),D),e=c.serialize(D),N===T?i.setHTML(T,e):i.setOuterHTML(N,e)}else e=c.serialize(g),((S,N,T)=>{var D;if(T.getAttribute("data-mce-bogus")==="all")(D=T.parentNode)===null||D===void 0||D.insertBefore(S.dom.createFragment(N),T);else{const F=T.firstChild,M=T.lastChild;!F||F===M&&F.nodeName==="BR"?S.dom.setHTML(T,N):S.selection.setContent(N,{no_events:!0})}})(t,e,h);var k;return((S,N)=>{const T=S.schema.getTextInlineElements(),D=S.dom;if(N){const F=S.getBody(),M=xm(S),z="*[data-mce-fragment]",G=D.select(z);lt.each(G,B=>{const j=ft=>gt(T[ft.nodeName.toLowerCase()]),H=ft=>ft.childNodes.length===1;if(!_0(D,et=B)&&!((ft,ct)=>_0(ft,ct)&&ve(tl(ft,ct),Et=>(Rt=>v0.has(Rt))(Et)))(D,et)&&j(B)&&H(B)){const ft=tl(D,B),ct=(kt,bt)=>Jn(kt,Nt=>pe(bt,Nt)),Et=kt=>H(B)&&D.is(kt,z)&&j(kt)&&(kt.nodeName===B.nodeName&&ct(ft,tl(D,kt))||Et(kt.children[0])),Rt=kt=>gt(kt)&&kt!==F&&(M.compare(B,kt)||Rt(kt.parentElement)),Bt=kt=>gt(kt)&&kt!==F&&D.is(kt,z)&&(((bt,Nt,$)=>{const U=tl(bt,Nt),J=tl(bt,$),nt=vt=>{var pt,$t;const Ut=(pt=bt.getStyle(Nt,vt))!==null&&pt!==void 0?pt:"",Gt=($t=bt.getStyle($,vt))!==null&&$t!==void 0?$t:"";return wo(Ut)&&wo(Gt)&&Ut!==Gt};return ve(U,vt=>{const pt=$t=>ve($t,Ut=>Ut===vt);if(!pt(J)&&pt(y0)){const $t=Wt(J,Ut=>ve(y0,Gt=>Xe(Ut,Gt)));return ve($t,nt)}return nt(vt)})})(D,B,kt)||Bt(kt.parentElement));(Et(B.children[0])||Rt(B.parentElement)&&!Bt(B.parentElement))&&D.remove(B,!0)}var et})}})(t,l),((S,N)=>{var T,D,F;let M;const z=S.dom,G=S.selection;if(!N)return;G.scrollIntoView(N);const B=ua(S.getBody(),N);if(B&&z.getContentEditable(B)==="false")return z.remove(N),void G.select(B);let j=z.createRng();const H=N.previousSibling;if(ut(H)){j.setStart(H,(D=(T=H.nodeValue)===null||T===void 0?void 0:T.length)!==null&&D!==void 0?D:0);const ft=N.nextSibling;ut(ft)&&(H.appendData(ft.data),(F=ft.parentNode)===null||F===void 0||F.removeChild(ft))}else j.setStartBefore(N),j.setEndBefore(N);const et=z.getParent(N,z.isBlock);if(z.remove(N),et&&z.isEmpty(et)){const ft=Rm(et);de(P(et)),j.setStart(et,0),j.setEnd(et,0),ft||(ct=>!!ct.getAttribute("data-mce-fragment"))(et)||!(M=(ct=>{let Et=tt.fromRangeStart(ct);return Et=Ns(S.getBody()).next(Et),Et?.toRange()})(j))?z.add(et,z.create("br",ft?{}:{"data-mce-bogus":"1"})):(j=M,z.remove(et))}G.setRng(j)})(t,i.get("mce_marker")),k=t.getBody(),lt.each(k.getElementsByTagName("*"),S=>{S.removeAttribute("data-mce-fragment")}),((S,N,T)=>{E.from(S.getParent(N,"td,th")).map(P).each(D=>((F,M)=>{Io(F).each(z=>{Pn(z).each(G=>{M.isBlock(ue(F))&&Ji(z)&&M.isBlock(ue(G))&&Yt(z)})})})(D,T))})(i,s.getStart(),t.schema),((S,N,T)=>{const D=ys(P(T),F=>Ft(F,P(N)));Ar(D,D.length-2).filter(En).fold(()=>Bu(S,N),F=>Bu(S,F.dom))})(t.schema,t.getBody(),s.getStart()),e},Sd=t=>t instanceof go,Om=(t,e,n)=>{t.dom.setHTML(t.getBody(),e),n!==!0&&(o=>{Ja(o)&&Gn(o.getBody()).each(r=>{const s=r.getNode(),i=xs(s)?Gn(s).getOr(r):r;o.selection.setRng(i.toRange())})})(t)},gy=t=>be(t)?t:Be,Dm=(t,e,n)=>{const o=e(t),r=gy(n);return o.orThunk(()=>r(t)?E.none():((s,i,a)=>{let l=s.dom;const c=gy(a);for(;l.parentNode;){l=l.parentNode;const u=P(l),f=i(u);if(f.isSome())return f;if(c(u))break}return E.none()})(t,e,r))},Lm=If,by=(t,e,n)=>{const o=t.formatter.get(n);if(o)for(let r=0;r<o.length;r++){const s=o[r];if(br(s)&&s.inherit===!1&&t.dom.is(e,s.selector))return!0}return!1},Bm=(t,e,n,o,r)=>{const s=t.dom.getRoot();if(e===s)return!1;const i=t.dom.getParent(e,a=>!!by(t,a,n)||a.parentNode===s||!!Rs(t,a,n,o,!0));return!!Rs(t,i,n,o,r)},Ad=(t,e,n)=>!(!xn(n)||!Lm(e,n.inline))||!(!Ts(n)||!Lm(e,n.block))||!!br(n)&&Tt(e)&&t.is(e,n.selector),vy=(t,e,n,o,r,s)=>{const i=n[o],a=o==="attributes";if(be(n.onmatch))return n.onmatch(e,n,o);if(i){if(Ea(i)){for(let l=0;l<i.length;l++)if(a?t.getAttrib(e,i[l]):id(t,e,i[l]))return!0}else for(const l in i)if(Ht(i,l)){const c=a?t.getAttrib(e,l):id(t,e,l),u=wi(i[l],s),f=he(c)||gs(c);if(f&&he(u))continue;if(r&&f&&!n.exact||(!r||n.exact)&&!Lm(c,Ff(u,l)))return!1}}return!0},Rs=(t,e,n,o,r)=>{const s=t.formatter.get(n),i=t.dom;if(s&&Tt(e))for(let a=0;a<s.length;a++){const l=s[a];if(Ad(t.dom,e,l)&&vy(i,e,l,"attributes",r,o)&&vy(i,e,l,"styles",r,o)){const c=l.classes;if(c){for(let u=0;u<c.length;u++)if(!t.dom.hasClass(e,wi(c[u],o)))return}return l}}},Pm=(t,e,n,o,r)=>{if(o)return Bm(t,o,e,n,r);if(o=t.selection.getNode(),Bm(t,o,e,n,r))return!0;const s=t.selection.getStart();return!(s===o||!Bm(t,s,e,n,r))},ac=Tn,yy=t=>{if(t){const e=new ge(t,t);for(let n=e.current();n;n=e.next())if(ut(n))return n}return null},Mm=t=>{const e=Mt("span");return tr(e,{id:Sf,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&At(e,ie(ac)),e},Im=(t,e,n)=>{const o=t.dom,r=t.selection;if(lv(e))ca(t,!1,P(e),n,!0);else{const s=r.getRng(),i=o.getParent(e,o.isBlock),a=s.startContainer,l=s.startOffset,c=s.endContainer,u=s.endOffset,f=(p=>{const b=yy(p);return b&&b.data.charAt(0)===ac&&b.deleteData(0,1),b})(e);o.remove(e,!0),a===f&&l>0&&s.setStart(f,l-1),c===f&&u>0&&s.setEnd(f,u-1),i&&o.isEmpty(i)&&bi(P(i)),r.setRng(s)}},Fm=(t,e,n)=>{const o=t.dom,r=t.selection;if(e)Im(t,e,n);else if(!(e=ra(t.getBody(),r.getStart())))for(;e=o.get(Sf);)Im(t,e,n)},_y=(t,e)=>(t.appendChild(e),e),Cy=(t,e)=>{var n;const o=Ur(t,(s,i)=>_y(s,i.cloneNode(!1)),e),r=(n=o.ownerDocument)!==null&&n!==void 0?n:document;return _y(o,r.createTextNode(ac))},wy=t=>Sg(t,Pl(t).replace(new RegExp(`${Le}$`)," ")),xy=(t,e)=>{const n=()=>{e===null||t.dom.isEmpty(e)||Pn(P(e)).each(o=>{Cn(o)?wy(o):fi(o,r=>Cn(r)).each(r=>{Cn(r)&&wy(r)})})};t.once("input",o=>{o.data&&!sa(o.data)&&(o.isComposing?t.once("compositionend",()=>{n()}):n())})},vN=(t,e,n,o)=>{const r=t.dom,s=t.selection;let i=!1;const a=t.formatter.get(e);if(!a)return;const l=s.getRng(),c=l.startContainer,u=l.startOffset;let f=c;ut(c)&&(u!==c.data.length&&(i=!0),f=f.parentNode);const p=[];let b;for(;f;){if(Rs(t,f,e,n,o)){b=f;break}f.nextSibling&&(i=!0),p.push(f),f=f.parentNode}if(b)if(i){const h=s.getBookmark();l.collapse(!0);let y=ia(r,l,a,!0);y=pd(y),t.formatter.remove(e,n,y,o),s.moveToBookmark(h)}else{const h=ra(t.getBody(),b),y=gt(h)?r.getParents(b.parentNode,ze,h):[],g=Mm(!1).dom;((S,N,T)=>{var D,F;const M=S.dom,z=M.getParent(T,St(Pf,S.schema));z&&M.isEmpty(z)?(D=T.parentNode)===null||D===void 0||D.replaceChild(N,T):((G=>{const B=dt(G,"br"),j=Wt((H=>{const et=[];let ft=H.dom;for(;ft;)et.push(P(ft)),ft=ft.lastChild;return et})(G).slice(-1),Ji);B.length===j.length&&Y(j,Yt)})(P(T)),M.isEmpty(T)?(F=T.parentNode)===null||F===void 0||F.replaceChild(N,T):M.insertAfter(N,T))})(t,g,h??b);const C=((S,N,T,D,F,M)=>{const z=S.formatter,G=S.dom,B=Wt(Je(z.get()),H=>H!==D&&!hn(H,"removeformat")),j=((H,et,ft)=>tn(ft,(ct,Et)=>{const Rt=((Bt,kt)=>jf(Bt,kt,bt=>{const Nt=$=>be($)||$.length>1&&$.charAt(0)==="%";return ve(["styles","attributes"],$=>Ee(bt,$).exists(U=>{const J=Oe(U)?U:Is(U);return ve(J,Nt)}))}))(H,Et);return H.formatter.matchNode(et,Et,{},Rt)?ct.concat([Et]):ct},[]))(S,T,B);if(Wt(j,H=>!((et,ft,ct)=>{const Et=["inline","block","selector","attributes","styles","classes"],Rt=Bt=>Rr(Bt,(kt,bt)=>ve(Et,Nt=>Nt===bt));return jf(et,ft,Bt=>{const kt=Rt(Bt);return jf(et,ct,bt=>{const Nt=Rt(bt);return(($,U,J=cs)=>Dn(J).eq($,U))(kt,Nt)})})})(S,H,D)).length>0){const H=T.cloneNode(!1);return G.add(N,H),z.remove(D,F,H,M),G.remove(H),E.some(H)}return E.none()})(t,g,b,e,n,o),k=Cy([...p,...C.toArray(),...y],g);h&&Im(t,h,gt(h)),s.setCursorLocation(k,1),xy(t,g),r.isEmpty(b)&&r.remove(b)}},Ey=t=>{const e=Mm(!1),n=Cy(t,e.dom);return{caretContainer:e,caretPosition:tt(n,0)}},ky=(t,e)=>{const{caretContainer:n,caretPosition:o}=Ey(e);return Ot(P(t),n),Yt(P(t)),o},Sy=(t,e)=>{if(hr(e.dom))return!1;const n=t.schema.getTextInlineElements();return Ht(n,ue(e))&&!hr(e.dom)&&!qi(e.dom)},lc={},Ay=es(["pre"]);((t,e)=>{lc[t]||(lc[t]=[]),lc[t].push(n=>{if(!n.selection.getRng().collapsed){const o=n.selection.getSelectedBlocks(),r=Wt(Wt(o,Ay),(s=>i=>{const a=i.previousSibling;return Ay(a)&&pe(s,a)})(o));Y(r,s=>{((i,a)=>{const l=P(a),c=Pe(l).dom;Yt(l),oe(P(i),[Mt("br",c),Mt("br",c),...Ce(l)])})(s.previousSibling,s)})}})})("pre");const Ny=["fontWeight","fontStyle","color","fontSize","fontFamily"],Ty=(t,e)=>{const n=t.get(e);return Oe(n)?Ue(n,o=>xn(o)&&o.inline==="span"&&(r=>Xt(r.styles)&&ve(Je(r.styles),s=>pe(Ny,s)))(o)):E.none()},Ry=(t,e)=>Ho(e,tt.fromRangeStart(t)).isNone(),Oy=(t,e)=>ko(e,tt.fromRangeEnd(t)).exists(n=>!Qe(n.getNode())||ko(e,n).isSome())===!1,Dy=t=>e=>qE(e)&&t.isEditable(e),Ly=t=>Wt(t.getSelectedBlocks(),Dy(t.dom)),jm=lt.each,$m=t=>Tt(t)&&!gr(t)&&!hr(t)&&!qi(t),By=(t,e)=>{for(let n=t;n;n=n[e]){if(ut(n)&&wo(n.data))return t;if(Tt(n)&&!gr(n))return n}return t},Py=(t,e,n)=>{const o=xm(t),r=po(e)&&t.dom.isEditable(e),s=po(n)&&t.dom.isEditable(n);if(r&&s){const i=By(e,"previousSibling"),a=By(n,"nextSibling");if(o.compare(i,a)){for(let l=i.nextSibling;l&&l!==a;){const c=l;l=l.nextSibling,i.appendChild(c)}return t.dom.remove(a),lt.each(lt.grep(a.childNodes),l=>{i.appendChild(l)}),i}}return n},My=(t,e,n,o)=>{var r;if(o&&e.merge_siblings!==!1){const s=(r=Py(t,sv(o),o))!==null&&r!==void 0?r:o;Py(t,s,sv(s,!0))}},Hm=(t,e,n)=>{jm(t.childNodes,o=>{$m(o)&&(e(o)&&n(o),o.hasChildNodes()&&Hm(o,e,n))})},Iy=(t,e)=>n=>!(!n||!id(t,n,e)),Fy=(t,e,n)=>o=>{t.setStyle(o,e,n),o.getAttribute("style")===""&&o.removeAttribute("style"),((r,s)=>{s.nodeName==="SPAN"&&r.getAttribs(s).length===0&&r.remove(s,!0)})(t,o)},fa=ks([{keep:[]},{rename:["name"]},{removed:[]}]),yN=/^(src|href|style)$/,zm=lt.each,Nd=If,jy=(t,e,n)=>t.isChildOf(e,n)&&e!==n&&!t.isBlock(n),$y=(t,e,n)=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Tt(o)){const s=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>s?s:r]}return ut(o)&&n&&r>=o.data.length&&(o=new ge(o,t.getBody()).next()||o),ut(o)&&!n&&r===0&&(o=new ge(o,t.getBody()).prev()||o),o},Hy=(t,e)=>{const n=e?"firstChild":"lastChild",o=t[n];return(r=>/^(TR|TH|TD)$/.test(r.nodeName))(t)&&o?t.nodeName==="TR"&&o[n]||o:t},Um=(t,e,n,o)=>{var r;const s=t.create(n,o);return(r=e.parentNode)===null||r===void 0||r.insertBefore(s,e),s.appendChild(e),s},zy=(t,e,n,o,r)=>{const s=P(e),i=P(t.create(o,r)),a=n?ao(s):Gr(s);return oe(i,a),n?(Ot(s,i),Kt(i,s)):(jt(s,i),At(i,s)),i.dom},Uy=(t,e,n)=>{const o=e.parentNode;let r;const s=t.dom,i=Xn(t);Ts(n)&&o===s.getRoot()&&(n.list_block&&Nd(e,n.list_block)||Y(nn(e.childNodes),a=>{Xa(t,i,a.nodeName.toLowerCase())?r?r.appendChild(a):(r=Um(s,a,i),s.setAttribs(r,Hl(t))):r=null})),(a=>br(a)&&xn(a)&&Lr(Ee(a,"mixed"),!0))(n)&&!Nd(n.inline,e)||s.remove(e,!0)},qy=(t,e,n)=>x(t)?{name:e,value:null}:{name:t,value:wi(e,n)},Wy=(t,e)=>{t.getAttrib(e,"style")===""&&(e.removeAttribute("style"),e.removeAttribute("data-mce-style"))},Vy=(t,e,n,o,r)=>{let s=!1;zm(n.styles,(i,a)=>{const{name:l,value:c}=qy(a,i,o),u=Ff(c,l);(n.remove_similar||Qt(c)||!Tt(r)||Nd(id(t,r,l),u))&&t.setStyle(e,l,""),s=!0}),s&&Wy(t,e)},Ky=(t,e,n,o,r)=>{const s=t.dom,i=xm(t),a=t.schema;if(xn(e)&&Mu(a,e.inline)&&Vi(a,o)&&o.parentElement===t.getBody())return Uy(t,o,e),fa.removed();if(!e.ceFalseOverride&&o&&s.getContentEditableParent(o)==="false"||o&&!Ad(s,o,e)&&!((u,f)=>f.links&&u.nodeName==="A")(o,e))return fa.keep();const l=o,c=e.preserve_attributes;if(xn(e)&&e.remove==="all"&&Oe(c)){const u=Wt(s.getAttribs(l),f=>pe(c,f.name.toLowerCase()));if(s.removeAllAttribs(l),Y(u,f=>s.setAttrib(l,f.name,f.value)),u.length>0)return fa.rename("span")}if(e.remove!=="all"){Vy(s,l,e,n,r),zm(e.attributes,(f,p)=>{const{name:b,value:h}=qy(p,f,n);if(e.remove_similar||Qt(h)||!Tt(r)||Nd(s.getAttrib(r,b),h)){if(b==="class"){const y=s.getAttrib(l,b);if(y){let g="";if(Y(y.split(/\s+/),C=>{/mce\-\w+/.test(C)&&(g+=(g?" ":"")+C)}),g)return void s.setAttrib(l,b,g)}}if(yN.test(b)&&l.removeAttribute("data-mce-"+b),b==="style"&&es(["li"])(l)&&s.getStyle(l,"list-style-type")==="none")return l.removeAttribute(b),void s.setStyle(l,"list-style-type","none");b==="class"&&l.removeAttribute("className"),l.removeAttribute(b)}}),zm(e.classes,f=>{f=wi(f,n),Tt(r)&&!s.hasClass(r,f)||s.removeClass(l,f)});const u=s.getAttribs(l);for(let f=0;f<u.length;f++){const p=u[f].nodeName;if(!i.isAttributeInternal(p))return fa.keep()}}return e.remove!=="none"?(Uy(t,l,e),fa.removed()):fa.keep()},_N=(t,e,n,o)=>Ky(t,e,n,o,o).fold(yt(o),r=>(t.dom.createFragment().appendChild(o),t.dom.rename(o,r)),yt(null)),Yy=(t,e,n,o,r)=>{(o||t.selection.isEditable())&&((s,i,a,l,c)=>{const u=s.formatter.get(i),f=u[0],p=s.dom,b=s.selection,h=S=>{const N=((T,D,F,M,z)=>{let G;return D.parentNode&&Y(ad(T.dom,D.parentNode).reverse(),B=>{if(!G&&Tt(B)&&B.id!=="_start"&&B.id!=="_end"){const j=Rs(T,B,F,M,z);j&&j.split!==!1&&(G=B)}}),G})(s,S,i,a,c);return((T,D,F,M,z,G,B,j)=>{var H,et;let ft,ct;const Et=T.dom;if(F){const Rt=F.parentNode;for(let Bt=M.parentNode;Bt&&Bt!==Rt;Bt=Bt.parentNode){let kt=Et.clone(Bt,!1);for(let bt=0;bt<D.length&&(kt=_N(T,D[bt],j,kt),kt!==null);bt++);kt&&(ft&&kt.appendChild(ft),ct||(ct=kt),ft=kt)}B.mixed&&Et.isBlock(F)||(M=(H=Et.split(F,M))!==null&&H!==void 0?H:M),ft&&ct&&((et=z.parentNode)===null||et===void 0||et.insertBefore(ft,z),ct.appendChild(z),xn(B)&&My(T,B,0,ft))}return M})(s,u,N,S,S,0,f,a)},y=S=>ve(u,N=>cc(s,N,a,S,S)),g=S=>{const N=nn(S.childNodes),T=y(S)||ve(u,F=>Ad(p,S,F)),D=S.parentNode;if(!T&&gt(D)&&$f(f)&&y(D),f.deep&&N.length)for(let F=0;F<N.length;F++)g(N[F]);Y(["underline","line-through","overline"],F=>{Tt(S)&&s.dom.getStyle(S,"text-decoration")===F&&S.parentNode&&av(p,S.parentNode)===F&&cc(s,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:F}},void 0,S)})},C=S=>{const N=p.get(S?"_start":"_end");if(N){let T=N[S?"firstChild":"lastChild"];return(D=>gr(D)&&Tt(D)&&(D.id==="_start"||D.id==="_end"))(T)&&(T=T[S?"firstChild":"lastChild"]),ut(T)&&T.data.length===0&&(T=S?N.previousSibling||N.nextSibling:N.nextSibling||N.previousSibling),p.remove(N,!0),T}return null},k=S=>{let N,T,D=ia(p,S,u,S.collapsed);if(f.split){if(D=pd(D),N=$y(s,D,!0),T=$y(s,D),N!==T){if(N=Hy(N,!0),T=Hy(T,!1),jy(p,N,T)){const M=E.from(N.firstChild).getOr(N);return h(zy(p,M,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void C(!0)}if(jy(p,T,N)){const M=E.from(T.lastChild).getOr(T);return h(zy(p,M,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void C(!1)}N=Um(p,N,"span",{id:"_start","data-mce-type":"bookmark"}),T=Um(p,T,"span",{id:"_end","data-mce-type":"bookmark"});const F=p.createRng();F.setStartAfter(N),F.setEndBefore(T),Ql(p,F,M=>{Y(M,z=>{gr(z)||gr(z.parentNode)||h(z)})}),h(N),h(T),N=C(!0),T=C()}else N=T=h(N);D.startContainer=N.parentNode?N.parentNode:N,D.startOffset=p.nodeIndex(N),D.endContainer=T.parentNode?T.parentNode:T,D.endOffset=p.nodeIndex(T)+1}Ql(p,D,F=>{Y(F,g)})};if(l){if(Gl(l)){const S=p.createRng();S.setStartBefore(l),S.setEndAfter(l),k(S)}else k(l);Ev(s,i,l,a)}else b.isCollapsed()&&xn(f)&&!Ya(s).length?vN(s,i,a,c):(rv(s,()=>Lf(s,k),S=>xn(f)&&Pm(s,i,a,S)),s.nodeChanged()),((S,N,T)=>{N==="removeformat"?Y(Ly(S.selection),D=>{Y(Ny,F=>S.dom.setStyle(D,F,"")),Wy(S.dom,D)}):Ty(S.formatter,N).each(D=>{Y(Ly(S.selection),F=>Vy(S.dom,F,D,T,null))})})(s,i,a),Ev(s,i,l,a)})(t,e,n,o,r)},cc=(t,e,n,o,r)=>Ky(t,e,n,o,r).fold(Be,s=>(t.dom.rename(o,s),!0),ze),Xy=lt.each,Td=lt.each,Gy=(t,e,n,o)=>{if(Td(n.styles,(r,s)=>{t.setStyle(e,s,wi(r,o))}),n.styles){const r=t.getAttrib(e,"style");r&&t.setAttrib(e,"data-mce-style",r)}},CN=(t,e,n,o)=>{const r=t.formatter.get(e),s=r[0],i=!o&&t.selection.isCollapsed(),a=t.dom,l=t.selection,c=(h,y=s)=>{be(y.onformat)&&y.onformat(h,y,n,o),Gy(a,h,y,n),Td(y.attributes,(g,C)=>{a.setAttrib(h,C,wi(g,n))}),Td(y.classes,g=>{const C=wi(g,n);a.hasClass(h,C)||a.addClass(h,C)})},u=(h,y)=>{let g=!1;return Td(h,C=>!(!br(C)||(a.getContentEditable(y)!=="false"||C.ceFalseOverride)&&(!gt(C.collapsed)||C.collapsed===i)&&a.is(y,C.selector)&&!hr(y)&&(c(y,C),g=!0,1))),g},f=h=>{if(Dt(h)){const y=a.create(h);return c(y),y}return null},p=(h,y,g)=>{const C=[];let k=!0;const S=s.inline||s.block,N=f(S);Ql(h,y,T=>{let D;const F=M=>{let z=!1,G=k,B=!1;const j=M.parentNode,H=j.nodeName.toLowerCase(),et=h.getContentEditable(M);gt(et)&&(G=k,k=et==="true",z=!0,B=iv(t,M));const ft=k&&!z;if(Qe(M)&&!((ct,Et,Rt,Bt)=>{if(aS(ct)&&xn(Et)&&Rt.parentNode){const kt=ig(ct.schema),bt=Zt(P(Rt),Nt=>hr(Nt.dom));return un(kt,Bt)&&Vs(ct.schema,Rt.parentNode,{skipBogus:!1,includeZwsp:!0})&&!bt}return!1})(t,s,M,H))return D=null,void(Ts(s)&&h.remove(M));if((ct=>(Et=>Ts(Et)&&Et.wrapper===!0)(s)&&Rs(t,ct,e,n))(M))D=null;else{if(((ct,Et,Rt)=>{const Bt=(kt=>Ts(kt)&&kt.wrapper!==!0)(s)&&Pf(t.schema,ct)&&Xa(t,Et,S);return Rt&&Bt})(M,H,ft)){const ct=h.rename(M,S);return c(ct),C.push(ct),void(D=null)}if(br(s)){let ct=u(r,M);if(!ct&&gt(j)&&$f(s)&&(ct=u(r,j)),!xn(s)||ct)return void(D=null)}gt(N)&&((ct,Et,Rt,Bt)=>{const kt=ct.nodeName.toLowerCase(),bt=Xa(t,S,kt)&&Xa(t,Et,S),Nt=!g&&ut(ct)&&Uc(ct.data),$=hr(ct),U=!xn(s)||!h.isBlock(ct);return(Rt||Bt)&&bt&&!Nt&&!$&&U})(M,H,ft,B)?(D||(D=h.clone(N,!1),j.insertBefore(D,M),C.push(D)),B&&z&&(k=G),D.appendChild(M)):(D=null,Y(nn(M.childNodes),F),z&&(k=G),D=null)}};Y(T,F)}),s.links===!0&&Y(C,T=>{const D=F=>{F.nodeName==="A"&&c(F,s),Y(nn(F.childNodes),D)};D(T)}),Y(C,T=>{const D=(F=>{let M=0;return Y(F.childNodes,z=>{(G=>gt(G)&&ut(G)&&G.length===0)(z)||gr(z)||M++}),M})(T);!(C.length>1)&&h.isBlock(T)||D!==0?(xn(s)||Ts(s)&&s.wrapper)&&(s.exact||D!==1||(T=(F=>Ue(F.childNodes,Bf).filter(z=>h.getContentEditable(z)!=="false"&&Ad(h,z,s)).map(z=>{const G=h.clone(z,!1);return c(G),h.replace(G,F,!0),h.remove(z,!0),G}).getOr(F))(T)),((F,M,z,G)=>{Xy(M,B=>{xn(B)&&Xy(F.dom.select(B.inline,G),j=>{$m(j)&&cc(F,B,z,j,B.exact?j:null)}),((j,H,et)=>{if(H.clear_child_styles){const ft=H.links?"*:not(a)":"*";jm(j.select(ft,et),ct=>{$m(ct)&&j.isEditable(ct)&&jm(H.styles,(Et,Rt)=>{j.setStyle(ct,Rt,"")})})}})(F.dom,B,G)})})(t,r,n,T),((F,M,z,G,B)=>{const j=B.parentNode;Rs(F,j,z,G)&&cc(F,M,G,B)||M.merge_with_parents&&j&&F.dom.getParent(j,H=>!!Rs(F,H,z,G)&&(cc(F,M,G,B),!0))})(t,s,e,n,T),((F,M,z,G)=>{if(M.styles&&M.styles.backgroundColor){const B=Iy(F,"fontSize");Hm(G,j=>B(j)&&F.isEditable(j),Fy(F,"backgroundColor",wi(M.styles.backgroundColor,z)))}})(h,s,n,T),((F,M,z,G)=>{const B=j=>{if(po(j)&&Tt(j.parentNode)&&F.isEditable(j)){const H=av(F,j.parentNode);F.getStyle(j,"color")&&H?F.setStyle(j,"text-decoration",H):F.getStyle(j,"text-decoration")===H&&F.setStyle(j,"text-decoration",null)}};M.styles&&(M.styles.color||M.styles.textDecoration)&&(lt.walk(G,B,"childNodes"),B(G))})(h,s,0,T),((F,M,z,G)=>{if(xn(M)&&(M.inline==="sub"||M.inline==="sup")){const B=Iy(F,"fontSize");Hm(G,H=>B(H)&&F.isEditable(H),Fy(F,"fontSize",""));const j=Wt(F.select(M.inline==="sup"?"sub":"sup",G),F.isEditable);F.remove(j,!0)}})(h,s,0,T),My(t,s,0,T)):h.remove(T,!0)})},b=Gl(o)?o:l.getNode();if(a.getContentEditable(b)==="false"&&!iv(t,b))return u(r,o=b),void xv(t,e,o,n);if(s){if(o)if(Gl(o)){if(!u(r,o)){const h=a.createRng();h.setStartBefore(o),h.setEndAfter(o),p(a,ia(a,h,r),!0)}}else p(a,o,!0);else i&&xn(s)&&!Ya(t).length?((h,y,g)=>{let C;const k=h.selection,S=h.formatter.get(y);if(!S)return;const N=k.getRng();let T=N.startOffset;const D=N.startContainer.nodeValue;C=ra(h.getBody(),k.getStart());const F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(D&&T>0&&T<D.length&&F.test(D.charAt(T))&&F.test(D.charAt(T-1))){const G=k.getBookmark();N.collapse(!0);let B=ia(h.dom,N,S);B=pd(B),h.formatter.apply(y,g,B),k.moveToBookmark(G)}else{let G=C?yy(C):null;C&&G?.data===ac||(M=h.getDoc(),z=Mm(!0).dom,C=M.importNode(z,!0),G=C.firstChild,N.insertNode(C),T=1,xy(h,C)),h.formatter.apply(y,g,C),k.setCursorLocation(G,T)}var M,z})(t,e,n):(l.setRng(Nm(l.getRng())),rv(t,()=>{Lf(t,(h,y)=>{const g=y?h:ia(a,h,r);p(a,g,!1)})},ze),t.nodeChanged()),Ty(t.formatter,e).each(h=>{Y((y=>Wt((g=>{const C=g.getSelectedBlocks(),k=g.getRng();if(g.isCollapsed())return[];if(C.length===1)return Ry(k,C[0])&&Oy(k,C[0])?C:[];{const S=Ye(C).filter(D=>Ry(k,D)).toArray(),N=Ko(C).filter(D=>Oy(k,D)).toArray(),T=C.slice(1,-1);return S.concat(T).concat(N)}})(y),Dy(y.dom)))(t.selection),y=>Gy(a,y,h,n))});((h,y)=>{Ht(lc,h)&&Y(lc[h],g=>{g(y)})})(e,t)}xv(t,e,o,n)},Qy=(t,e,n,o)=>{(o||t.selection.isEditable())&&CN(t,e,n,o)},Zy=t=>Ht(t,"vars"),Jy=t=>t.selection.getStart(),t_=(t,e,n,o,r)=>Do(e,s=>{const i=t.formatter.matchNode(s,n,r??{},o);return!De(i)},s=>!!by(t,s,n)||!o&&gt(t.formatter.matchNode(s,n,r,!0))),e_=(t,e)=>{const n=e??Jy(t);return Wt(ad(t.dom,n),o=>Tt(o)&&!qi(o))},n_=(t,e,n)=>{const o=e_(t,e);_e(n,(r,s)=>{const i=a=>{const l=t_(t,o,s,a.similar,Zy(a)?a.vars:void 0),c=l.isSome();if(a.state.get()!==c){a.state.set(c);const u=l.getOr(e);Zy(a)?a.callback(c,{node:u,format:s,parents:o}):Y(a.callbacks,f=>f(c,{node:u,format:s,parents:o}))}};Y([r.withSimilar,r.withoutSimilar],i),Y(r.withVars,i)})},o_=lt.explode,r_=()=>{const t={};return{addFilter:(e,n)=>{Y(o_(e),o=>{Ht(t,o)||(t[o]={name:o,callbacks:[]}),t[o].callbacks.push(n)})},getFilters:()=>Is(t),removeFilter:(e,n)=>{Y(o_(e),o=>{if(Ht(t,o))if(gt(n)){const r=t[o],s=Wt(r.callbacks,i=>i!==n);s.length>0?r.callbacks=s:delete t[o]}else delete t[o]})}}},wN=(t,e,n)=>{var o;const r=Vu();e.convert_fonts_to_spans&&((s,i,a)=>{s.addNodeFilter("font",l=>{Y(l,c=>{const u=i.parse(c.attr("style")),f=c.attr("color"),p=c.attr("face"),b=c.attr("size");f&&(u.color=f),p&&(u["font-family"]=p),b&&Hs(b).each(h=>{u["font-size"]=a[h-1]}),c.name="span",c.attr("style",i.serialize(u)),((h,y)=>{Y(["color","face","size"],g=>{h.attr(g,null)})})(c)})})})(t,r,lt.explode((o=e.font_size_legacy_values)!==null&&o!==void 0?o:"")),((s,i,a)=>{s.addNodeFilter("strike",l=>{const c=i.type!=="html4";Y(l,u=>{if(c)u.name="s";else{const f=a.parse(u.attr("style"));f["text-decoration"]="line-through",u.name="span",u.attr("style",a.serialize(f))}})})})(t,n,r)},qm=t=>{const[e,...n]=t.split(","),o=n.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(e);if(r){const s=r[2]===";base64",i=s?(a=>{const l=/([a-z0-9+\/=\s]+)/i.exec(a);return l?l[1]:""})(o):decodeURIComponent(o);return E.some({type:r[1],data:i,base64Encoded:s})}return E.none()},s_=(t,e,n=!0)=>{let o=e;if(n)try{o=atob(e)}catch{return E.none()}const r=new Uint8Array(o.length);for(let s=0;s<r.length;s++)r[s]=o.charCodeAt(s);return E.some(new Blob([r],{type:t}))},i_=t=>new Promise((e,n)=>{const o=new FileReader;o.onloadend=()=>{e(o.result)},o.onerror=()=>{var r;n((r=o.error)===null||r===void 0?void 0:r.message)},o.readAsDataURL(t)});let xN=0;const a_=(t,e,n)=>qm(t).bind(({data:o,type:r,base64Encoded:s})=>{if(e&&!s)return E.none();{const i=s?o:btoa(o);return n(i,r)}}),l_=(t,e,n)=>{const o=t.create("blobid"+xN++,e,n);return t.add(o),o},c_=(t,e,n=!1)=>a_(e,n,(o,r)=>E.from(t.getByData(o,r)).orThunk(()=>s_(r,o).map(s=>l_(t,s,o)))),EN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,kN=t=>E.from(t.match(EN)).bind(e=>Ar(e,1)).map(e=>Xe(e,"www.")?e.substring(4):e),d_=(t,e)=>{E.from(t.attr("src")).bind(kN).forall(n=>!pe(e,n))&&t.attr("sandbox","")},Wm=(t,e)=>Xe(t,`${e}/`),{entries:u_,setPrototypeOf:f_,isFrozen:SN,getPrototypeOf:AN,getOwnPropertyDescriptor:NN}=Object;let{freeze:zo,seal:is,create:TN}=Object,{apply:Vm,construct:Km}=typeof Reflect<"u"&&Reflect;Vm||(Vm=function(t,e,n){return t.apply(e,n)}),zo||(zo=function(t){return t}),is||(is=function(t){return t}),Km||(Km=function(t,e){return new t(...e)});const RN=Ir(Array.prototype.forEach),ON=Ir(Array.prototype.pop),dc=Ir(Array.prototype.push),Rd=Ir(String.prototype.toLowerCase),Ym=Ir(String.prototype.toString),DN=Ir(String.prototype.match),as=Ir(String.prototype.replace),LN=Ir(String.prototype.indexOf),BN=Ir(String.prototype.trim),_r=Ir(RegExp.prototype.test),uc=(m_=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Km(m_,e)});var m_;function Ir(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return Vm(t,e,o)}}function xe(t,e,n){var o;n=(o=n)!==null&&o!==void 0?o:Rd,f_&&f_(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(SN(e)||(e[r]=i),s=i)}t[s]=!0}return t}function el(t){const e=TN(null);for(const[n,o]of u_(t))e[n]=o;return e}function Od(t,e){for(;t!==null;){const n=NN(t,e);if(n){if(n.get)return Ir(n.get);if(typeof n.value=="function")return Ir(n.value)}t=AN(t)}return function(n){return console.warn("fallback value for",n),null}}const p_=zo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xm=zo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gm=zo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PN=zo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qm=zo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),MN=zo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),h_=zo(["#text"]),g_=zo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Zm=zo(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),b_=zo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Dd=zo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),IN=is(/\{\{[\w\W]*|[\w\W]*\}\}/gm),FN=is(/<%[\w\W]*|[\w\W]*%>/gm),jN=is(/\${[\w\W]*}/gm),$N=is(/^data-[\-\w.\u00B7-\uFFFF]/),HN=is(/^aria-[\-\w]+$/),v_=is(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zN=is(/^(?:\w+script|data):/i),UN=is(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),y_=is(/^html$/i);var __=Object.freeze({__proto__:null,MUSTACHE_EXPR:IN,ERB_EXPR:FN,TMPLIT_EXPR:jN,DATA_ATTR:$N,ARIA_ATTR:HN,IS_ALLOWED_URI:v_,IS_SCRIPT_OR_DATA:zN,ATTR_WHITESPACE:UN,DOCTYPE_NAME:y_});const qN=()=>typeof window>"u"?null:window;var Jm=function t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qN();const n=Q=>t(Q);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,r=o.currentScript;let{document:s}=e;const{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:b,trustedTypes:h}=e,y=c.prototype,g=Od(y,"cloneNode"),C=Od(y,"nextSibling"),k=Od(y,"childNodes"),S=Od(y,"parentNode");if(typeof a=="function"){const Q=s.createElement("template");Q.content&&Q.content.ownerDocument&&(s=Q.content.ownerDocument)}let N,T="";const{implementation:D,createNodeIterator:F,createDocumentFragment:M,getElementsByTagName:z}=s,{importNode:G}=o;let B={};n.isSupported=typeof u_=="function"&&typeof S=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:j,ERB_EXPR:H,TMPLIT_EXPR:et,DATA_ATTR:ft,ARIA_ATTR:ct,IS_SCRIPT_OR_DATA:Et,ATTR_WHITESPACE:Rt}=__;let{IS_ALLOWED_URI:Bt}=__,kt=null;const bt=xe({},[...p_,...Xm,...Gm,...Qm,...h_]);let Nt=null;const $=xe({},[...g_,...Zm,...b_,...Dd]);let U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,nt=null,vt=!0,pt=!0,$t=!1,Ut=!0,Gt=!1,Te=!1,Ve=!1,sr=!1,wt=!1,ee=!1,ae=!1,ne=!0,we=!1,Fe=!0,_t=!1,zt={},Se=null;const je=xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let yn=null;const Ao=xe({},["audio","video","img","source","image","track"]);let jr=null;const Qn=xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Uo="http://www.w3.org/1998/Math/MathML",_n="http://www.w3.org/2000/svg",ir="http://www.w3.org/1999/xhtml";let Ps=ir,Js=!1,_a=null;const Lh=xe({},[Uo,_n,ir],Ym);let $r;const Ri=["application/xhtml+xml","text/html"];let On,vo=null;const gl=s.createElement("form"),Oi=function(Q){return Q instanceof RegExp||Q instanceof Function},bl=function(Q){if(!vo||vo!==Q){if(Q&&typeof Q=="object"||(Q={}),Q=el(Q),$r=$r=Ri.indexOf(Q.PARSER_MEDIA_TYPE)===-1?"text/html":Q.PARSER_MEDIA_TYPE,On=$r==="application/xhtml+xml"?Ym:Rd,kt="ALLOWED_TAGS"in Q?xe({},Q.ALLOWED_TAGS,On):bt,Nt="ALLOWED_ATTR"in Q?xe({},Q.ALLOWED_ATTR,On):$,_a="ALLOWED_NAMESPACES"in Q?xe({},Q.ALLOWED_NAMESPACES,Ym):Lh,jr="ADD_URI_SAFE_ATTR"in Q?xe(el(Qn),Q.ADD_URI_SAFE_ATTR,On):Qn,yn="ADD_DATA_URI_TAGS"in Q?xe(el(Ao),Q.ADD_DATA_URI_TAGS,On):Ao,Se="FORBID_CONTENTS"in Q?xe({},Q.FORBID_CONTENTS,On):je,J="FORBID_TAGS"in Q?xe({},Q.FORBID_TAGS,On):{},nt="FORBID_ATTR"in Q?xe({},Q.FORBID_ATTR,On):{},zt="USE_PROFILES"in Q&&Q.USE_PROFILES,vt=Q.ALLOW_ARIA_ATTR!==!1,pt=Q.ALLOW_DATA_ATTR!==!1,$t=Q.ALLOW_UNKNOWN_PROTOCOLS||!1,Ut=Q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Gt=Q.SAFE_FOR_TEMPLATES||!1,Te=Q.WHOLE_DOCUMENT||!1,wt=Q.RETURN_DOM||!1,ee=Q.RETURN_DOM_FRAGMENT||!1,ae=Q.RETURN_TRUSTED_TYPE||!1,sr=Q.FORCE_BODY||!1,ne=Q.SANITIZE_DOM!==!1,we=Q.SANITIZE_NAMED_PROPS||!1,Fe=Q.KEEP_CONTENT!==!1,_t=Q.IN_PLACE||!1,Bt=Q.ALLOWED_URI_REGEXP||v_,Ps=Q.NAMESPACE||ir,U=Q.CUSTOM_ELEMENT_HANDLING||{},Q.CUSTOM_ELEMENT_HANDLING&&Oi(Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&Oi(Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&typeof Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Gt&&(pt=!1),ee&&(wt=!0),zt&&(kt=xe({},[...h_]),Nt=[],zt.html===!0&&(xe(kt,p_),xe(Nt,g_)),zt.svg===!0&&(xe(kt,Xm),xe(Nt,Zm),xe(Nt,Dd)),zt.svgFilters===!0&&(xe(kt,Gm),xe(Nt,Zm),xe(Nt,Dd)),zt.mathMl===!0&&(xe(kt,Qm),xe(Nt,b_),xe(Nt,Dd))),Q.ADD_TAGS&&(kt===bt&&(kt=el(kt)),xe(kt,Q.ADD_TAGS,On)),Q.ADD_ATTR&&(Nt===$&&(Nt=el(Nt)),xe(Nt,Q.ADD_ATTR,On)),Q.ADD_URI_SAFE_ATTR&&xe(jr,Q.ADD_URI_SAFE_ATTR,On),Q.FORBID_CONTENTS&&(Se===je&&(Se=el(Se)),xe(Se,Q.FORBID_CONTENTS,On)),Fe&&(kt["#text"]=!0),Te&&xe(kt,["html","head","body"]),kt.table&&(xe(kt,["tbody"]),delete J.tbody),Q.TRUSTED_TYPES_POLICY){if(typeof Q.TRUSTED_TYPES_POLICY.createHTML!="function")throw uc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw uc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=Q.TRUSTED_TYPES_POLICY,T=N.createHTML("")}else N===void 0&&(N=function(Pt,Vt){if(typeof Pt!="object"||typeof Pt.createPolicy!="function")return null;let Re=null;const qe="data-tt-policy-suffix";Vt&&Vt.hasAttribute(qe)&&(Re=Vt.getAttribute(qe));const Ze="dompurify"+(Re?"#"+Re:"");try{return Pt.createPolicy(Ze,{createHTML:Ke=>Ke,createScriptURL:Ke=>Ke})}catch{return console.warn("TrustedTypes policy "+Ze+" could not be created."),null}}(h,r)),N!==null&&typeof T=="string"&&(T=N.createHTML(""));zo&&zo(Q),vo=Q}},DE=xe({},["mi","mo","mn","ms","mtext"]),LE=xe({},["foreignobject","desc","title","annotation-xml"]),MD=xe({},["title","style","font","a","script"]),Su=xe({},Xm);xe(Su,Gm),xe(Su,PN);const Bh=xe({},Qm);xe(Bh,MN);const Ca=function(Q){dc(n.removed,{element:Q});try{Q.parentNode.removeChild(Q)}catch{Q.remove()}},Lc=function(Q,Pt){try{dc(n.removed,{attribute:Pt.getAttributeNode(Q),from:Pt})}catch{dc(n.removed,{attribute:null,from:Pt})}if(Pt.removeAttribute(Q),Q==="is"&&!Nt[Q])if(wt||ee)try{Ca(Pt)}catch{}else try{Pt.setAttribute(Q,"")}catch{}},BE=function(Q){let Pt,Vt;if(sr)Q="<remove></remove>"+Q;else{const Ze=DN(Q,/^[\r\n\t ]+/);Vt=Ze&&Ze[0]}$r==="application/xhtml+xml"&&Ps===ir&&(Q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Q+"</body></html>");const Re=N?N.createHTML(Q):Q;if(Ps===ir)try{Pt=new b().parseFromString(Re,$r)}catch{}if(!Pt||!Pt.documentElement){Pt=D.createDocument(Ps,"template",null);try{Pt.documentElement.innerHTML=Js?T:Re}catch{}}const qe=Pt.body||Pt.documentElement;return Q&&Vt&&qe.insertBefore(s.createTextNode(Vt),qe.childNodes[0]||null),Ps===ir?z.call(Pt,Te?"html":"body")[0]:Te?Pt.documentElement:qe},PE=function(Q){return F.call(Q.ownerDocument||Q,Q,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Au=function(Q){return typeof l=="object"?Q instanceof l:Q&&typeof Q=="object"&&typeof Q.nodeType=="number"&&typeof Q.nodeName=="string"},ti=function(Q,Pt,Vt){B[Q]&&RN(B[Q],Re=>{Re.call(n,Pt,Vt,vo)})},ME=function(Q){let Pt;if(ti("beforeSanitizeElements",Q,null),(Vt=Q)instanceof p&&(typeof Vt.nodeName!="string"||typeof Vt.textContent!="string"||typeof Vt.removeChild!="function"||!(Vt.attributes instanceof f)||typeof Vt.removeAttribute!="function"||typeof Vt.setAttribute!="function"||typeof Vt.namespaceURI!="string"||typeof Vt.insertBefore!="function"||typeof Vt.hasChildNodes!="function"))return Ca(Q),!0;var Vt;const Re=On(Q.nodeName);if(ti("uponSanitizeElement",Q,{tagName:Re,allowedTags:kt}),Q.hasChildNodes()&&!Au(Q.firstElementChild)&&(!Au(Q.content)||!Au(Q.content.firstElementChild))&&_r(/<[/\w]/g,Q.innerHTML)&&_r(/<[/\w]/g,Q.textContent))return Ca(Q),!0;if(!kt[Re]||J[Re]){if(!J[Re]&&FE(Re)&&(U.tagNameCheck instanceof RegExp&&_r(U.tagNameCheck,Re)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Re)))return!1;if(Fe&&!Se[Re]){const qe=S(Q)||Q.parentNode,Ze=k(Q)||Q.childNodes;if(Ze&&qe)for(let Ke=Ze.length-1;Ke>=0;--Ke)qe.insertBefore(g(Ze[Ke],!0),C(Q))}return Ca(Q),!0}return Q instanceof c&&!function(qe){let Ze=S(qe);Ze&&Ze.tagName||(Ze={namespaceURI:Ps,tagName:"template"});const Ke=Rd(qe.tagName),rn=Rd(Ze.tagName);return!!_a[qe.namespaceURI]&&(qe.namespaceURI===_n?Ze.namespaceURI===ir?Ke==="svg":Ze.namespaceURI===Uo?Ke==="svg"&&(rn==="annotation-xml"||DE[rn]):!!Su[Ke]:qe.namespaceURI===Uo?Ze.namespaceURI===ir?Ke==="math":Ze.namespaceURI===_n?Ke==="math"&&LE[rn]:!!Bh[Ke]:qe.namespaceURI===ir?!(Ze.namespaceURI===_n&&!LE[rn])&&!(Ze.namespaceURI===Uo&&!DE[rn])&&!Bh[Ke]&&(MD[Ke]||!Su[Ke]):!($r!=="application/xhtml+xml"||!_a[qe.namespaceURI]))}(Q)?(Ca(Q),!0):Re!=="noscript"&&Re!=="noembed"&&Re!=="noframes"||!_r(/<\/no(script|embed|frames)/i,Q.innerHTML)?(Gt&&Q.nodeType===3&&(Pt=Q.textContent,Pt=as(Pt,j," "),Pt=as(Pt,H," "),Pt=as(Pt,et," "),Q.textContent!==Pt&&(dc(n.removed,{element:Q.cloneNode()}),Q.textContent=Pt)),ti("afterSanitizeElements",Q,null),!1):(Ca(Q),!0)},IE=function(Q,Pt,Vt){if(ne&&(Pt==="id"||Pt==="name")&&(Vt in s||Vt in gl))return!1;if(!(pt&&!nt[Pt]&&_r(ft,Pt))){if(!(vt&&_r(ct,Pt))){if(!Nt[Pt]||nt[Pt]){if(!(FE(Q)&&(U.tagNameCheck instanceof RegExp&&_r(U.tagNameCheck,Q)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Q))&&(U.attributeNameCheck instanceof RegExp&&_r(U.attributeNameCheck,Pt)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(Pt))||Pt==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&_r(U.tagNameCheck,Vt)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Vt))))return!1}else if(!jr[Pt]){if(!_r(Bt,as(Vt,Rt,""))){if((Pt!=="src"&&Pt!=="xlink:href"&&Pt!=="href"||Q==="script"||LN(Vt,"data:")!==0||!yn[Q])&&!($t&&!_r(Et,as(Vt,Rt,"")))){if(Vt)return!1}}}}}return!0},FE=function(Q){return Q.indexOf("-")>0},jE=function(Q){let Pt,Vt,Re,qe;ti("beforeSanitizeAttributes",Q,null);const{attributes:Ze}=Q;if(!Ze)return;const Ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Nt};for(qe=Ze.length;qe--;){Pt=Ze[qe];const{name:rn,namespaceURI:vl}=Pt;Vt=rn==="value"?Pt.value:BN(Pt.value);const FD=Vt;if(Re=On(rn),Ke.attrName=Re,Ke.attrValue=Vt,Ke.keepAttr=!0,Ke.forceKeepAttr=void 0,ti("uponSanitizeAttribute",Q,Ke),Vt=Ke.attrValue,Ke.forceKeepAttr)continue;if(!Ke.keepAttr){Lc(rn,Q);continue}if(!Ut&&_r(/\/>/i,Vt)){Lc(rn,Q);continue}Gt&&(Vt=as(Vt,j," "),Vt=as(Vt,H," "),Vt=as(Vt,et," "));const $E=On(Q.nodeName);if(IE($E,Re,Vt)){if(!we||Re!=="id"&&Re!=="name"||(Lc(rn,Q),Vt="user-content-"+Vt),N&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!vl)switch(h.getAttributeType($E,Re)){case"TrustedHTML":Vt=N.createHTML(Vt);break;case"TrustedScriptURL":Vt=N.createScriptURL(Vt)}if(Vt!==FD)try{vl?Q.setAttributeNS(vl,rn,Vt):Q.setAttribute(rn,Vt)}catch{Lc(rn,Q)}}else Lc(rn,Q)}ti("afterSanitizeAttributes",Q,null)},ID=function Q(Pt){let Vt;const Re=PE(Pt);for(ti("beforeSanitizeShadowDOM",Pt,null);Vt=Re.nextNode();)ti("uponSanitizeShadowNode",Vt,null),ME(Vt)||(Vt.content instanceof i&&Q(Vt.content),jE(Vt));ti("afterSanitizeShadowDOM",Pt,null)};return n.sanitize=function(Q){let Pt,Vt,Re,qe,Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Js=!Q,Js&&(Q="<!-->"),typeof Q!="string"&&!Au(Q)){if(typeof Q.toString!="function")throw uc("toString is not a function");if(typeof(Q=Q.toString())!="string")throw uc("dirty is not a string, aborting")}if(!n.isSupported)return Q;if(Ve||bl(Ze),n.removed=[],typeof Q=="string"&&(_t=!1),_t){if(Q.nodeName){const vl=On(Q.nodeName);if(!kt[vl]||J[vl])throw uc("root node is forbidden and cannot be sanitized in-place")}}else if(Q instanceof l)Pt=BE("<!---->"),Vt=Pt.ownerDocument.importNode(Q,!0),Vt.nodeType===1&&Vt.nodeName==="BODY"||Vt.nodeName==="HTML"?Pt=Vt:Pt.appendChild(Vt);else{if(!wt&&!Gt&&!Te&&Q.indexOf("<")===-1)return N&&ae?N.createHTML(Q):Q;if(Pt=BE(Q),!Pt)return wt?null:ae?T:""}Pt&&sr&&Ca(Pt.firstChild);const Ke=PE(_t?Q:Pt);for(;Re=Ke.nextNode();)ME(Re)||(Re.content instanceof i&&ID(Re.content),jE(Re));if(_t)return Q;if(wt){if(ee)for(qe=M.call(Pt.ownerDocument);Pt.firstChild;)qe.appendChild(Pt.firstChild);else qe=Pt;return(Nt.shadowroot||Nt.shadowrootmode)&&(qe=G.call(o,qe,!0)),qe}let rn=Te?Pt.outerHTML:Pt.innerHTML;return Te&&kt["!doctype"]&&Pt.ownerDocument&&Pt.ownerDocument.doctype&&Pt.ownerDocument.doctype.name&&_r(y_,Pt.ownerDocument.doctype.name)&&(rn="<!DOCTYPE "+Pt.ownerDocument.doctype.name+`>
`+rn),Gt&&(rn=as(rn,j," "),rn=as(rn,H," "),rn=as(rn,et," ")),N&&ae?N.createHTML(rn):rn},n.setConfig=function(Q){bl(Q),Ve=!0},n.clearConfig=function(){vo=null,Ve=!1},n.isValidAttribute=function(Q,Pt,Vt){vo||bl({});const Re=On(Q),qe=On(Pt);return IE(Re,qe,Vt)},n.addHook=function(Q,Pt){typeof Pt=="function"&&(B[Q]=B[Q]||[],dc(B[Q],Pt))},n.removeHook=function(Q){if(B[Q])return ON(B[Q])},n.removeHooks=function(Q){B[Q]&&(B[Q]=[])},n.removeAllHooks=function(){B={}},n}();const C_=lt.each,WN=lt.trim,VN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],KN={ftp:21,http:80,https:443,mailto:25},YN=["img","video"],w_=(t,e,n)=>{const o=(r=>{try{return decodeURIComponent(r)}catch{return unescape(r)}})(e).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!t.allow_html_data_urls&&(/^data:image\//i.test(o)?((r,s)=>gt(r)?!r:!gt(s)||!pe(YN,s))(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class Fr{static parseDataUri(e){let n;const o=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(o[0]);return r&&(n=r[1]),{type:n,data:o[1]}}static isDomSafe(e,n,o={}){if(o.allow_script_urls)return!0;{const r=Yi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!w_(o,r,n)}}static getDocumentBaseUrl(e){var n;let o;return o=e.protocol.indexOf("http")!==0&&e.protocol!=="file:"?(n=e.href)!==null&&n!==void 0?n:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}constructor(e,n={}){this.path="",this.directory="",e=WN(e),this.settings=n;const o=n.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(r.source=e);const s=e.indexOf("//")===0;if(e.indexOf("/")!==0||s||(e=(o&&o.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const a=o?o.path:new Fr(document.location.href).directory;if(o?.protocol==="")e="//mce_host"+r.toAbsPath(a,e);else{const l=/([^#?]*)([#?]?.*)/.exec(e);l&&(e=(o&&o.protocol||"http")+"://mce_host"+r.toAbsPath(a,l[1])+l[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&C_(VN,(a,l)=>{let c=i[l];c&&(c=c.replace(/\(mce_at\)/g,"@@")),r[a]=c}),o&&(r.protocol||(r.protocol=o.protocol),r.userInfo||(r.userInfo=o.userInfo),r.port||r.host!=="mce_host"||(r.port=o.port),r.host&&r.host!=="mce_host"||(r.host=o.host),r.source=""),s&&(r.protocol="")}setPath(e){const n=/^(.*?)\/?(\w+)?$/.exec(e);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(e){if(e==="./")return e;const n=new Fr(e,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const o=this.getURI(),r=n.getURI();if(o===r||o.charAt(o.length-1)==="/"&&o.substr(0,o.length-1)===r)return o;let s=this.toRelPath(this.path,n.path);return n.query&&(s+="?"+n.query),n.anchor&&(s+="#"+n.anchor),s}toAbsolute(e,n){const o=new Fr(e,{base_uri:this});return o.getURI(n&&this.isSameOrigin(o))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const n=this.protocol?KN[this.protocol]:null;if(n&&(this.port||n)==(e.port||n))return!0}return!1}toRelPath(e,n){let o,r,s=0,i="";const a=e.substring(0,e.lastIndexOf("/")).split("/"),l=n.split("/");if(a.length>=l.length){for(o=0,r=a.length;o<r;o++)if(o>=l.length||a[o]!==l[o]){s=o+1;break}}if(a.length<l.length){for(o=0,r=l.length;o<r;o++)if(o>=a.length||a[o]!==l[o]){s=o+1;break}}if(s===1)return n;for(o=0,r=a.length-(s-1);o<r;o++)i+="../";for(o=s-1,r=l.length;o<r;o++)i+=o!==s-1?"/"+l[o]:l[o];return i}toAbsPath(e,n){let o=0;const r=/\/$/.test(n)?"/":"",s=e.split("/"),i=n.split("/"),a=[];C_(s,f=>{f&&a.push(f)});const l=[];for(let f=i.length-1;f>=0;f--)i[f].length!==0&&i[f]!=="."&&(i[f]!==".."?o>0?o--:l.push(i[f]):o++);const c=a.length-o;let u;return u=c<=0?ar(l).join("/"):a.slice(0,c).join("/")+"/"+ar(l).join("/"),u.indexOf("/")!==0&&(u="/"+u),r&&u.lastIndexOf("/")!==u.length-1&&(u+=r),u}getURI(e=!1){let n;return this.source&&!e||(n="",e||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const XN=lt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),tp="data-mce-type";let x_=0;const E_=(t,e,n,o,r)=>{var s,i,a,l;const c=e.validate,u=n.getSpecialElements();t.nodeType===8&&!e.allow_conditional_comments&&/^\[if/i.test((s=t.nodeValue)!==null&&s!==void 0?s:"")&&(t.nodeValue=" "+t.nodeValue);const f=(i=r?.tagName)!==null&&i!==void 0?i:t.nodeName.toLowerCase();if(o!=="html"&&n.isValid(o))return void(gt(r)&&(r.allowedTags[f]=!0));if(t.nodeType!==1||f==="body")return;const p=P(t),b=d(p,tp),h=jn(p,"data-mce-bogus");if(!b&&Dt(h))return void(h==="all"?Yt(p):se(p));const y=n.getElementRule(f);if(!c||y){if(gt(r)&&(r.allowedTags[f]=!0),c&&y&&!b){if(Y((a=y.attributesForced)!==null&&a!==void 0?a:[],g=>{on(p,g.name,g.value==="{$uid}"?"mce_"+x_++:g.value)}),Y((l=y.attributesDefault)!==null&&l!==void 0?l:[],g=>{d(p,g.name)||on(p,g.name,g.value==="{$uid}"?"mce_"+x_++:g.value)}),y.attributesRequired&&!ve(y.attributesRequired,g=>d(p,g))||y.removeEmptyAttrs&&(g=>{const C=g.dom.attributes;return C==null||C.length===0})(p))return void se(p);y.outputName&&y.outputName!==f&&((g,C)=>{const k=((N,T)=>{const D=Mt(T),F=_(N);return tr(D,F),D})(g,C);jt(g,k);const S=Ce(g);oe(k,S),Yt(g)})(p,y.outputName)}}else Ht(u,f)?Yt(p):se(p)},k_=(t,e,n,o,r,s)=>n!=="html"&&!Wi(o)||!(r in XN&&w_(t,s,o))&&(!t.validate||e.isValid(o,r)||Xe(r,"data-")||Xe(r,"aria-")),S_=(t,e)=>t.hasAttribute(tp)&&(e==="id"||e==="class"||e==="style"),A_=(t,e)=>t in e.getBoolAttrs(),GN=(t,e,n,o)=>{const{attributes:r}=t;for(let s=r.length-1;s>=0;s--){const i=r[s],a=i.name,l=i.value;k_(e,n,o,t.tagName.toLowerCase(),a,l)||S_(t,a)?A_(a,n)&&t.setAttribute(a,a):t.removeAttribute(a)}},QN=(t,e,n)=>{const o=Jm();return o.addHook("uponSanitizeElement",(r,s)=>{E_(r,t,e,n.track(r),s)}),o.addHook("uponSanitizeAttribute",(r,s)=>{((i,a,l,c,u)=>{const f=i.tagName.toLowerCase(),{attrName:p,attrValue:b}=u;u.keepAttr=k_(a,l,c,f,p,b),u.keepAttr?(u.allowedAttributes[p]=!0,A_(p,l)&&(u.attrValue=p),a.allow_svg_data_urls&&Xe(b,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):S_(i,p)&&(u.forceKeepAttr=!0)})(r,t,e,n.current(),s)}),o},ZN=t=>{const e=$h(t);if(e==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};Jm().sanitize(t,o)}else{if(e!=="math")throw new Error("Not a namespace element");{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};Jm().sanitize(t,n)}}},N_=lt.makeMap,T_=lt.extend,R_=(t,e,n,o)=>{const r=t.name,s=r in n&&r!=="title"&&r!=="textarea"&&r!=="noscript",i=e.childNodes;for(let a=0,l=i.length;a<l;a++){const c=i[a],u=new go(c.nodeName.toLowerCase(),c.nodeType);if(Tt(c)){const f=c.attributes;for(let p=0,b=f.length;p<b;p++){const h=f[p];u.attr(h.name,h.value)}Wi(u.name)&&(o(c),u.value=c.innerHTML)}else ut(c)?(u.value=c.data,s&&(u.raw=!0)):(hi(c)||HE(c)||zE(c))&&(u.value=c.data);Wi(u.name)||R_(u,c,n,o),t.append(u)}},nl=(t={},e=gi())=>{const n=r_(),o=r_(),r={validate:!0,root_name:"body",sanitize:!0,...t},s=new DOMParser,i=((y,g)=>{const C=(()=>{const k=Ks(),S=()=>k.get().map($h).getOr("html");return{track:N=>(Du(N)?k.set(N):k.get().exists(T=>!T.contains(N))&&k.clear(),S()),current:S,reset:()=>{k.clear()}}})();if(y.sanitize){const k=QN(y,g,C);return{sanitizeHtmlElement:(N,T)=>{k.sanitize(N,((D,F)=>{const M={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return M.PARSER_MEDIA_TYPE=F,D.allow_script_urls?M.ALLOWED_URI_REGEXP=/.*/:D.allow_html_data_urls&&(M.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),M})(y,T)),k.removed=[],C.reset()},sanitizeNamespaceElement:ZN}}return{sanitizeHtmlElement:(k,S)=>{const N=document.createNodeIterator(k,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let T;for(;T=N.nextNode();){const D=C.track(T);E_(T,y,g,D),Tt(T)&&GN(T,y,g,D)}C.reset()},sanitizeNamespaceElement:Lt}})(r,e),a=n.addFilter,l=n.getFilters,c=n.removeFilter,u=o.addFilter,f=o.getFilters,p=o.removeFilter,b=(y,g)=>{const C=Dt(g.attr(tp)),k=g.type===1&&!Ht(y,g.name)&&!Fu(e,g)&&!Wi(g.name);return g.type===3||k&&!C},h={schema:e,addAttributeFilter:u,getAttributeFilters:f,removeAttributeFilter:p,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(y,g={})=>{var C;const k=r.validate,S=(C=g.context)!==null&&C!==void 0?C:r.root_name,N=((H,et,ft="html")=>{const ct=ft==="xhtml"?"application/xhtml+xml":"text/html",Et=Ht(e.getSpecialElements(),et.toLowerCase()),Rt=Et?`<${et}>${H}</${et}>`:H,Bt=s.parseFromString(ft==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Rt}</body></html>`:/^[\s]*<head/i.test(H)||/^[\s]*<html/i.test(H)||/^[\s]*<!DOCTYPE/i.test(H)?`<html>${Rt}</html>`:`<body>${Rt}</body>`,ct).body;return i.sanitizeHtmlElement(Bt,ct),Et?Bt.firstChild:Bt})(y,S,g.format);Bu(e,N);const T=new go(S,11);R_(T,N,e.getSpecialElements(),i.sanitizeNamespaceElement),N.innerHTML="";const[D,F]=((H,et,ft,ct)=>{const Et=ft.validate,Rt=et.getNonEmptyElements(),Bt=et.getWhitespaceElements(),kt=T_(N_("script,style,head,html,body,title,meta,param"),et.getBlockElements()),bt=ig(et),Nt=/[ \t\r\n]+/g,$=/^[ \t\r\n]+/,U=/[ \t\r\n]+$/,J=pt=>{let $t=pt.parent;for(;gt($t);){if($t.name in Bt)return!0;$t=$t.parent}return!1},nt=pt=>pt.name in kt||Fu(et,pt)||Wi(pt.name)&&pt.parent===H,vt=(pt,$t)=>{const Ut=$t?pt.prev:pt.next;return!gt(Ut)&&!he(pt.parent)&&nt(pt.parent)&&(pt.parent!==H||ct.isRootContent===!0)};return[pt=>{var $t;if(pt.type===3&&!J(pt)){let Ut=($t=pt.value)!==null&&$t!==void 0?$t:"";Ut=Ut.replace(Nt," "),(((Gt,Te)=>gt(Gt)&&(Te(Gt)||Gt.name==="br"))(pt.prev,nt)||vt(pt,!0))&&(Ut=Ut.replace($,"")),Ut.length===0||Ut===" "&&pt.prev&&pt.prev.type===8&&pt.next&&pt.next.type===8?pt.remove():pt.value=Ut}},pt=>{var $t;if(pt.type===1){const Ut=et.getElementRule(pt.name);if(Et&&Ut){const Gt=ic(et,Rt,Bt,pt);Ut.paddInEmptyBlock&&Gt&&(Te=>{let Ve=Te;for(;gt(Ve);){if(Ve.name in bt)return ic(et,Rt,Bt,Ve);Ve=Ve.parent}return!1})(pt)?Em(ft,ct,nt,pt):Ut.removeEmpty&&Gt?nt(pt)?pt.remove():pt.unwrap():Ut.paddEmpty&&(Gt||(Te=>{var Ve;return py(Te,"#text")&&((Ve=Te?.firstChild)===null||Ve===void 0?void 0:Ve.value)===Le})(pt))&&Em(ft,ct,nt,pt)}}else if(pt.type===3&&!J(pt)){let Ut=($t=pt.value)!==null&&$t!==void 0?$t:"";(pt.next&&nt(pt.next)||vt(pt,!1))&&(Ut=Ut.replace(U,"")),Ut.length===0?pt.remove():pt.value=Ut}}]})(T,e,r,g),M=[],z=k?H=>((et,ft)=>{Am(e,et)&&ft.push(et)})(H,M):Lt,G={nodes:{},attributes:{}},B=H=>uy(l(),f(),H,G);if(((H,et,ft)=>{const ct=[];for(let Et=H,Rt=Et;Et;Rt=Et,Et=Et.walk()){const Bt=Et;Y(et,kt=>kt(Bt)),he(Bt.parent)&&Bt!==H?Et=Rt:ct.push(Bt)}for(let Et=ct.length-1;Et>=0;Et--){const Rt=ct[Et];Y(ft,Bt=>Bt(Rt))}})(T,[D,B],[F,z]),M.reverse(),k&&M.length>0)if(g.context){const{pass:H,fail:et}=Sr(M,ft=>ft.parent===T);Sm(et,e,T,B),g.invalid=H.length>0}else Sm(M,e,T,B);const j=((H,et)=>{var ft;const ct=(ft=et.forced_root_block)!==null&&ft!==void 0?ft:H.forced_root_block;return ct===!1?"":ct===!0?"p":ct})(r,g);return j&&(T.name==="body"||g.isRootContent)&&((H,et)=>{const ft=T_(N_("script,style,head,html,body,title,meta,param"),e.getBlockElements()),ct=/^[ \t\r\n]+/,Et=/[ \t\r\n]+$/;let Rt=H.firstChild,Bt=null;const kt=bt=>{var Nt,$;bt&&(Rt=bt.firstChild,Rt&&Rt.type===3&&(Rt.value=(Nt=Rt.value)===null||Nt===void 0?void 0:Nt.replace(ct,"")),Rt=bt.lastChild,Rt&&Rt.type===3&&(Rt.value=($=Rt.value)===null||$===void 0?void 0:$.replace(Et,"")))};if(e.isValidChild(H.name,et.toLowerCase())){for(;Rt;){const bt=Rt.next;b(ft,Rt)?(Bt||(Bt=new go(et,1),Bt.attr(r.forced_root_block_attrs),H.insert(Bt,Rt)),Bt.append(Rt)):(kt(Bt),Bt=null),Rt=bt}kt(Bt)}})(T,j),g.invalid||fy(G,g),T}};return((y,g)=>{var C,k;const S=y.schema;y.addAttributeFilter("href",F=>{let M=F.length;const z=G=>{const B=G?lt.trim(G):"";return/\b(noopener)\b/g.test(B)?B:(j=>j.split(" ").filter(H=>H.length>0).concat(["noopener"]).sort().join(" "))(B)};if(!g.allow_unsafe_link_target)for(;M--;){const G=F[M];G.name==="a"&&G.attr("target")==="_blank"&&G.attr("rel",z(G.attr("rel")))}}),g.allow_html_in_named_anchor||y.addAttributeFilter("id,name",F=>{let M,z,G,B,j=F.length;for(;j--;)if(B=F[j],B.name==="a"&&B.firstChild&&!B.attr("href"))for(G=B.parent,M=B.lastChild;M&&G;)z=M.prev,G.insert(M,B),M=z}),g.fix_list_elements&&y.addNodeFilter("ul,ol",F=>{let M,z,G=F.length;for(;G--;)if(M=F[G],z=M.parent,z&&(z.name==="ul"||z.name==="ol"))if(M.prev&&M.prev.name==="li")M.prev.append(M);else{const B=new go("li",1);B.attr("style","list-style-type: none"),M.wrap(B)}});const N=S.getValidClasses();g.validate&&N&&y.addAttributeFilter("class",F=>{var M;let z=F.length;for(;z--;){const G=F[z],B=(M=G.attr("class"))!==null&&M!==void 0?M:"",j=lt.explode(B," ");let H="";for(let et=0;et<j.length;et++){const ft=j[et];let ct=!1,Et=N["*"];Et&&Et[ft]&&(ct=!0),Et=N[G.name],!ct&&Et&&Et[ft]&&(ct=!0),ct&&(H&&(H+=" "),H+=ft)}H.length||(H=null),G.attr("class",H)}}),((F,M)=>{const{blob_cache:z}=M;if(z){const G=B=>{const j=B.attr("src");(H=>H.attr("src")===fe.transparentSrc||gt(H.attr("data-mce-placeholder")))(B)||(H=>gt(H.attr("data-mce-bogus")))(B)||he(j)||c_(z,j,!0).each(H=>{B.attr("src",H.blobUri())})};F.addAttributeFilter("src",B=>Y(B,G))}})(y,g);const T=(C=g.sandbox_iframes)!==null&&C!==void 0&&C,D=to((k=g.sandbox_iframes_exclusions)!==null&&k!==void 0?k:[]);g.convert_unsafe_embeds&&y.addNodeFilter("object,embed",F=>Y(F,M=>{M.replace((({type:z,src:G,width:B,height:j}={},H,et)=>{const ft=(Et=>De(Et)?"iframe":Wm(Et,"image")?"img":Wm(Et,"video")?"video":Wm(Et,"audio")?"audio":"iframe")(z),ct=new go(ft,1);return ct.attr(ft==="audio"?{src:G}:{src:G,width:B,height:j}),ft!=="audio"&&ft!=="video"||ct.attr("controls",""),ft==="iframe"&&H&&d_(ct,et),ct})({type:M.attr("type"),src:M.name==="object"?M.attr("data"):M.attr("src"),width:M.attr("width"),height:M.attr("height")},T,D))})),T&&y.addNodeFilter("iframe",F=>Y(F,M=>d_(M,D)))})(h,r),((y,g,C)=>{g.inline_styles&&wN(y,g,C)})(h,r,e),h},O_=(t,e,n)=>{const o=(s=>Sd(s)?xi({validate:!1}).serialize(s):s)(t),r=e(o);if(r.isDefaultPrevented())return r;if(Sd(t)){if(r.content!==o){const s=nl({validate:!1,forced_root_block:!1,...n}).parse(r.content,{context:t.name});return{...r,content:s}}return{...r,content:t}}return r},D_=t=>({sanitize:Eb(t),sandbox_iframes:Sb(t),sandbox_iframes_exclusions:yf(t)}),L_=(t,e)=>{if(e.no_events)return Eo.value(e);{const n=((o,r)=>o.dispatch("BeforeGetContent",r))(t,e);return n.isDefaultPrevented()?Eo.error(Sv(t,{content:"",...n}).content):Eo.value(n)}},B_=(t,e,n)=>n.no_events?e:O_(e,r=>Sv(t,{...n,content:r}),D_(t)).content,ep=(t,e)=>{if(e.no_events)return Eo.value(e);{const n=O_(e.content,o=>((r,s)=>r.dispatch("BeforeSetContent",s))(t,{...e,content:o}),D_(t));return n.isDefaultPrevented()?(kv(t,n),Eo.error(void 0)):Eo.value(n)}},np=(t,e,n)=>{n.no_events||kv(t,{...n,content:e})},op=(t,e,n)=>({element:t,width:e,rows:n}),P_=(t,e)=>({element:t,cells:e}),JN=(t,e)=>({x:t,y:e}),M_=(t,e)=>er(t,e).bind(Hs).getOr(1),tT=(t,e,n)=>{const o=t.rows;return!!(o[n]?o[n].cells:[])[e]},I_=t=>tn(t,(e,n)=>n.cells.length>e?n.cells.length:e,0),F_=(t,e)=>{const n=t.rows;for(let o=0;o<n.length;o++){const r=n[o].cells;for(let s=0;s<r.length;s++)if(Ft(r[s],e))return E.some(JN(s,o))}return E.none()},j_=(t,e,n,o,r)=>{const s=[],i=t.rows;for(let a=n;a<=r;a++){const l=i[a].cells,c=e<o?l.slice(e,o+1):l.slice(o,e+1);s.push(P_(i[a].element,c))}return s},eT=t=>((e,n)=>{const o=Qi(e.element),r=Mt("tbody");return oe(r,n),At(o,r),o})(t,(e=>re(e.rows,n=>{const o=re(n.cells,s=>{const i=Eg(s);return m(i,"colspan"),m(i,"rowspan"),i}),r=Qi(n.element);return oe(r,o),r}))(t)),nT=(t,e,n)=>{const o=P(e.commonAncestorContainer),r=Gs(o,t),s=Wt(r,l=>n.isWrapper(ue(l))),i=((l,c)=>Ue(l,u=>ue(u)==="li"&&Of(u,c)).fold(yt([]),u=>(f=>Ue(f,p=>ue(p)==="ul"||ue(p)==="ol"))(l).map(f=>{const p=Mt(ue(f)),b=Rr(it(f),(h,y)=>Xe(y,"list-style"));return Zr(p,b),[Mt("li"),p]}).getOr([])))(r,e),a=s.concat(i.length?i:(l=>Fa(l)?$n(l).filter(tf).fold(yt([]),c=>[l,c]):tf(l)?[l]:[])(o));return re(a,Qi)},$_=()=>Vf([]),oT=(t,e)=>((n,o)=>cr(o,"table",St(Ft,n)))(t,e[0]).bind(n=>{const o=e[0],r=e[e.length-1],s=(i=>{const a=op(Qi(i),0,[]);return Y(dt(i,"tr"),(l,c)=>{Y(dt(l,"td,th"),(u,f)=>{((p,b,h,y,g)=>{const C=M_(g,"rowspan"),k=M_(g,"colspan"),S=p.rows;for(let N=h;N<h+C;N++){S[N]||(S[N]=P_(Eg(y),[]));for(let T=b;T<b+k;T++)S[N].cells[T]=N===h&&T===b?g:Qi(g)}})(a,((p,b,h)=>{for(;tT(p,b,h);)b++;return b})(a,f,c),c,l,u)})}),op(a.element,I_(a.rows),a.rows)})(n);return((i,a,l)=>F_(i,a).bind(c=>F_(i,l).map(u=>((f,p,b)=>{const h=p.x,y=p.y,g=b.x,C=b.y,k=y<C?j_(f,h,y,g,C):j_(f,h,C,g,y);return op(f.element,I_(k),k)})(i,c,u))))(s,o,r).map(i=>Vf([eT(i)]))}).getOrThunk($_),rT=(t,e,n)=>{const o=ev(e,t);return o.length>0?oT(t,o):((r,s,i)=>s.length>0&&s[0].collapsed?$_():((a,l,c)=>((u,f)=>{const p=tn(f,(b,h)=>(At(h,b),h),u);return f.length>0?Vf([p]):p})(P(l.cloneContents()),nT(a,l,c)))(r,s[0],i))(t,e,n)},Ld=(t,e)=>e>=0&&e<t.length&&sa(t.charAt(e)),H_=t=>or(t.innerText),z_=t=>Tt(t)?t.outerHTML:ut(t)?Yi.encodeRaw(t.data,!1):hi(t)?"<!--"+t.data+"-->":"",sT=(t,e)=>(((n,o)=>{let r=0;Y(n,s=>{s[0]===0?r++:s[0]===1?(((i,a,l)=>{const c=(u=>{let f;const p=document.createElement("div"),b=document.createDocumentFragment();for(u&&(p.innerHTML=u);f=p.firstChild;)b.appendChild(f);return b})(a);if(i.hasChildNodes()&&l<i.childNodes.length){const u=i.childNodes[l];i.insertBefore(c,u)}else i.appendChild(c)})(o,s[1],r),r++):s[0]===2&&((i,a)=>{if(i.hasChildNodes()&&a<i.childNodes.length){const l=i.childNodes[a];i.removeChild(l)}})(o,r)})})(((n,o)=>{const r=n.length+o.length+2,s=new Array(r),i=new Array(r),a=(f,p,b,h,y)=>{const g=c(f,p,b,h);if(g===null||g.start===p&&g.diag===p-h||g.end===f&&g.diag===f-b){let C=f,k=b;for(;C<p||k<h;)C<p&&k<h&&n[C]===o[k]?(y.push([0,n[C]]),++C,++k):p-f>h-b?(y.push([2,n[C]]),++C):(y.push([1,o[k]]),++k)}else{a(f,g.start,b,g.start-g.diag,y);for(let C=g.start;C<g.end;++C)y.push([0,n[C]]);a(g.end,p,g.end-g.diag,h,y)}},l=(f,p,b,h)=>{let y=f;for(;y-p<h&&y<b&&n[y]===o[y-p];)++y;return((g,C,k)=>({start:g,end:C,diag:k}))(f,y,p)},c=(f,p,b,h)=>{const y=p-f,g=h-b;if(y===0||g===0)return null;const C=y-g,k=g+y,S=(k%2==0?k:k+1)/2;let N,T,D,F,M;for(s[1+S]=f,i[1+S]=p+1,N=0;N<=S;++N){for(T=-N;T<=N;T+=2){for(D=T+S,T===-N||T!==N&&s[D-1]<s[D+1]?s[D]=s[D+1]:s[D]=s[D-1]+1,F=s[D],M=F-f+b-T;F<p&&M<h&&n[F]===o[M];)s[D]=++F,++M;if(C%2!=0&&C-N<=T&&T<=C+N&&i[D-C]<=s[D])return l(i[D-C],T+f-b,p,h)}for(T=C-N;T<=C+N;T+=2){for(D=T+S-C,T===C-N||T!==C+N&&i[D+1]<=i[D-1]?i[D]=i[D+1]-1:i[D]=i[D-1],F=i[D]-1,M=F-f+b-T;F>=f&&M>=b&&n[F]===o[M];)i[D]=F--,M--;if(C%2==0&&-N<=T&&T<=N&&i[D]<=s[D+C])return l(i[D],T+f-b,p,h)}}return null},u=[];return a(0,n.length,0,o.length,u),u})(re(nn(e.childNodes),z_),t),e),e),iT=Yo(()=>document.implementation.createHTMLDocument("undo")),Bd=t=>{const e=t.serializer.getTempAttrs(),n=f0(t.getBody(),e);return(o=>o.querySelector("iframe")!==null)(n)?{type:"fragmented",fragments:Wt(re(nn(n.childNodes),_o(or,z_)),o=>o.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:or(n.innerHTML),bookmark:null,beforeBookmark:null}},rp=(t,e,n)=>{const o=n?e.beforeBookmark:e.bookmark;e.type==="fragmented"?sT(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw",no_selection:!gt(o)||!Xb(o)||!o.isFakeCaret}),o&&(t.selection.moveToBookmark(o),t.selection.scrollIntoView())},sp=t=>t.type==="fragmented"?t.fragments.join(""):t.content,U_=t=>{const e=Mt("body",iT());return ln(e,sp(t)),Y(dt(e,"*[data-mce-bogus]"),se),An(e)},ip=(t,e)=>!(!t||!e)&&(!!((n,o)=>sp(n)===sp(o))(t,e)||((n,o)=>U_(n)===U_(o))(t,e)),ap=t=>t.get()===0,Pd=(t,e,n)=>{ap(n)&&(t.typing=e)},q_=(t,e)=>{t.typing&&(Pd(t,!1,e),t.add())},W_=t=>({init:{bindEvents:Lt},undoManager:{beforeChange:(e,n)=>((o,r,s)=>{ap(r)&&s.set(mf(o.selection))})(t,e,n),add:(e,n,o,r,s,i)=>((a,l,c,u,f,p,b)=>{const h=Bd(a),y=lt.extend(p||{},h);if(!ap(u)||a.removed)return null;const g=l.data[c.get()];if(a.dispatch("BeforeAddUndo",{level:y,lastLevel:g,originalEvent:b}).isDefaultPrevented()||g&&ip(g,y))return null;l.data[c.get()]&&f.get().each(S=>{l.data[c.get()].beforeBookmark=S});const C=pS(a);if(C&&l.data.length>C){for(let S=0;S<l.data.length-1;S++)l.data[S]=l.data[S+1];l.data.length--,c.set(l.data.length)}y.bookmark=mf(a.selection),c.get()<l.data.length-1&&(l.data.length=c.get()+1),l.data.push(y),c.set(l.data.length-1);const k={level:y,lastLevel:g,originalEvent:b};return c.get()>0?(a.setDirty(!0),a.dispatch("AddUndo",k),a.dispatch("change",k)):a.dispatch("AddUndo",k),y})(t,e,n,o,r,s,i),undo:(e,n,o)=>((r,s,i,a)=>{let l;return s.typing&&(s.add(),s.typing=!1,Pd(s,!1,i)),a.get()>0&&(a.set(a.get()-1),l=s.data[a.get()],rp(r,l,!0),r.setDirty(!0),r.dispatch("Undo",{level:l})),l})(t,e,n,o),redo:(e,n)=>((o,r,s)=>{let i;return r.get()<s.length-1&&(r.set(r.get()+1),i=s[r.get()],rp(o,i,!1),o.setDirty(!0),o.dispatch("Redo",{level:i})),i})(t,e,n),clear:(e,n)=>((o,r,s)=>{r.data=[],s.set(0),r.typing=!1,o.dispatch("ClearUndos")})(t,e,n),reset:e=>(n=>{n.clear(),n.add()})(e),hasUndo:(e,n)=>((o,r,s)=>s.get()>0||r.typing&&r.data[0]&&!ip(Bd(o),r.data[0]))(t,e,n),hasRedo:(e,n)=>((o,r)=>r.get()<o.data.length-1&&!o.typing)(e,n),transact:(e,n,o)=>((r,s,i)=>(q_(r,s),r.beforeChange(),r.ignore(i),r.add()))(e,n,o),ignore:(e,n)=>((o,r)=>{try{o.set(o.get()+1),r()}finally{o.set(o.get()-1)}})(e,n),extra:(e,n,o,r)=>((s,i,a,l,c)=>{if(i.transact(l)){const u=i.data[a.get()].bookmark,f=i.data[a.get()-1];rp(s,f,!0),i.transact(c)&&(i.data[a.get()-1].beforeBookmark=u)}})(t,e,n,o,r)},formatter:{match:(e,n,o,r)=>Pm(t,e,n,o,r),matchAll:(e,n)=>((o,r,s)=>{const i=[],a={},l=o.selection.getStart();return o.dom.getParent(l,c=>{for(let u=0;u<r.length;u++){const f=r[u];!a[f]&&Rs(o,c,f,s)&&(a[f]=!0,i.push(f))}},o.dom.getRoot()),i})(t,e,n),matchNode:(e,n,o,r)=>Rs(t,e,n,o,r),canApply:e=>((n,o)=>{const r=n.formatter.get(o),s=n.dom;if(r&&n.selection.isEditable()){const i=n.selection.getStart(),a=ad(s,i);for(let l=r.length-1;l>=0;l--){const c=r[l];if(!br(c))return!0;for(let u=a.length-1;u>=0;u--)if(s.is(a[u],c.selector))return!0}}return!1})(t,e),closest:e=>((n,o)=>{const r=s=>Ft(s,P(n.getBody()));return E.from(n.selection.getStart(!0)).bind(s=>Dm(P(s),i=>pn(o,a=>((l,c)=>Rs(n,l.dom,c)?E.some(c):E.none())(i,a)),r)).getOrNull()})(t,e),apply:(e,n,o)=>Qy(t,e,n,o),remove:(e,n,o,r)=>Yy(t,e,n,o,r),toggle:(e,n,o)=>((r,s,i,a)=>{const l=r.formatter.get(s);l&&(!Pm(r,s,i,a)||"toggle"in l[0]&&!l[0].toggle?Qy(r,s,i,a):Yy(r,s,i,a))})(t,e,n,o),formatChanged:(e,n,o,r,s)=>((i,a,l,c,u,f)=>(((p,b,h,y,g,C)=>{const k=b.get();Y(h.split(","),S=>{const N=Ee(k,S).getOrThunk(()=>{const D={withSimilar:{state:Nn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Nn(!1),similar:!1,callbacks:[]},withVars:[]};return k[S]=D,D}),T=()=>{const D=e_(p);return t_(p,D,S,g,C).isSome()};if(De(C)){const D=g?N.withSimilar:N.withoutSimilar;D.callbacks.push(y),D.callbacks.length===1&&D.state.set(T())}else N.withVars.push({state:Nn(T()),similar:g,vars:C,callback:y})}),b.set(k)})(i,a,l,c,u,f),{unbind:()=>((p,b,h)=>{const y=p.get();Y(b.split(","),g=>Ee(y,g).each(C=>{y[g]={withSimilar:{...C.withSimilar,callbacks:Wt(C.withSimilar.callbacks,k=>k!==h)},withoutSimilar:{...C.withoutSimilar,callbacks:Wt(C.withoutSimilar.callbacks,k=>k!==h)},withVars:Wt(C.withVars,k=>k.callback!==h)}})),p.set(y)})(a,l,c)}))(t,e,n,o,r,s)},editor:{getContent:e=>((n,o)=>E.from(n.getBody()).fold(yt(o.format==="tree"?new go("body",11):""),r=>VA(n,o,r)))(t,e),setContent:(e,n)=>((o,r,s)=>E.from(o.getBody()).map(i=>Sd(r)?((a,l,c,u)=>{my(a.parser.getNodeFilters(),a.parser.getAttributeFilters(),c);const f=xi({validate:!1},a.schema).serialize(c),p=or(zc(P(l))?f:lt.trim(f));return Om(a,p,u.no_selection),{content:c,html:p}})(o,i,r,s):((a,l,c,u)=>{if((c=or(c)).length===0||/^\s+$/.test(c)){const f='<br data-mce-bogus="1">';l.nodeName==="TABLE"?c="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(l.nodeName)&&(c="<li>"+f+"</li>");const p=Xn(a);return a.schema.isValidChild(l.nodeName.toLowerCase(),p.toLowerCase())?(c=f,c=a.dom.createHTML(p,Hl(a),c)):c||(c=f),Om(a,c,u.no_selection),{content:c,html:c}}{u.format!=="raw"&&(c=xi({validate:!1},a.schema).serialize(a.parser.parse(c,{isRootContent:!0,insert:!0})));const f=zc(P(l))?c:lt.trim(c);return Om(a,f,u.no_selection),{content:f,html:f}}})(o,i,r,s)).getOr({content:r,html:Sd(s.content)?"":s.content}))(t,e,n),insertContent:(e,n)=>bN(t,e,n),addVisual:e=>((n,o)=>{const r=n.dom,s=gt(o)?o:n.getBody();Y(r.select("table,a",s),i=>{switch(i.nodeName){case"TABLE":const a=_S(n),l=r.getAttrib(i,"border");l&&l!=="0"||!n.hasVisual?r.removeClass(i,a):r.addClass(i,a);break;case"A":if(!r.getAttrib(i,"href")){const c=r.getAttrib(i,"name")||i.id,u=Cb(n);c&&n.hasVisual?r.addClass(i,u):r.removeClass(i,u)}}}),n.dispatch("VisualAid",{element:o,hasVisual:n.hasVisual})})(t,e)},selection:{getContent:(e,n)=>((o,r,s={})=>{const i=((a,l)=>({...a,format:l,get:!0,selection:!0,getInner:!0}))(s,r);return L_(o,i).fold(me,a=>{const l=((c,u)=>{if(u.format==="text")return(f=>E.from(f.selection.getRng()).map(p=>{var b;const h=E.from(f.dom.getParent(p.commonAncestorContainer,f.dom.isBlock)),y=f.getBody(),g=(T=>T.map(D=>D.nodeName).getOr("div").toLowerCase())(h),C=P(p.cloneContents());m0(C),p0(C);const k=f.dom.add(y,g,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},C.dom),S=H_(k),N=or((b=k.textContent)!==null&&b!==void 0?b:"");if(f.dom.remove(k),Ld(N,0)||Ld(N,N.length-1)){const T=h.getOr(y),D=H_(T),F=D.indexOf(S);return F===-1?S:(Ld(D,F-1)?" ":"")+S+(Ld(D,F+S.length)?" ":"")}return S}).getOr(""))(c);{const f=((p,b)=>{const h=p.selection.getRng(),y=p.dom.create("body"),g=p.selection.getSel(),C=om(p,Tf(g)),k=b.contextual?rT(P(p.getBody()),C,p.schema).dom:h.cloneContents();return k&&y.appendChild(k),p.selection.serializer.serialize(y,b)})(c,u);return u.format==="tree"?f:c.selection.isCollapsed()?"":f}})(o,a);return B_(o,l,a)})})(t,e,n)},autocompleter:{addDecoration:Lt,removeDecoration:Lt},raw:{getModel:()=>E.none()}}),Os=t=>Ht(t.plugins,"rtc"),lp=t=>t.rtcInstance?t.rtcInstance:W_(t),vn=t=>{const e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},V_=t=>vn(t).init.bindEvents(),K_=t=>t.dom.length===0?(Yt(t),E.none()):E.some(t),Y_=(t,e,n,o,r)=>{t.bind(s=>((o?fm:Cd)(s.dom,o?s.dom.length:0,r),e.filter(Cn).map(i=>((a,l,c,u,f)=>{const p=a.dom,b=l.dom,h=u?p.length:b.length;u?(mm(p,b,f,!1,!u),c.setStart(b,h)):(mm(b,p,f,!1,!u),c.setEnd(b,h))})(s,i,n,o,r)))).orThunk(()=>((i,a)=>i.filter(l=>Zl.isBookmarkNode(l.dom)).bind(a?wn:Pn))(e,o).or(e).filter(Cn).map(i=>((a,l,c)=>{$n(a).each(u=>{const f=a.dom;l&&oc(u,tt(f,0),c)?Cd(f,0,c):!l&&rc(u,tt(f,f.length),c)&&fm(f,f.length,c)})})(i,o,r)))},X_=(t,e,n)=>{if(Ht(t,e)){const o=Wt(t[e],r=>r!==n);o.length===0?delete t[e]:t[e]=o}},G_=t=>!(!t||!t.ownerDocument)&&mn(P(t.ownerDocument),P(t)),Q_=(t,e,n,o)=>{let r,s;const{selectorChangedWithUnbind:i}=((g,C)=>{let k,S;const N=(D,F)=>Ue(F,M=>g.is(M,D)),T=D=>g.getParents(D,void 0,g.getRoot());return{selectorChangedWithUnbind:(D,F)=>(k||(k={},S={},C.on("NodeChange",M=>{const z=M.element,G=T(z),B={};_e(k,(j,H)=>{N(H,G).each(et=>{S[H]||(Y(j,ft=>{ft(!0,{node:et,selector:H,parents:G})}),S[H]=j),B[H]=j})}),_e(S,(j,H)=>{B[H]||(delete S[H],Y(j,et=>{et(!1,{node:z,selector:H,parents:G})}))})})),k[D]||(k[D]=[]),k[D].push(F),N(D,T(C.selection.getStart())).each(()=>{S[D]=k[D]}),{unbind:()=>{X_(k,D,F),X_(S,D,F)}})}})(t,o),a=(g,C)=>((k,S,N={})=>{const T=((D,F)=>({format:"html",...D,set:!0,selection:!0,content:F}))(N,S);ep(k,T).each(D=>{const F=((z,G)=>{if(G.format!=="raw"){const B=z.selection.getRng(),j=z.dom.getParent(B.commonAncestorContainer,z.dom.isBlock),H=j?{context:j.nodeName.toLowerCase()}:{},et=z.parser.parse(G.content,{forced_root_block:!1,...H,...G});return xi({validate:!1},z.schema).serialize(et)}return G.content})(k,D),M=k.selection.getRng();((z,G,B)=>{const j=E.from(G.firstChild).map(P),H=E.from(G.lastChild).map(P);z.deleteContents(),z.insertNode(G);const et=j.bind(Pn).filter(Cn).bind(K_),ft=H.bind(wn).filter(Cn).bind(K_);Y_(et,j,z,!0,B),Y_(ft,H,z,!1,B),z.collapse(!1)})(M,M.createContextualFragment(F),k.schema),k.selection.setRng(M),tc(k,M),np(k,F,D)})})(o,g,C),l=g=>{const C=u();C.collapse(!!g),f(C)},c=()=>e.getSelection?e.getSelection():e.document.selection,u=()=>{let g;const C=(S,N,T)=>{try{return N.compareBoundaryPoints(S,T)}catch{return-1}},k=e.document;if(gt(o.bookmark)&&!Ja(o)){const S=Zf(o);if(S.isSome())return S.map(N=>om(o,[N])[0]).getOr(k.createRange())}try{const S=c();S&&!Ws(S.anchorNode)&&(g=S.rangeCount>0?S.getRangeAt(0):k.createRange(),g=om(o,[g])[0])}catch{}if(g||(g=k.createRange()),El(g.startContainer)&&g.collapsed){const S=t.getRoot();g.setStart(S,0),g.setEnd(S,0)}return r&&s&&(C(g.START_TO_START,g,r)===0&&C(g.END_TO_END,g,r)===0?g=s:(r=null,s=null)),g},f=(g,C)=>{if(!(S=>!!S&&G_(S.startContainer)&&G_(S.endContainer))(g))return;const k=c();if(g=o.dispatch("SetSelectionRange",{range:g,forward:C}).range,k){s=g;try{k.removeAllRanges(),k.addRange(g)}catch{}C===!1&&k.extend&&(k.collapse(g.endContainer,g.endOffset),k.extend(g.startContainer,g.startOffset)),r=k.rangeCount>0?k.getRangeAt(0):null}if(!g.collapsed&&g.startContainer===g.endContainer&&k?.setBaseAndExtent&&g.endOffset-g.startOffset<2&&g.startContainer.hasChildNodes()){const S=g.startContainer.childNodes[g.startOffset];S&&S.nodeName==="IMG"&&(k.setBaseAndExtent(g.startContainer,g.startOffset,g.endContainer,g.endOffset),k.anchorNode===g.startContainer&&k.focusNode===g.endContainer||k.setBaseAndExtent(S,0,S,1))}o.dispatch("AfterSetSelectionRange",{range:g,forward:C})},p=()=>{const g=c(),C=g?.anchorNode,k=g?.focusNode;if(!g||!C||!k||Ws(C)||Ws(k))return!0;const S=t.createRng(),N=t.createRng();try{S.setStart(C,g.anchorOffset),S.collapse(!0),N.setStart(k,g.focusOffset),N.collapse(!0)}catch{return!0}return S.compareBoundaryPoints(S.START_TO_START,N)<=0},b={dom:t,win:e,serializer:n,editor:o,expand:(g={type:"word"})=>f(la(t).expand(u(),g)),collapse:l,setCursorLocation:(g,C)=>{const k=t.createRng();gt(g)&&gt(C)?(k.setStart(g,C),k.setEnd(g,C),f(k),l(!1)):(Df(t,k,o.getBody(),!0),f(k))},getContent:g=>((C,k={})=>((S,N,T)=>vn(S).selection.getContent(N,T))(C,k.format?k.format:"html",k))(o,g),setContent:a,getBookmark:(g,C)=>h.getBookmark(g,C),moveToBookmark:g=>h.moveToBookmark(g),select:(g,C)=>(((k,S,N)=>E.from(S).bind(T=>E.from(T.parentNode).map(D=>{const F=k.nodeIndex(T),M=k.createRng();return M.setStart(D,F),M.setEnd(D,F+1),N&&(Df(k,M,T,!0),Df(k,M,T,!1)),M})))(t,g,C).each(f),g),isCollapsed:()=>{const g=u(),C=c();return!(!g||g.item)&&(g.compareEndPoints?g.compareEndPoints("StartToEnd",g)===0:!C||g.collapsed)},isEditable:()=>{const g=u(),C=o.getBody().querySelectorAll('[data-mce-selected="1"]');return C.length>0?Jn(C,k=>t.isEditable(k.parentElement)):e0(t,g)},isForward:p,setNode:g=>(a(t.getOuterHTML(g)),g),getNode:()=>((g,C)=>{if(!C)return g;let k=C.startContainer,S=C.endContainer;const N=C.startOffset,T=C.endOffset;let D=C.commonAncestorContainer;C.collapsed||(k===S&&T-N<2&&k.hasChildNodes()&&(D=k.childNodes[N]),ut(k)&&ut(S)&&(k=k.length===N?s0(k.nextSibling,!0):k.parentNode,S=T===0?s0(S.previousSibling,!1):S.parentNode,k&&k===S&&(D=k)));const F=ut(D)?D.parentNode:D;return po(F)?F:g})(o.getBody(),u()),getSel:c,setRng:f,getRng:u,getStart:g=>o0(o.getBody(),u(),g),getEnd:g=>r0(o.getBody(),u(),g),getSelectedBlocks:(g,C)=>((k,S,N,T)=>{const D=[],F=k.getRoot(),M=k.getParent(N||o0(F,S,S.collapsed),k.isBlock),z=k.getParent(T||r0(F,S,S.collapsed),k.isBlock);if(M&&M!==F&&D.push(M),M&&z&&M!==z){let G;const B=new ge(M,F);for(;(G=B.next())&&G!==z;)k.isBlock(G)&&D.push(G)}return z&&M!==z&&z!==F&&D.push(z),D})(t,u(),g,C),normalize:()=>{const g=u(),C=c();if(!(Tf(C).length>1)&&sd(o)){const k=fd(t,g);return k.each(S=>{f(S,p())}),k.getOr(g)}return g},selectorChanged:(g,C)=>(i(g,C),b),selectorChangedWithUnbind:i,getScrollContainer:()=>{let g,C=t.getRoot();for(;C&&C.nodeName!=="BODY";){if(C.scrollHeight>C.clientHeight){g=C;break}C=C.parentNode}return g},scrollIntoView:(g,C)=>{gt(g)?((k,S,N)=>{(k.inline?TA:OA)(k,S,N)})(o,g,C):tc(o,u(),C)},placeCaretAt:(g,C)=>f(Bv(g,C,o.getDoc())),getBoundingClientRect:()=>{const g=u();return g.collapsed?tt.fromRangeStart(g).getClientRects()[0]:g.getBoundingClientRect()},destroy:()=>{e=r=s=null,y.destroy()}},h=Zl(b),y=Tv(b,o);return b.bookmarkManager=h,b.controlSelection=y,b},aT=(t,e,n)=>{lt.inArray(e,n)===-1&&(t.addAttributeFilter(n,(o,r)=>{let s=o.length;for(;s--;)o[s].attr(r,null)}),e.push(n))},lT=(t,e)=>{const n=["data-mce-selected"],o={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},r=e&&e.dom?e.dom:Ie.DOM,s=e&&e.schema?e.schema:gi(o),i=nl(o,s);return((a,l,c)=>{a.addAttributeFilter("data-mce-tabindex",(u,f)=>{let p=u.length;for(;p--;){const b=u[p];b.attr("tabindex",b.attr("data-mce-tabindex")),b.attr(f,null)}}),a.addAttributeFilter("src,href,style",(u,f)=>{const p="data-mce-"+f,b=l.url_converter,h=l.url_converter_scope;let y=u.length;for(;y--;){const g=u[y];let C=g.attr(p);C!==void 0?(g.attr(f,C.length>0?C:null),g.attr(p,null)):(C=g.attr(f),f==="style"?C=c.serializeStyle(c.parseStyle(C),g.name):b&&(C=b.call(h,C,f,g.name)),g.attr(f,C.length>0?C:null))}}),a.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const p=u[f];let b=p.attr("class");b&&(b=b.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),p.attr("class",b.length>0?b:null))}}),a.addAttributeFilter("data-mce-type",(u,f,p)=>{let b=u.length;for(;b--;){const h=u[b];h.attr("data-mce-type")==="bookmark"&&!p.cleanup&&(E.from(h.firstChild).exists(g=>{var C;return!Uc((C=g.value)!==null&&C!==void 0?C:"")})?h.unwrap():h.remove())}}),a.addNodeFilter("script,style",(u,f)=>{var p;const b=y=>y.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let h=u.length;for(;h--;){const y=u[h],g=y.firstChild,C=(p=g?.value)!==null&&p!==void 0?p:"";if(f==="script"){const k=y.attr("type");k&&y.attr("type",k==="mce-no/type"?null:k.replace(/^mce\-/,"")),l.element_format==="xhtml"&&g&&C.length>0&&(g.value=`// <![CDATA[
`+b(C)+`
// ]]>`)}else l.element_format==="xhtml"&&g&&C.length>0&&(g.value=`<!--
`+b(C)+`
-->`)}}),a.addNodeFilter("#comment",u=>{let f=u.length;for(;f--;){const p=u[f],b=p.value;l.preserve_cdata&&b?.indexOf("[CDATA[")===0?(p.name="#cdata",p.type=4,p.value=c.decode(b.replace(/^\[CDATA\[|\]\]$/g,""))):b?.indexOf("mce:protected ")===0&&(p.name="#text",p.type=3,p.raw=!0,p.value=unescape(b).substr(14))}}),a.addNodeFilter("xml:namespace,input",(u,f)=>{let p=u.length;for(;p--;){const b=u[p];b.type===7?b.remove():b.type===1&&(f!=="input"||b.attr("type")||b.attr("type","text"))}}),a.addAttributeFilter("data-mce-type",u=>{Y(u,f=>{f.attr("data-mce-type")==="format-caret"&&(f.isEmpty(a.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(u,f)=>{let p=u.length;for(;p--;)u[p].attr(f,null)}),l.remove_trailing_brs&&((u,f,p)=>{f.addNodeFilter("br",(b,h,y)=>{const g=lt.extend({},p.getBlockElements()),C=p.getNonEmptyElements(),k=p.getWhitespaceElements();g.body=1;const S=N=>N.name in g||Fu(p,N);for(let N=0,T=b.length;N<T;N++){let D=b[N],F=D.parent;if(F&&S(F)&&D===F.lastChild){let M=D.prev;for(;M;){const z=M.name;if(z!=="span"||M.attr("data-mce-type")!=="bookmark"){z==="br"&&(D=null);break}M=M.prev}if(D&&(D.remove(),ic(p,C,k,F))){const z=p.getElementRule(F.name);z&&(z.removeEmpty?F.remove():z.paddEmpty&&Em(u,y,S,F))}}else{let M=D;for(;F&&F.firstChild===M&&F.lastChild===M&&(M=F,!g[F.name]);)F=F.parent;if(M===F){const z=new go("#text",3);z.value=Le,D.replace(z)}}}})})(l,a,a.schema)})(i,o,r),{schema:s,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(a,l={})=>{const c={format:"html",...l},u=((b,h,y)=>((g,C)=>gt(g)&&g.hasEventListeners("PreProcess")&&!C.no_events)(b,y)?((g,C,k)=>{let S;const N=g.dom;let T=C.cloneNode(!0);const D=document.implementation;if(D.createHTMLDocument){const F=D.createHTMLDocument("");lt.each(T.nodeName==="BODY"?T.childNodes:[T],M=>{F.body.appendChild(F.importNode(M,!0))}),T=T.nodeName!=="BODY"?F.body.firstChild:F.body,S=N.doc,N.doc=F}return((F,M)=>{F.dispatch("PreProcess",M)})(g,{...k,node:T}),S&&(N.doc=S),T})(b,h,y):h)(e,a,c),f=((b,h,y)=>{const g=or(y.getInner?h.innerHTML:b.getOuterHTML(h));return y.selection||zc(P(h))?g:lt.trim(g)})(r,u,c),p=((b,h,y)=>{const g=y.selection?{forced_root_block:!1,...y}:y,C=b.parse(h,g);return(k=>{const S=T=>T?.name==="br",N=k.lastChild;if(S(N)){const T=N.prev;S(T)&&(N.remove(),T.remove())}})(C),C})(i,f,c);return c.format==="tree"?p:((b,h,y,g,C)=>{const k=((S,N,T)=>xi(S,N).serialize(T))(h,y,g);return((S,N,T)=>!N.no_events&&S?((F,M)=>F.dispatch("PostProcess",M))(S,{...N,content:T}).content:T)(b,C,k)})(e,o,s,p,c)},addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:St(aT,i,n),getTempAttrs:yt(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},Z_=(t,e)=>{const n=lT(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},cp=(t,e,n={})=>{const o=((r,s)=>({format:"html",...r,set:!0,content:s}))(n,e);return ep(t,o).map(r=>{const s=((i,a,l)=>lp(i).editor.setContent(a,l))(t,r.content,r);return np(t,s.html,r),s.content}).getOr(e)},cT="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),dT=[],uT="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),J_=[],tC=(t,e)=>{const n=Wt(e,o=>Ht(t,o));return qr(n)},fT=t=>{const e=tC(t,cT),n=t.forced_root_block;return n!==!1&&n!==""||e.push("forced_root_block (false only)"),qr(e)},mT=t=>tC(t,dT),eC=(t,e)=>{const n=lt.makeMap(t.plugins," "),o=Wt(e,r=>Ht(n,r));return qr(o)},pT=t=>eC(t,uT),hT=t=>eC(t,J_.map(e=>e.name)),gT=t=>Ue(J_,e=>e.name===t).fold(()=>t,e=>e.replacedWith?`${t}, replaced by ${e.replacedWith}`:t),Md=Ie.DOM,Id=t=>E.from(t).each(e=>e.destroy()),Fd=(()=>{const t={};return{add:(e,n)=>{t[e]=n},get:e=>t[e]?t[e]:{icons:{}},has:e=>Ht(t,e)}})(),ol=ho.ModelManager,nC=(t,e)=>e.dom[t],oC=(t,e)=>parseInt(I(e,t),10),bT=St(nC,"clientWidth"),vT=St(nC,"clientHeight"),yT=St(oC,"margin-top"),_T=St(oC,"margin-left"),rC=t=>{const e=[],n=()=>{const l=t.theme;return l&&l.getNotificationManagerImpl?l.getNotificationManagerImpl():(()=>{const c=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:c,close:c,getArgs:c}})()},o=()=>E.from(e[0]),r=()=>{o().each(l=>{l.reposition()})},s=l=>{Vo(e,c=>c===l).each(c=>{e.splice(c,1)})},i=(l,c=!0)=>t.removed||!(u=>{return(f=u.inline?u.getBody():u.getContentAreaContainer(),E.from(f).map(P)).map(lo).getOr(!1);var f})(t)?{}:(c&&t.dispatch("BeforeOpenNotification",{notification:l}),Ue(e,u=>{return f=n().getArgs(u),p=l,!(f.type!==p.type||f.text!==p.text||f.progressBar||f.timeout||p.progressBar||p.timeout);var f,p}).getOrThunk(()=>{t.editorManager.setActive(t);const u=n().open(l,()=>{s(u)},()=>t0(t));return(f=>{e.push(f)})(u),r(),t.dispatch("OpenNotification",{notification:{...u}}),u})),a=yt(e);return(l=>{l.on("SkinLoaded",()=>{const c=nS(l);c&&i({text:c,type:"warning",timeout:0},!1),r()}),l.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(r)}),l.on("remove",()=>{Y(e.slice(),c=>{n().close(c)})}),l.addShortcut("alt+F12","Focus to notification",()=>o().map(c=>P(c.getEl())).each(c=>Kv(c)))})(t),{open:i,close:()=>{o().each(l=>{n().close(l),s(l),r()})},getNotifications:a}},rl=ho.PluginManager,ma=ho.ThemeManager,sC=t=>{let e=[];const n=()=>{const i=t.theme;return i&&i.getWindowManagerImpl?i.getWindowManagerImpl():(()=>{const a=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:a,openUrl:a,alert:a,confirm:a,close:a}})()},o=(i,a)=>(...l)=>a?a.apply(i,l):void 0,r=i=>{(a=>{t.dispatch("CloseWindow",{dialog:a})})(i),e=Wt(e,a=>a!==i),e.length===0&&t.focus()},s=i=>{t.editorManager.setActive(t),hd(t),t.ui.show();const a=i();return(l=>{e.push(l),(c=>{t.dispatch("OpenWindow",{dialog:c})})(l)})(a),a};return t.on("remove",()=>{Y(e,i=>{n().close(i)})}),{open:(i,a)=>s(()=>n().open(i,a,r)),openUrl:i=>s(()=>n().openUrl(i,r)),alert:(i,a,l)=>{const c=n();c.alert(i,o(l||c,a))},confirm:(i,a,l)=>{const c=n();c.confirm(i,o(l||c,a))},close:()=>{E.from(e[e.length-1]).each(i=>{n().close(i),r(i)})}}},iC=(t,e)=>{t.notificationManager.open({type:"error",text:e})},jd=(t,e)=>{t._skinLoaded?iC(t,e):t.on("SkinLoaded",()=>{iC(t,e)})},fc=(t,e,n)=>{wv(t,e,{message:n}),console.error(n)},mc=(t,e,n)=>n?`Failed to load ${t}: ${n} from url ${e}`:`Failed to load ${t} url: ${e}`,$d=(t,...e)=>{const n=window.console;n&&(n.error?n.error(t,...e):n.log(t,...e))},dp=t=>"content/"+t+"/content.css",aC=(t,e)=>{const n=t.editorManager.baseURL+"/skins/content",o=`content${t.editorManager.suffix}.css`;return re(e,r=>(s=>tinymce.Resource.has(dp(s)))(r)?r:(s=>/^[a-z0-9\-]+$/i.test(s))(r)&&!t.inline?`${n}/${r}/${o}`:t.documentBaseURI.toAbsolute(r))},CT=(t,e)=>{const n={};return{findAll:(o,r=ze)=>{const s=Wt((a=>a?nn(a.getElementsByTagName("img")):[])(o),a=>{const l=a.src;return!a.hasAttribute("data-mce-bogus")&&!a.hasAttribute("data-mce-placeholder")&&!(!l||l===fe.transparentSrc)&&(Xe(l,"blob:")?!t.isUploaded(l)&&r(a):!!Xe(l,"data:")&&r(a))}),i=re(s,a=>{const l=a.src;if(Ht(n,l))return n[l].then(c=>Dt(c)?c:{image:a,blobInfo:c.blobInfo});{const c=((u,f)=>{const p=()=>Promise.reject("Invalid data URI");if(Xe(f,"blob:")){const y=u.getByUri(f);return gt(y)?Promise.resolve(y):(b=f,Xe(b,"blob:")?(g=>fetch(g).then(C=>C.ok?C.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${g} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(b):Xe(b,"data:")?(h=b,new Promise((g,C)=>{qm(h).bind(({type:k,data:S,base64Encoded:N})=>s_(k,S,N)).fold(()=>C("Invalid data URI"),g)})):Promise.reject("Unknown URI format")).then(g=>i_(g).then(C=>a_(C,!1,k=>E.some(l_(u,g,k))).getOrThunk(p)))}var b,h;return Xe(f,"data:")?c_(u,f).fold(p,y=>Promise.resolve(y)):Promise.reject("Unknown image data format")})(e,l).then(u=>(delete n[l],{image:a,blobInfo:u})).catch(u=>(delete n[l],u));return n[l]=c,c}});return Promise.all(i)}}},lC=()=>{let t={};const e=(o,r)=>({status:o,resultUri:r}),n=o=>o in t;return{hasBlobUri:n,getResultUri:o=>{const r=t[o];return r?r.resultUri:null},isPending:o=>!!n(o)&&t[o].status===1,isUploaded:o=>!!n(o)&&t[o].status===2,markPending:o=>{t[o]=e(1,null)},markUploaded:(o,r)=>{t[o]=e(2,r)},removeFailed:o=>{delete t[o]},destroy:()=>{t={}}}};let wT=0;const xT=(t,e)=>{const n={},o=(l,c)=>new Promise((u,f)=>{const p=new XMLHttpRequest;p.open("POST",e.url),p.withCredentials=e.credentials,p.upload.onprogress=h=>{c(h.loaded/h.total*100)},p.onerror=()=>{f("Image upload failed due to a XHR Transport error. Code: "+p.status)},p.onload=()=>{if(p.status<200||p.status>=300)return void f("HTTP Error: "+p.status);const h=JSON.parse(p.responseText);var y,g;h&&Dt(h.location)?u((y=e.basePath,g=h.location,y?y.replace(/\/$/,"")+"/"+g.replace(/^\//,""):g)):f("Invalid JSON: "+p.responseText)};const b=new FormData;b.append("file",l.blob(),l.filename()),p.send(b)}),r=be(e.handler)?e.handler:o,s=(l,c)=>({url:c,blobInfo:l,status:!0}),i=(l,c)=>({url:"",blobInfo:l,status:!1,error:c}),a=(l,c)=>{lt.each(n[l],u=>{u(c)}),delete n[l]};return{upload:(l,c)=>e.url||r!==o?((u,f)=>(u=lt.grep(u,p=>!t.isUploaded(p.blobUri())),Promise.all(lt.map(u,p=>t.isPending(p.blobUri())?(b=>{const h=b.blobUri();return new Promise(y=>{n[h]=n[h]||[],n[h].push(y)})})(p):((b,h,y)=>(t.markPending(b.blobUri()),new Promise(g=>{let C,k;try{const S=()=>{C&&(C.close(),k=Lt)},N=D=>{S(),t.markUploaded(b.blobUri(),D),a(b.blobUri(),s(b,D)),g(s(b,D))},T=D=>{S(),t.removeFailed(b.blobUri()),a(b.blobUri(),i(b,D)),g(i(b,D))};k=D=>{D<0||D>100||E.from(C).orThunk(()=>E.from(y).map(us)).each(F=>{C=F,F.progressBar.value(D)})},h(b,k).then(N,D=>{T(Dt(D)?{message:D}:D)})}catch(S){g(i(b,S))}})))(p,r,f)))))(l,c):new Promise(u=>{u([])})}},cC=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),dC=(t,e)=>xT(e,{url:Uk(t),basePath:qk(t),credentials:Wk(t),handler:Vk(t)}),ET=t=>{const e=(()=>{let y=[];const g=S=>{if(!S.blob||!S.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const N=S.id||"blobid"+wT+++(()=>{const M=()=>Math.round(4294967295*Cg()).toString(36);return"s"+new Date().getTime().toString(36)+M()+M()+M()})(),T=S.name||N,D=S.blob;var F;return{id:yt(N),name:yt(T),filename:yt(S.filename||T+"."+(F=D.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[F.toLowerCase()]||"dat")),blob:yt(D),base64:yt(S.base64),blobUri:yt(S.blobUri||URL.createObjectURL(D)),uri:yt(S.uri)}},C=S=>Ue(y,S).getOrUndefined(),k=S=>C(N=>N.id()===S);return{create:(S,N,T,D,F)=>{if(Dt(S))return g({id:S,name:D,filename:F,blob:N,base64:T});if(Xt(S))return g(S);throw new Error("Unknown input type")},add:S=>{k(S.id())||y.push(S)},get:k,getByUri:S=>C(N=>N.blobUri()===S),getByData:(S,N)=>C(T=>T.base64()===S&&T.blob().type===N),findFirst:C,removeByUri:S=>{y=Wt(y,N=>N.blobUri()!==S||(URL.revokeObjectURL(N.blobUri()),!1))},destroy:()=>{Y(y,S=>{URL.revokeObjectURL(S.blobUri())}),y=[]}}})();let n,o;const r=lC(),s=[],i=y=>g=>t.selection?y(g):[],a=(y,g,C)=>{let k=0;do k=y.indexOf(g,k),k!==-1&&(y=y.substring(0,k)+C+y.substr(k+g.length),k+=C.length-g.length+1);while(k!==-1);return y},l=(y,g,C)=>{const k=`src="${C}"${C===fe.transparentSrc?' data-mce-placeholder="1"':""}`;return y=a(y,`src="${g}"`,k),a(y,'data-mce-src="'+g+'"','data-mce-src="'+C+'"')},c=(y,g)=>{Y(t.undoManager.data,C=>{C.type==="fragmented"?C.fragments=re(C.fragments,k=>l(k,y,g)):C.content=l(C.content,y,g)})},u=()=>(n||(n=dC(t,r)),b().then(i(y=>{const g=re(y,C=>C.blobInfo);return n.upload(g,cC(t)).then(i(C=>{const k=[];let S=!1;const N=re(C,(T,D)=>{const{blobInfo:F,image:M}=y[D];let z=!1;return T.status&&Hk(t)?(T.url&&!hn(M.src,T.url)&&(S=!0),e.removeByUri(M.src),Os(t)||((G,B)=>{const j=t.convertURL(B,"src");var H;c(G.src,B),tr(P(G),{src:fb(t)?(H=B,H+(H.indexOf("?")===-1?"?":"&")+new Date().getTime()):B,"data-mce-src":j})})(M,T.url)):T.error&&(T.error.remove&&(c(M.src,fe.transparentSrc),k.push(M),z=!0),((G,B)=>{jd(G,os.translate(["Failed to upload image: {0}",B]))})(t,T.error.message)),{element:M,status:T.status,uploadUri:T.url,blobInfo:F,removed:z}});return k.length>0&&!Os(t)?t.undoManager.transact(()=>{Y(an(k),T=>{const D=$n(T);Yt(T),D.each((F=>M=>{((z,G)=>z.dom.isEmpty(G.dom)&&gt(z.schema.getTextBlockElements()[ue(G)]))(F,M)&&At(M,ht('<br data-mce-bogus="1" />'))})(t)),e.removeByUri(T.dom.src)})}):S&&t.undoManager.dispatchChange(),N}))}))),f=()=>ub(t)?u():Promise.resolve([]),p=y=>Jn(s,g=>g(y)),b=()=>(o||(o=CT(r,e)),o.findAll(t.getBody(),p).then(i(y=>{const g=Wt(y,C=>Dt(C)?(jd(t,C),!1):C.uriType!=="blob");return Os(t)||Y(g,C=>{c(C.image.src,C.blobInfo.blobUri()),C.image.src=C.blobInfo.blobUri(),C.image.removeAttribute("data-mce-src")}),g}))),h=y=>y.replace(/src="(blob:[^"]+)"/g,(g,C)=>{const k=r.getResultUri(C);if(k)return'src="'+k+'"';let S=e.getByUri(C);return S||(S=tn(t.editorManager.get(),(N,T)=>N||T.editorUpload&&T.editorUpload.blobCache.getByUri(C),void 0)),S?'src="data:'+S.blob().type+";base64,"+S.base64()+'"':g});return t.on("SetContent",()=>{ub(t)?f():b()}),t.on("RawSaveContent",y=>{y.content=h(y.content)}),t.on("GetContent",y=>{y.source_view||y.format==="raw"||y.format==="tree"||(y.content=h(y.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",y=>{Y(y,g=>{const C=g.attr("src");if(!C||e.getByUri(C))return;const k=r.getResultUri(C);k&&g.attr("src",k)})})}),{blobCache:e,addFilter:y=>{s.push(y)},uploadImages:u,uploadImagesAuto:f,scanForImages:b,destroy:()=>{e.destroy(),r.destroy(),o=n=null}}},uC={remove_similar:!0,inherit:!1},sl={selector:"td,th",...uC},kT={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...sl},tablecellverticalalign:{styles:{"vertical-align":"%value"},...sl},tablecellbordercolor:{styles:{borderColor:"%value"},...sl},tablecellclass:{classes:["%value"],...sl},tableclass:{selector:"table",classes:["%value"],...uC},tablecellborderstyle:{styles:{borderStyle:"%value"},...sl},tablecellborderwidth:{styles:{borderWidth:"%value"},...sl}},ST=yt(kT),Hd=lt.each,Cr=Ie.DOM,up=t=>gt(t)&&Xt(t),fC=(t,e)=>{const n=e&&e.schema||gi({}),o=i=>{const a=Dt(i)?{name:i,classes:[],attrs:{}}:i,l=Cr.create(a.name);return((c,u)=>{u.classes.length>0&&Cr.addClass(c,u.classes.join(" ")),Cr.setAttribs(c,u.attrs)})(l,a),l},r=(i,a,l)=>{let c;const u=a[0],f=up(u)?u.name:void 0,p=((y,g)=>{const C=n.getElementRule(y.nodeName.toLowerCase()),k=C?.parentsRequired;return!(!k||!k.length)&&(g&&pe(k,g)?g:k[0])})(i,f);if(p)f===p?(c=u,a=a.slice(1)):c=p;else if(u)c=u,a=a.slice(1);else if(!l)return i;const b=c?o(c):Cr.create("div");b.appendChild(i),l&&lt.each(l,y=>{const g=o(y);b.insertBefore(g,i)});const h=up(c)?c.siblings:void 0;return r(b,a,h)},s=Cr.create("div");if(t.length>0){const i=t[0],a=o(i),l=up(i)?i.siblings:void 0;s.appendChild(r(a,t.slice(1),l))}return s},AT=t=>{let e="div";const n={name:e,classes:[],attrs:{},selector:t=lt.trim(t)};return t!=="*"&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(o,r,s,i,a)=>{switch(r){case"#":n.attrs.id=s;break;case".":n.classes.push(s);break;case":":lt.inArray("checked disabled enabled read-only required".split(" "),s)!==-1&&(n.attrs[s]=s)}if(i==="["){const l=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);l&&(n.attrs[l[1]]=l[2])}return""})),n.name=e||"div",n},NT=(t,e)=>{let n="",o=iS(t);if(o==="")return"";const r=b=>Dt(b)?b.replace(/%(\w+)/g,""):"",s=(b,h)=>Cr.getStyle(h??t.getBody(),b,!0);if(Dt(e)){const b=t.formatter.get(e);if(!b)return"";e=b[0]}if("preview"in e){const b=e.preview;if(b===!1)return"";o=b||o}let i,a=e.block||e.inline||"span";const l=(c=e.selector,Dt(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),lt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),b=>{const h=lt.map(b.split(/(?:~\+|~|\+)/),AT),y=h.pop();return h.length&&(y.siblings=h),y}).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=e.selector,i=fC(l,t)):i=fC([a],t);const u=Cr.select(a,i)[0]||i.firstChild;Hd(e.styles,(b,h)=>{const y=r(b);y&&Cr.setStyle(u,h,y)}),Hd(e.attributes,(b,h)=>{const y=r(b);y&&Cr.setAttrib(u,h,y)}),Hd(e.classes,b=>{const h=r(b);Cr.hasClass(u,h)||Cr.addClass(u,h)}),t.dispatch("PreviewFormats"),Cr.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i);const f=s("fontSize"),p=/px$/.test(f)?parseInt(f,10):0;return Hd(o.split(" "),b=>{let h=s(b,u);if(!(b==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(h)&&(h=s(b),Sl(h).toLowerCase()==="#ffffff")||b==="color"&&Sl(h).toLowerCase()==="#000000")){if(b==="font-size"&&/em|%$/.test(h)){if(p===0)return;h=parseFloat(h)/(/%$/.test(h)?100:1)*p+"px"}b==="border"&&h&&(n+="padding:0 2px;"),n+=b+":"+h+";"}}),t.dispatch("AfterPreviewFormats"),Cr.remove(i),n},mC=t=>{const e=(o=>{const r={},s=(i,a)=>{i&&(Dt(i)?(Oe(a)||(a=[a]),Y(a,l=>{De(l.deep)&&(l.deep=!br(l)),De(l.split)&&(l.split=!br(l)||xn(l)),De(l.remove)&&br(l)&&!xn(l)&&(l.remove="none"),br(l)&&xn(l)&&(l.mixed=!0,l.block_expand=!0),Dt(l.classes)&&(l.classes=l.classes.split(/\s+/))}),r[i]=a):_e(i,(l,c)=>{s(c,l)}))};return s((i=>{const a=i.dom,l=i.schema.type,c={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:u=>{a.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:u=>{a.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const u={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return l!=="html4"?[p,u,f]:[u,p,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(u,f,p)=>Tt(u)&&u.hasAttribute("href"),onformat:(u,f,p)=>{lt.each(p,(b,h)=>{a.setAttrib(u,h,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":u=>{var f;return(f=u?.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return lt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),u=>{c[u]={block:u,remove:"all"}}),c})(o)),s(ST()),s(sS(o)),{get:i=>gt(i)?r[i]:r,has:i=>Ht(r,i),register:s,unregister:i=>(i&&r[i]&&delete r[i],r)}})(t),n=Nn({});return(o=>{o.addShortcut("meta+b","","Bold"),o.addShortcut("meta+i","","Italic"),o.addShortcut("meta+u","","Underline");for(let r=1;r<=6;r++)o.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);o.addShortcut("access+7","",["FormatBlock",!1,"p"]),o.addShortcut("access+8","",["FormatBlock",!1,"div"]),o.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(o=>{o.on("mouseup keydown",r=>{var s;((i,a,l)=>{const c=i.selection,u=i.getBody();Fm(i,null,l),a!==8&&a!==46||!c.isCollapsed()||c.getStart().innerHTML!==ac||Fm(i,ra(u,c.getStart()),!0),a!==37&&a!==39||Fm(i,ra(u,c.getStart()),!0)})(o,r.keyCode,(s=o.selection.getRng().endContainer,ut(s)&&Go(s.data,Le)))})})(t),Os(t)||((o,r)=>{o.set({}),r.on("NodeChange",s=>{n_(r,s.element,o.get())}),r.on("FormatApply FormatRemove",s=>{const i=E.from(s.node).map(a=>Gl(a)?a:a.startContainer).bind(a=>Tt(a)?E.some(a):E.from(a.parentElement)).getOrThunk(()=>Jy(r));n_(r,i,o.get())})})(n,t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:(o,r,s)=>{((i,a,l,c)=>{vn(i).formatter.apply(a,l,c)})(t,o,r,s)},remove:(o,r,s,i)=>{((a,l,c,u,f)=>{vn(a).formatter.remove(l,c,u,f)})(t,o,r,s,i)},toggle:(o,r,s)=>{((i,a,l,c)=>{vn(i).formatter.toggle(a,l,c)})(t,o,r,s)},match:(o,r,s,i)=>((a,l,c,u,f)=>vn(a).formatter.match(l,c,u,f))(t,o,r,s,i),closest:o=>((r,s)=>vn(r).formatter.closest(s))(t,o),matchAll:(o,r)=>((s,i,a)=>vn(s).formatter.matchAll(i,a))(t,o,r),matchNode:(o,r,s,i)=>((a,l,c,u,f)=>vn(a).formatter.matchNode(l,c,u,f))(t,o,r,s,i),canApply:o=>((r,s)=>vn(r).formatter.canApply(s))(t,o),formatChanged:(o,r,s,i)=>((a,l,c,u,f,p)=>vn(a).formatter.formatChanged(l,c,u,f,p))(t,n,o,r,s,i),getCssText:St(NT,t)}},pC=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},hC=t=>{const e=Ks(),n=Nn(0),o=Nn(0),r={data:[],typing:!1,beforeChange:()=>{((s,i,a)=>{vn(s).undoManager.beforeChange(i,a)})(t,n,e)},add:(s,i)=>((a,l,c,u,f,p,b)=>vn(a).undoManager.add(l,c,u,f,p,b))(t,r,o,n,e,s,i),dispatchChange:()=>{t.setDirty(!0);const s=Bd(t);s.bookmark=mf(t.selection),t.dispatch("change",{level:s,lastLevel:Ar(r.data,o.get()).getOrUndefined()})},undo:()=>((s,i,a,l)=>vn(s).undoManager.undo(i,a,l))(t,r,n,o),redo:()=>((s,i,a)=>vn(s).undoManager.redo(i,a))(t,o,r.data),clear:()=>{((s,i,a)=>{vn(s).undoManager.clear(i,a)})(t,r,o)},reset:()=>{((s,i)=>{vn(s).undoManager.reset(i)})(t,r)},hasUndo:()=>((s,i,a)=>vn(s).undoManager.hasUndo(i,a))(t,r,o),hasRedo:()=>((s,i,a)=>vn(s).undoManager.hasRedo(i,a))(t,r,o),transact:s=>((i,a,l,c)=>vn(i).undoManager.transact(a,l,c))(t,r,n,s),ignore:s=>{((i,a,l)=>{vn(i).undoManager.ignore(a,l)})(t,n,s)},extra:(s,i)=>{((a,l,c,u,f)=>{vn(a).undoManager.extra(l,c,u,f)})(t,r,o,s,i)}};return Os(t)||((s,i,a)=>{const l=Nn(!1),c=u=>{Pd(i,!1,a),i.add({},u)};s.on("init",()=>{i.add()}),s.on("BeforeExecCommand",u=>{const f=u.command;pC(f)||(q_(i,a),i.beforeChange())}),s.on("ExecCommand",u=>{const f=u.command;pC(f)||c(u)}),s.on("ObjectResizeStart cut",()=>{i.beforeChange()}),s.on("SaveContent ObjectResized blur",c),s.on("dragend",c),s.on("keyup",u=>{const f=u.keyCode;if(u.isDefaultPrevented())return;const p=fe.os.isMacOS()&&u.key==="Meta";(f>=33&&f<=36||f>=37&&f<=40||f===45||u.ctrlKey||p)&&(c(),s.nodeChanged()),f!==46&&f!==8||s.nodeChanged(),l.get()&&i.typing&&!ip(Bd(s),i.data[0])&&(s.isDirty()||s.setDirty(!0),s.dispatch("TypingUndo"),l.set(!1),s.nodeChanged())}),s.on("keydown",u=>{const f=u.keyCode;if(u.isDefaultPrevented())return;if(f>=33&&f<=36||f>=37&&f<=40||f===45)return void(i.typing&&c(u));const p=u.ctrlKey&&!u.altKey||u.metaKey;if((f<16||f>20)&&f!==224&&f!==91&&!i.typing&&!p)return i.beforeChange(),Pd(i,!0,a),i.add({},u),void l.set(!0);(fe.os.isMacOS()?u.metaKey:u.ctrlKey&&!u.altKey)&&i.beforeChange()}),s.on("mousedown",u=>{i.typing&&c(u)}),s.on("input",u=>{var f;u.inputType&&(u.inputType==="insertReplacementText"||(f=u).inputType==="insertText"&&f.data===null||(p=>p.inputType==="insertFromPaste"||p.inputType==="insertFromDrop")(u))&&c(u)}),s.on("AddUndo Undo Redo ClearUndos",u=>{u.isDefaultPrevented()||s.nodeChanged()})})(t,r,n),(s=>{s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo")})(t),r},TT=[9,27,Ct.HOME,Ct.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ct.DOWN,Ct.UP,Ct.LEFT,Ct.RIGHT].concat(fe.browser.isFirefox()?[224]:[]),gC="data-mce-placeholder",bC=t=>t.type==="keydown"||t.type==="keyup",vC=t=>{const e=t.keyCode;return e===Ct.BACKSPACE||e===Ct.DELETE},RT=(t,e)=>({from:t,to:e}),fp=(t,e)=>{const n=P(t),o=P(e.container());return xd(n,o).map(r=>((s,i)=>({block:s,position:i}))(r,e))},yC=(t,e)=>Vn(e,n=>Ml(n)||Pr(n.dom),n=>Ft(n,t)).filter(En).getOr(t),_C=(t,e)=>{const n=((o,r)=>{const s=Ce(o);return Vo(s,i=>r.isBlock(ue(i))).fold(yt(s),i=>s.slice(0,i))})(t,e);return Y(n,Yt),n},CC=(t,e,n)=>{const o=Gs(n,e);return Ue(o.reverse(),r=>Yn(t,r)).each(Yt)},OT=(t,e,n,o,r)=>{if(Yn(o,n))return bi(n),Gn(n.dom);((i,a)=>Wt(Gr(a),l=>!Yn(i,l)).length===0)(o,r)&&Yn(o,e)&&Ot(r,Mt("br"));const s=Ho(n.dom,tt.before(r.dom));return Y(_C(e,o),i=>{Ot(r,i)}),CC(o,t,e),s},DT=(t,e,n,o)=>{if(Yn(o,n)){if(Yn(o,e)){const s=a=>{const l=(c,u)=>kn(c).fold(()=>u,f=>((p,b)=>p.isInline(ue(b)))(o,f)?l(f,u.concat(Qi(f))):u);return l(a,[])},i=Ur(s(n),(a,l)=>(ye(a,l),l),ja());de(e),At(e,i)}return Yt(n),Gn(e.dom)}const r=Mr(n.dom);return Y(_C(e,o),s=>{At(n,s)}),CC(o,t,e),r},wC=(t,e)=>{Ka(t,e.dom).bind(n=>E.from(n.getNode())).map(P).filter(Ji).each(Yt)},xC=(t,e,n,o)=>(wC(!0,e),wC(!1,n),((r,s)=>mn(s,r)?((i,a)=>{const l=Gs(a,i);return E.from(l[l.length-1])})(s,r):E.none())(e,n).fold(St(DT,t,e,n,o),St(OT,t,e,n,o))),EC=(t,e,n,o,r)=>e?xC(t,o,n,r):xC(t,n,o,r),mp=(t,e)=>{const n=P(t.getBody());return((r,s,i,a)=>a.collapsed?((l,c,u,f)=>{const p=fp(c,tt.fromRangeStart(f)),b=p.bind(h=>pr(u,c,h.position).bind(y=>fp(c,y).map(g=>((C,k,S,N)=>Qe(N.position.getNode())&&!Yn(C,N.block)?Ka(!1,N.block.dom).bind(T=>T.isEqual(N.position)?pr(S,k,T).bind(D=>fp(k,D)):E.some(N)).getOr(N):N)(l,c,u,g))));return gn(p,b,RT).filter(h=>(y=>!Ft(y.from.block,y.to.block))(h)&&((y,g)=>{const C=P(y);return Ft(yC(C,g.from.block),yC(C,g.to.block))})(c,h)&&(y=>$e(y.from.block.dom)===!1&&$e(y.to.block.dom)===!1)(h)&&(y=>{const g=C=>Ag(C)||Pu(C.dom)||Fa(C);return g(y.from.block)&&g(y.to.block)})(h)&&(y=>!(mn(y.to.block,y.from.block)||mn(y.from.block,y.to.block)))(h))})(r,s,i,a):E.none())(t.schema,n.dom,e,t.selection.getRng()).map(r=>()=>{EC(n,e,r.from.block,r.to.block,t.schema).each(s=>{t.selection.setRng(s.toRange())})})},kC=(t,e)=>{const n=P(e),o=St(Ft,t);return jo(n,Ml,o).isSome()},LT=t=>{const e=P(t.getBody());return((n,o)=>{const r=Ho(n.dom,tt.fromRangeStart(o)).isNone(),s=ko(n.dom,tt.fromRangeEnd(o)).isNone();return!((i,a)=>kC(i,a.startContainer)||kC(i,a.endContainer))(n,o)&&r&&s})(e,t.selection.getRng())?(n=>E.some(()=>{n.setContent(""),n.selection.setCursorLocation()}))(t):((n,o,r)=>{const s=o.getRng();return gn(xd(n,P(s.startContainer)),xd(n,P(s.endContainer)),(i,a)=>Ft(i,a)?E.none():E.some(()=>{s.deleteContents(),EC(n,!0,i,a,r).each(l=>{o.setRng(l.toRange())})})).getOr(E.none())})(e,t.selection,t.schema)},pp=(t,e)=>t.selection.isCollapsed()?E.none():LT(t),Qs=(t,e,n,o,r)=>E.from(e._selectionOverrides.showCaret(t,n,o,r)),pc=(t,e)=>t.dispatch("BeforeObjectSelected",{target:e}).isDefaultPrevented()?E.none():E.some((n=>{const o=n.ownerDocument.createRange();return o.selectNode(n),o})(e)),hp=(t,e,n)=>e.collapsed?((o,r,s)=>{const i=wf(1,o.getBody(),r),a=tt.fromRangeStart(i),l=a.getNode();if(Ul(l))return Qs(1,o,l,!a.isAtEnd(),!1);const c=a.getNode(!0);if(Ul(c))return Qs(1,o,c,!1,!1);const u=ua(o.dom.getRoot(),a.getNode());return Ul(u)?Qs(1,o,u,!1,s):E.none()})(t,e,n).getOr(e):e,BT=t=>ki(t)||ec(t),PT=t=>Si(t)||nc(t),SC=(t,e,n,o,r,s)=>{Qs(o,t,s.getNode(!r),r,!0).each(i=>{if(e.collapsed){const a=e.cloneRange();r?a.setEnd(i.startContainer,i.startOffset):a.setStart(i.endContainer,i.endOffset),a.deleteContents()}else e.deleteContents();t.selection.setRng(i)}),((i,a)=>{ut(a)&&a.data.length===0&&i.remove(a)})(t.dom,n)},gp=(t,e)=>((n,o)=>{const r=n.selection.getRng();if(!ut(r.commonAncestorContainer))return E.none();const s=o?Rn.Forwards:Rn.Backwards,i=Ns(n.getBody()),a=St(xf,o?i.next:i.prev),l=o?BT:PT,c=Yl(s,n.getBody(),r),u=a(c),f=u&&yr(o,u);if(!f||!ed(c,f))return E.none();if(l(f))return E.some(()=>SC(n,r,c.getNode(),s,o,f));const p=a(f);return p&&l(p)&&ed(f,p)?E.some(()=>SC(n,r,c.getNode(),s,o,p)):E.none()})(t,e),bp=(t,e)=>{const n=t.getBody();return e?Gn(n).filter(ki):Mr(n).filter(Si)},vp=t=>{const e=t.selection.getRng();return!e.collapsed&&(bp(t,!0).exists(n=>n.isEqual(tt.fromRangeStart(e)))||bp(t,!1).exists(n=>n.isEqual(tt.fromRangeEnd(e))))},wr=ks([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),AC=(t,e,n,o)=>pr(e,t,n).bind(r=>{return s=r.getNode(),gt(s)&&(Ml(P(s))||Fa(P(s)))||((i,a,l,c,u)=>{const f=p=>u.isInline(p.nodeName.toLowerCase())&&!Ss(l,c,i);return jb(!a,l).fold(()=>jb(a,c).fold(Be,f),f)})(t,e,n,r,o)?E.none():e&&$e(r.getNode())||!e&&$e(r.getNode(!0))?((i,a,l,c,u)=>{const f=u.getNode(!l);return xd(P(a),P(c.getNode())).map(p=>Yn(i,p)?wr.remove(p.dom):wr.moveToElement(f)).orThunk(()=>E.some(wr.moveToElement(f)))})(o,t,e,n,r):e&&Si(n)||!e&&ki(n)?E.some(wr.moveToPosition(r)):E.none();var s}),NC=(t,e)=>E.from(ua(t.getBody(),e)),MT=(t,e)=>{const n=t.selection.getNode();return NC(t,n).filter($e).fold(()=>((o,r,s,i)=>{const a=wf(r?1:-1,o,s),l=tt.fromRangeStart(a),c=P(o);return!r&&Si(l)?E.some(wr.remove(l.getNode(!0))):r&&ki(l)?E.some(wr.remove(l.getNode())):!r&&ki(l)&&_d(c,l,i)?R0(c,l,i).map(u=>wr.remove(u.getNode())):r&&Si(l)&&cm(c,l,i)?JA(c,l,i).map(u=>wr.remove(u.getNode())):((u,f,p,b)=>((h,y)=>{const g=y.getNode(!h),C=h?"after":"before";return Tt(g)&&g.getAttribute("data-mce-caret")===C})(f,p)?((h,y)=>he(y)?E.none():h&&$e(y.nextSibling)?E.some(wr.moveToElement(y.nextSibling)):!h&&$e(y.previousSibling)?E.some(wr.moveToElement(y.previousSibling)):E.none())(f,p.getNode(!f)).orThunk(()=>AC(u,f,p,b)):AC(u,f,p,b).bind(h=>((y,g,C)=>C.fold(k=>E.some(wr.remove(k)),k=>E.some(wr.moveToElement(k)),k=>Ss(g,k,y)?E.none():E.some(wr.moveToPosition(k))))(u,p,h)))(o,r,l,i)})(t.getBody(),e,t.selection.getRng(),t.schema).map(o=>()=>o.fold(((r,s)=>i=>(r._selectionOverrides.hideFakeCaret(),ca(r,s,P(i)),!0))(t,e),((r,s)=>i=>{const a=s?tt.before(i):tt.after(i);return r.selection.setRng(a.toRange()),!0})(t,e),(r=>s=>(r.selection.setRng(s.toRange()),!0))(t))),()=>E.some(Lt))},TC=t=>{const e=t.dom,n=t.selection,o=ua(t.getBody(),n.getNode());if(Pr(o)&&e.isBlock(o)&&e.isEmpty(o)){const r=e.create("br",{"data-mce-bogus":"1"});e.setHTML(o,""),o.appendChild(r),n.setRng(tt.before(r).toRange())}return!0},yp=(t,e)=>t.selection.isCollapsed()?MT(t,e):((n,o)=>{const r=n.selection.getNode();return $e(r)&&!Pc(r)?NC(n,r.parentNode).filter($e).fold(()=>E.some(()=>{var s;s=P(n.getBody()),Y(dt(s,".mce-offscreen-selection"),Yt),ca(n,o,P(n.selection.getNode())),pm(n)}),()=>E.some(Lt)):vp(n)?E.some(()=>{Z0(n,n.selection.getRng(),P(n.getBody()))}):E.none()})(t,e),RC=t=>t.hasOwnProperty("text"),OC=t=>t.hasOwnProperty("marker"),DC=(t,e)=>{const n=(r,s)=>{if(ut(r))return{text:r,offset:s};{const i=e(),a=r.childNodes;return s<a.length?(r.insertBefore(i,a[s]),{marker:i,before:!0}):(r.appendChild(i),{marker:i,before:!1})}},o=n(t.endContainer,t.endOffset);return{start:n(t.startContainer,t.startOffset),end:o}},LC=t=>{var e,n;const{start:o,end:r}=t,s=new window.Range;return RC(o)?s.setStart(o.text,o.offset):OC(o)&&(o.before?s.setStartBefore(o.marker):s.setStartAfter(o.marker),(e=o.marker.parentNode)===null||e===void 0||e.removeChild(o.marker)),RC(r)?s.setEnd(r.text,r.offset):OC(r)&&(r.before?s.setEndBefore(r.marker):s.setEndAfter(r.marker),(n=r.marker.parentNode)===null||n===void 0||n.removeChild(r.marker)),s},_p=(t,e)=>{var n;const o=t.dom,r=o.getParent(t.selection.getStart(),o.isBlock),s=o.getParent(t.selection.getEnd(),o.isBlock),i=t.getBody();if(((n=r?.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&r&&s&&r===i.firstChild&&s===i.lastChild&&!o.isEmpty(i)){const a=r.cloneNode(!1),l=()=>{if(e?X0(t):wd(t),i.firstChild!==r){const c=DC(t.selection.getRng(),()=>document.createElement("span"));Array.from(i.childNodes).forEach(u=>a.appendChild(u)),i.appendChild(a),t.selection.setRng(LC(c))}};return E.some(l)}return E.none()},Cp=(t,e)=>t.selection.isCollapsed()?((n,o)=>{const r=tt.fromRangeStart(n.selection.getRng());return pr(o,n.getBody(),r).filter(s=>o?YA(s):XA(s)).bind(s=>Cf(o?0:-1,s)).map(s=>()=>n.selection.select(s))})(t,e):E.none(),il=ut,BC=t=>il(t)&&t.data[0]===Tn,PC=t=>il(t)&&t.data[t.data.length-1]===Tn,MC=t=>{var e;return((e=t.ownerDocument)!==null&&e!==void 0?e:document).createTextNode(Tn)},zd=(t,e)=>t?(n=>{var o;if(il(n.previousSibling))return PC(n.previousSibling)||n.previousSibling.appendData(Tn),n.previousSibling;if(il(n))return BC(n)||n.insertData(0,Tn),n;{const r=MC(n);return(o=n.parentNode)===null||o===void 0||o.insertBefore(r,n),r}})(e):(n=>{var o,r;if(il(n.nextSibling))return BC(n.nextSibling)||n.nextSibling.insertData(0,Tn),n.nextSibling;if(il(n))return PC(n)||n.appendData(Tn),n;{const s=MC(n);return n.nextSibling?(o=n.parentNode)===null||o===void 0||o.insertBefore(s,n.nextSibling):(r=n.parentNode)===null||r===void 0||r.appendChild(s),s}})(e),IT=St(zd,!0),FT=St(zd,!1),IC=(t,e)=>ut(t.container())?zd(e,t.container()):zd(e,t.getNode()),FC=(t,e)=>{const n=e.get();return n&&t.container()===n&&vi(n)},wp=(t,e)=>e.fold(n=>{na(t.get());const o=IT(n);return t.set(o),E.some(tt(o,o.length-1))},n=>Gn(n).map(o=>{if(FC(o,t)){const r=t.get();return tt(r,1)}{na(t.get());const r=IC(o,!0);return t.set(r),tt(r,1)}}),n=>Mr(n).map(o=>{if(FC(o,t)){const r=t.get();return tt(r,r.length-1)}{na(t.get());const r=IC(o,!1);return t.set(r),tt(r,r.length-1)}}),n=>{na(t.get());const o=FT(n);return t.set(o),E.some(tt(o,1))}),jC=(t,e)=>{for(let n=0;n<t.length;n++){const o=t[n].apply(null,e);if(o.isSome())return o}return E.none()},bo=ks([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$C=(t,e)=>Ci(e,t)||t,jT=(t,e,n)=>{const o=V0(n),r=$C(e,o.container());return Ai(t,r,o).fold(()=>ko(r,o).bind(St(Ai,t,r)).map(s=>bo.before(s)),E.none)},$T=(t,e)=>ra(t,e)===null,HC=(t,e,n)=>Ai(t,e,n).filter(St($T,e)),HT=(t,e,n)=>{const o=K0(n);return HC(t,e,o).bind(r=>Ho(r,o).isNone()?E.some(bo.start(r)):E.none())},zT=(t,e,n)=>{const o=V0(n);return HC(t,e,o).bind(r=>ko(r,o).isNone()?E.some(bo.end(r)):E.none())},UT=(t,e,n)=>{const o=K0(n),r=$C(e,o.container());return Ai(t,r,o).fold(()=>Ho(r,o).bind(St(Ai,t,r)).map(s=>bo.after(s)),E.none)},zC=t=>!W0(xp(t)),Ds=(t,e,n)=>jC([jT,HT,zT,UT],[t,e,n]).filter(zC),xp=t=>t.fold(me,me,me,me),UC=t=>t.fold(yt("before"),yt("start"),yt("end"),yt("after")),Ud=t=>t.fold(bo.before,bo.before,bo.after,bo.after),Ep=t=>t.fold(bo.start,bo.start,bo.end,bo.end),qT=(t,e,n,o,r,s)=>gn(Ai(e,n,o),Ai(e,n,r),(i,a)=>i!==a&&((l,c,u)=>{const f=Ci(c,l),p=Ci(u,l);return gt(f)&&f===p})(n,i,a)?bo.after(t?i:a):s).getOr(s),WT=(t,e)=>t.fold(ze,n=>{return r=e,!(UC(o=n)===UC(r)&&xp(o)===xp(r));var o,r}),VT=(t,e)=>t?e.fold(_o(E.some,bo.start),E.none,_o(E.some,bo.after),E.none):e.fold(E.none,_o(E.some,bo.before),E.none,_o(E.some,bo.end)),qC=(t,e,n)=>{const o=t?1:-1;return e.setRng(tt(n.container(),n.offset()+o).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0};var Ls;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Ls||(Ls={}));const qd=(t,e)=>t===Rn.Backwards?ar(e):e,KT=(t,e,n)=>t===Rn.Forwards?e.next(n):e.prev(n),YT=(t,e,n,o)=>Qe(o.getNode(e===Rn.Forwards))?Ls.Br:Ss(n,o)===!1?Ls.Block:Ls.Wrap,WC=(t,e,n,o)=>{const r=Ns(n);let s=o;const i=[];for(;s;){const a=KT(e,r,s);if(!a)break;if(Qe(a.getNode(!1)))return e===Rn.Forwards?{positions:qd(e,i).concat([a]),breakType:Ls.Br,breakAt:E.some(a)}:{positions:qd(e,i),breakType:Ls.Br,breakAt:E.some(a)};if(a.isVisible()){if(t(s,a)){const l=YT(0,e,s,a);return{positions:qd(e,i),breakType:l,breakAt:E.some(a)}}i.push(a),s=a}else s=a}return{positions:qd(e,i),breakType:Ls.Eol,breakAt:E.none()}},VC=(t,e,n,o)=>e(n,o).breakAt.map(r=>{const s=e(n,r).positions;return t===Rn.Backwards?s.concat(r):[r].concat(s)}).getOr([]),kp=(t,e)=>tn(t,(n,o)=>n.fold(()=>E.some(o),r=>gn(Ye(r.getClientRects()),Ye(o.getClientRects()),(s,i)=>{const a=Math.abs(e-s.left);return Math.abs(e-i.left)<=a?o:r}).or(n)),E.none()),Wd=(t,e)=>Ye(e.getClientRects()).bind(n=>kp(t,n.left)),hc=St(WC,tt.isAbove,-1),gc=St(WC,tt.isBelow,1),KC=St(VC,-1,hc),YC=St(VC,1,gc),XC=(t,e)=>hc(t,e).breakAt.isNone(),GC=(t,e)=>gc(t,e).breakAt.isNone(),XT=(t,e)=>Wd(KC(t,e),e),GT=(t,e)=>Wd(YC(t,e),e),QT=$e,QC=(t,e)=>Math.abs(t.left-e),ZC=(t,e)=>Math.abs(t.right-e),JC=(t,e)=>ms(t,(n,o)=>{const r=Math.min(QC(n,e),ZC(n,e)),s=Math.min(QC(o,e),ZC(o,e));return s===r&&un(o,"node")&&QT(o.node)||s<r?o:n}),ZT=t=>{const e=n=>re(n,o=>{const r=ta(o);return r.node=t,r});if(Tt(t))return e(t.getClientRects());if(ut(t)){const n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}return[]},tw=t=>en(t,ZT);var bc;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(bc||(bc={}));const ew=(t,e,n,o,r,s)=>{let i=0;const a=[],l=f=>{let p=tw([f]);t===-1&&(p=p.reverse());for(let b=0;b<p.length;b++){const h=p[b];if(!n(h,c)){if(a.length>0&&e(h,Wr(a))&&i++,h.line=i,r(h))return!0;a.push(h)}}return!1},c=Wr(s.getClientRects());if(!c)return a;const u=s.getNode();return u&&(l(u),((f,p,b,h)=>{let y=h;for(;y=Wl(y,f,Mg,p);)if(b(y))return})(t,o,l,u)),a},JT=St(ew,bc.Up,Il,Fl),tR=St(ew,bc.Down,Fl,Il),nw=t=>Wr(t.getClientRects()),ow=t=>e=>((n,o)=>o.line>n)(t,e),Sp=t=>e=>((n,o)=>o.line===n)(t,e),Zs=(t,e)=>{t.selection.setRng(e),tc(t,t.selection.getRng())},Ap=(t,e,n)=>E.some(hp(t,e,n)),rw=(t,e,n,o,r,s)=>{const i=e===Rn.Forwards,a=Ns(t.getBody()),l=St(xf,i?a.next:a.prev),c=i?o:r;if(!n.collapsed){const h=Vc(n);if(s(h))return Qs(e,t,h,e===Rn.Backwards,!1);if(vp(t)){const y=n.cloneRange();return y.collapse(e===Rn.Backwards),E.from(y)}}const u=Yl(e,t.getBody(),n);if(c(u))return pc(t,u.getNode(!i));let f=l(u);const p=Tg(n);if(!f)return p?E.some(n):E.none();if(f=yr(i,f),c(f))return Qs(e,t,f.getNode(!i),i,!1);const b=l(f);return b&&c(b)&&ed(f,b)?Qs(e,t,b.getNode(!i),i,!1):p?Ap(t,f.toRange(),!1):E.none()},sw=(t,e,n,o,r,s)=>{const i=Yl(e,t.getBody(),n),a=Wr(i.getClientRects()),l=e===bc.Down,c=t.getBody();if(!a)return E.none();if(vp(t)){const y=l?tt.fromRangeEnd(n):tt.fromRangeStart(n);return(l?GT:XT)(c,y).orThunk(()=>E.from(y)).map(g=>g.toRange())}const u=(l?tR:JT)(c,ow(1),i),f=Wt(u,Sp(1)),p=a.left,b=JC(f,p);if(b&&s(b.node)){const y=Math.abs(p-b.left),g=Math.abs(p-b.right);return Qs(e,t,b.node,y<g,!1)}let h;if(h=o(i)?i.getNode():r(i)?i.getNode(!0):Vc(n),h){const y=((C,k,S,N)=>{const T=Ns(k);let D,F,M,z;const G=[];let B=0;C===1?(D=T.next,F=Fl,M=Il,z=tt.after(N)):(D=T.prev,F=Il,M=Fl,z=tt.before(N));const j=nw(z);do{if(!z.isVisible())continue;const H=nw(z);if(M(H,j))continue;G.length>0&&F(H,Wr(G))&&B++;const et=ta(H);if(et.position=z,et.line=B,S(et))return G;G.push(et)}while(z=D(z));return G})(e,c,ow(1),h);let g=JC(Wt(y,Sp(1)),p);if(g||(g=Wr(Wt(y,Sp(0))),g))return Ap(t,g.position.toRange(),!1)}return f.length===0?Np(t,l).filter(l?r:o).map(y=>hp(t,y.toRange(),!1)):E.none()},Np=(t,e)=>{const n=t.selection.getRng(),o=e?tt.fromRangeEnd(n):tt.fromRangeStart(n),r=(s=o.container(),i=t.getBody(),jo(P(s),a=>oA(a.dom),a=>a.dom===i).map(a=>a.dom).getOr(i));var s,i;if(e){const a=gc(r,o);return Ko(a.positions)}{const a=hc(r,o);return Ye(a.positions)}},iw=(t,e,n)=>Np(t,e).filter(n).exists(o=>(t.selection.setRng(o.toRange()),!0)),Vd=(t,e)=>{const n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},aw=(t,e)=>{t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},lw=(t,e,n)=>wp(e,n).map(o=>(Vd(t,o),n)),eR=(t,e,n)=>{const o=t.getBody(),r=((s,i,a)=>{const l=tt.fromRangeStart(s);if(s.collapsed)return l;{const c=tt.fromRangeEnd(s);return a?Ho(i,c).getOr(c):ko(i,l).getOr(l)}})(t.selection.getRng(),o,n);return((s,i,a,l)=>{const c=yr(s,l),u=Ds(i,a,c);return Ds(i,a,c).bind(St(VT,s)).orThunk(()=>((f,p,b,h,y)=>{const g=yr(f,y);return pr(f,b,g).map(St(yr,f)).fold(()=>h.map(Ud),C=>Ds(p,b,C).map(St(qT,f,p,b,g,C)).filter(St(WT,h))).filter(zC)})(s,i,a,u,l))})(n,St(da,t),o,r).bind(s=>lw(t,e,s))},cw=(t,e,n)=>!!zl(t)&&eR(t,e,n).isSome(),dw=(t,e,n)=>!!zl(e)&&((o,r)=>{const s=r.selection.getRng(),i=o?tt.fromRangeEnd(s):tt.fromRangeStart(s);return!!(a=>be(a.selection.getSel().modify))(r)&&(o&&ef(i)?qC(!0,r.selection,i):!(o||!nf(i))&&qC(!1,r.selection,i))})(t,e),nR=t=>{const e=Nn(null),n=St(da,t);return t.on("NodeChange",o=>{zl(t)&&(((r,s,i)=>{const a=re(dt(P(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),l=Wt(a,r),c=Wt(i,r);Y(Jt(l,c),St(aw,!1)),Y(Jt(c,l),St(aw,!0))})(n,t.dom,o.parents),((r,s)=>{const i=s.get();if(r.selection.isCollapsed()&&!r.composing&&i){const a=tt.fromRangeStart(r.selection.getRng());tt.isTextPosition(a)&&!(l=>ef(l)||nf(l))(a)&&(Vd(r,ZS(i,a)),s.set(null))}})(t,e),((r,s,i,a)=>{if(s.selection.isCollapsed()){const l=Wt(a,r);Y(l,c=>{const u=tt.fromRangeStart(s.selection.getRng());Ds(r,s.getBody(),u).bind(f=>lw(s,i,f))})}})(n,t,e,o.parents))}),e},oR=St(dw,!0),rR=St(dw,!1),Kd=(t,e,n)=>{if(zl(t)){const o=Np(t,e).getOrThunk(()=>{const r=t.selection.getRng();return e?tt.fromRangeEnd(r):tt.fromRangeStart(r)});return Ds(St(da,t),t.getBody(),o).exists(r=>{const s=Ud(r);return wp(n,s).exists(i=>(Vd(t,i),!0))})}return!1},uw=(t,e)=>n=>wp(e,n).map(o=>()=>Vd(t,o)),fw=(t,e,n,o)=>{const r=t.getBody(),s=St(da,t);t.undoManager.ignore(()=>{t.selection.setRng(((i,a)=>{const l=document.createRange();return l.setStart(i.container(),i.offset()),l.setEnd(a.container(),a.offset()),l})(n,o)),wd(t),Ds(s,r,tt.fromRangeStart(t.selection.getRng())).map(Ep).bind(uw(t,e)).each(Co)}),t.nodeChanged()},Tp=(t,e,n)=>{if(t.selection.isCollapsed()&&zl(t)){const o=tt.fromRangeStart(t.selection.getRng());return((r,s,i,a)=>{const l=((f,p)=>Ci(p,f)||f)(r.getBody(),a.container()),c=St(da,r),u=Ds(c,l,a);return u.bind(f=>i?f.fold(yt(E.some(Ep(f))),E.none,yt(E.some(Ud(f))),E.none):f.fold(E.none,yt(E.some(Ud(f))),E.none,yt(E.some(Ep(f))))).map(uw(r,s)).getOrThunk(()=>{const f=Va(i,l,a),p=f.bind(b=>Ds(c,l,b));return gn(u,p,()=>Ai(c,l,a).bind(b=>(h=>gn(Gn(h),Mr(h),(y,g)=>{const C=yr(!0,y),k=yr(!1,g);return ko(h,C).forall(S=>S.isEqual(k))}).getOr(!0))(b)?E.some(()=>{ca(r,i,P(b))}):E.none())).getOrThunk(()=>p.bind(()=>f.map(b=>()=>{i?fw(r,s,a,b):fw(r,s,b,a)})))})})(t,e,n,o)}return E.none()},mw=(t,e)=>{const n=P(t.getBody()),o=P(t.selection.getStart()),r=Gs(o,n);return Vo(r,e).fold(yt(r),s=>r.slice(0,s))},sR=t=>Sn(t)===1,pw=(t,e)=>{const n=St(Sy,t);return en(e,o=>n(o)?[o.dom]:[])},hw=t=>{const e=(n=>mw(n,o=>n.schema.isBlock(ue(o))))(t);return pw(t,e)},iR=(t,e)=>{const n=Wt((o=>mw(o,r=>o.schema.isBlock(ue(r))||(s=>Sn(s)>1)(r)))(t),sR);return Ko(n).bind(o=>{const r=tt.fromRangeStart(t.selection.getRng());return G0(e,r,o.dom)&&!Hf(o)?E.some(()=>((s,i,a,l)=>{const c=pw(i,l);if(c.length===0)ca(i,s,a);else{const u=ky(a.dom,c);i.selection.setRng(u.toRange())}})(e,t,o,n)):E.none()})},gw=(t,e)=>{const n=t.selection.getStart(),o=((r,s)=>{const i=s.parentElement;return Qe(s)&&!Qt(i)&&r.dom.isEmpty(i)})(t,n)||Hf(P(n))?ky(n,e):((r,s)=>{const{caretContainer:i,caretPosition:a}=Ey(s);return r.insertNode(i.dom),a})(t.selection.getRng(),e);t.selection.setRng(o.toRange())},bw=t=>ut(t.startContainer),aR=t=>{const e=t.selection.getRng();return(n=>n.startOffset===0&&bw(n))(e)&&((n,o)=>{const r=o.startContainer.parentElement;return!Qt(r)&&Sy(n,P(r))})(t,e)&&(n=>(o=>(r=>{const s=r.startContainer.parentNode,i=r.endContainer.parentNode;return!Qt(s)&&!Qt(i)&&s.isEqualNode(i)})(o)&&(r=>{const s=r.endContainer;return r.endOffset===(ut(s)?s.length:s.childNodes.length)})(o))(n)||(o=>!o.endContainer.isEqualNode(o.commonAncestorContainer))(n))(e)},Rp=(t,e)=>t.selection.isCollapsed()?iR(t,e):(n=>{if(aR(n)){const o=hw(n);return E.some(()=>{wd(n),((r,s)=>{const i=Jt(s,hw(r));i.length>0&&gw(r,i)})(n,o)})}return E.none()})(t),vc=t=>((e=>{const n=e.selection.getRng();return n.collapsed&&(bw(n)||e.dom.isEmpty(n.startContainer))&&!(o=>{return r=P(o.selection.getStart()),s=o.schema,It(r,i=>hr(i.dom),i=>s.isBlock(ue(i)));var r,s})(e)})(t)&&gw(t,[]),!0),Op=(t,e,n)=>gt(n)?E.some(()=>{t._selectionOverrides.hideFakeCaret(),ca(t,e,P(n))}):E.none(),Dp=(t,e)=>t.selection.isCollapsed()?((n,o)=>{const r=o?ec:nc,s=o?Rn.Forwards:Rn.Backwards,i=Yl(s,n.getBody(),n.selection.getRng());return r(i)?Op(n,o,i.getNode(!o)):E.from(yr(o,i)).filter(a=>r(a)&&ed(i,a)).bind(a=>Op(n,o,a.getNode(!o)))})(t,e):((n,o)=>{const r=n.selection.getNode();return Es(r)?Op(n,o,r):E.none()})(t,e),Lp=t=>Hs(t??"").getOr(0),vw=(t,e)=>(t||ue(e)==="table"?"margin":"padding")+(I(e,"direction")==="rtl"?"-right":"-left"),yw=t=>{const e=Cw(t);return!t.mode.isReadOnly()&&(e.length>1||((n,o)=>Jn(o,r=>{const s=vw(hb(n),r),i=rt(r,s).map(Lp).getOr(0);return n.dom.getContentEditable(r.dom)!=="false"&&i>0}))(t,e))},_w=t=>tf(t)||Fa(t),Cw=t=>Wt(an(t.selection.getSelectedBlocks()),e=>!_w(e)&&!(n=>$n(n).exists(_w))(e)&&Vn(e,n=>Pr(n.dom)||$e(n.dom)).exists(n=>Pr(n.dom))),ww=(t,e)=>{var n,o;const{dom:r}=t,s=Xk(t),i=(o=(n=/[a-z%]+$/i.exec(s))===null||n===void 0?void 0:n[0])!==null&&o!==void 0?o:"px",a=Lp(s),l=hb(t);Y(Cw(t),c=>{((u,f,p,b,h,y)=>{const g=vw(p,P(y)),C=Lp(u.getStyle(y,g));if(f==="outdent"){const k=Math.max(0,C-b);u.setStyle(y,g,k?k+h:"")}else{const k=C+b+h;u.setStyle(y,g,k)}})(r,e,l,a,i,c.dom)})},xw=t=>ww(t,"outdent"),Ew=t=>{if(t.selection.isCollapsed()&&yw(t)){const e=t.dom,n=t.selection.getRng(),o=tt.fromRangeStart(n),r=e.getParent(n.startContainer,e.isBlock);if(r!==null&&lm(P(r),o,t.schema))return E.some(()=>xw(t))}return E.none()},kw=(t,e,n)=>pn([Ew,yp,gp,(o,r)=>Tp(o,e,r),mp,wm,Cp,Dp,pp,Rp,_p],o=>o(t,n)).filter(o=>t.selection.isEditable()),Sw=t=>t.touches===void 0||t.touches.length!==1?E.none():E.some(t.touches[0]),Bp=(t,e)=>Ht(t,e.nodeName),lR=(t,e)=>!!ut(e)||!!Tt(e)&&!(Bp(t.getBlockElements(),e)||gr(e)||Vi(t,e)||Du(e)),cR=(t,e)=>{if(ut(e)){if(e.data.length===0)return!0;if(/^\s+$/.test(e.data))return!e.nextSibling||Bp(t,e.nextSibling)||Du(e.nextSibling)}return!1},Pp=t=>t.dom.create(Xn(t),Hl(t)),Aw=(t,e,n)=>{const o=P(Pp(t)),r=ja();At(o,r),n(e,o);const s=document.createRange();return s.setStartBefore(r.dom),s.setEndBefore(r.dom),s},Nw=t=>e=>(" "+e.attr("class")+" ").indexOf(t)!==-1,dR=(t,e,n)=>function(o){const r=arguments,s=r[r.length-2],i=s>0?e.charAt(s-1):"";if(i==='"')return o;if(i===">"){const a=e.lastIndexOf("<",s);if(a!==-1&&e.substring(a,s).indexOf('contenteditable="false"')!==-1)return o}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(r[0])+'">'+t.dom.encode(typeof r[1]=="string"?r[1]:r[0])+"</span>"},uR=(t,e)=>Jn(t,n=>{const o=e.match(n);return o!==null&&o[0].length===e.length}),Tw=(t,e)=>{e.hasAttribute("data-mce-caret")&&(of(e),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(e))},fR=(t,e)=>{const n=(o=>Qr(P(o.getBody()),"*[data-mce-caret]").map(r=>r.dom).getOrNull())(t);if(n)return e.type==="compositionstart"?(e.preventDefault(),e.stopPropagation(),void Tw(t,n)):void(Ng(n)&&(Tw(t,n),t.undoManager.add()))},Rw=$e,Ow=(t,e,n)=>{const o=Ns(t.getBody()),r=St(xf,e===1?o.next:o.prev);if(n.collapsed){const s=t.dom.getParent(n.startContainer,"PRE");if(!s)return;if(!r(tt.fromRangeStart(n))){const i=P((a=>{const l=a.dom.create(Xn(a));return l.innerHTML='<br data-mce-bogus="1">',l})(t));e===1?jt(P(s),i):Ot(P(s),i),t.selection.select(i.dom,!0),t.selection.collapse()}}},Dw=(t,e)=>((n,o)=>{const r=o?Rn.Forwards:Rn.Backwards,s=n.selection.getRng();return((i,a,l)=>rw(a,i,l,ki,Si,Rw))(r,n,s).orThunk(()=>(Ow(n,r,s),E.none()))})(t,((n,o)=>{const r=o?n.getEnd(!0):n.getStart(!0);return W0(r)?!o:o})(t.selection,e)).exists(n=>(Zs(t,n),!0)),Lw=(t,e)=>((n,o)=>{const r=o?1:-1,s=n.selection.getRng();return((i,a,l)=>sw(a,i,l,c=>ki(c)||E0(c),c=>Si(c)||im(c),Rw))(r,n,s).orThunk(()=>(Ow(n,r,s),E.none()))})(t,e).exists(n=>(Zs(t,n),!0)),Bw=(t,e)=>iw(t,e,e?Si:ki),Yd=(t,e)=>bp(t,!e).map(n=>{const o=n.toRange(),r=t.selection.getRng();return e?o.setStart(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),o}).exists(n=>(Zs(t,n),!0)),mR=t=>pe(["figcaption"],ue(t)),Pw=(t,e)=>!!t.selection.isCollapsed()&&((n,o)=>{const r=P(n.getBody()),s=tt.fromRangeStart(n.selection.getRng());return((i,a,l)=>{const c=St(Ft,a);return Vn(P(i.container()),u=>l.isBlock(ue(u)),c).filter(mR)})(s,r,n.schema).exists(()=>{if(((i,a,l)=>a?GC(i.dom,l):XC(i.dom,l))(r,o,s)){const i=Aw(n,r,o?At:Kt);return n.selection.setRng(i),!0}return!1})})(t,e),Mw=(t,e)=>((n,o)=>o?E.from(n.dom.getParent(n.selection.getNode(),"details")).map(r=>((s,i)=>{const a=s.selection.getRng(),l=tt.fromRangeStart(a);return!(s.getBody().lastChild!==i||!GC(i,l)||(s.execCommand("InsertNewBlockAfter"),0))})(n,r)).getOr(!1):E.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(r=>E.from(n.dom.getParent(r,"details")).map(s=>((i,a,l)=>{const c=i.selection.getRng(),u=tt.fromRangeStart(c);return!(i.getBody().firstChild!==a||!XC(l,u)||(i.execCommand("InsertNewBlockBefore"),0))})(n,s,r))).getOr(!1))(t,e),Iw={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Fw=(t,e)=>e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey,qt=(t,...e)=>()=>t.apply(null,e),yc=(t,e)=>Ue(((n,o)=>en((r=>re(r,s=>({...Iw,...s})))(n),r=>Fw(r,o)?[r]:[]))(t,e),n=>n.action()),jw=(t,e)=>pn(((n,o)=>en((r=>re(r,s=>({...Iw,...s})))(n),r=>Fw(r,o)?[r]:[]))(t,e),n=>n.action()),$w=(t,e)=>{const n=e?Rn.Forwards:Rn.Backwards,o=t.selection.getRng();return rw(t,n,o,ec,nc,Es).exists(r=>(Zs(t,r),!0))},Hw=(t,e)=>{const n=e?1:-1,o=t.selection.getRng();return sw(t,n,o,ec,nc,Es).exists(r=>(Zs(t,r),!0))},zw=(t,e)=>iw(t,e,e?nc:ec),Uw=ks([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),_c={...Uw,none:t=>Uw.none(t)},qw=(t,e,n)=>en(Ce(t),o=>fn(o,e)?n(o)?[o]:[]:qw(o,e,n)),Ww=(t,e)=>dr(t,"table",e),Mp=(t,e,n,o,r=ze)=>{const s=o===1;if(!s&&n<=0)return _c.first(t[0]);if(s&&n>=t.length-1)return _c.last(t[t.length-1]);{const i=n+o,a=t[i];return r(a)?_c.middle(e,a):Mp(t,e,i,o,r)}},Vw=(t,e)=>Ww(t,e).bind(n=>{const o=qw(n,"th,td",ze);return Vo(o,r=>Ft(t,r)).map(r=>({index:r,all:o}))}),pR=["img","br"],hR=t=>{return(e=t,Ju.getOption(e)).filter(n=>n.trim().length!==0||n.indexOf(Le)>-1).isSome()||pe(pR,ue(t))||(n=>vs(n)&&jn(n,"contenteditable")==="false")(t);var e},Kw=(t,e,n,o,r)=>{const s=dt(P(n),"td,th,caption").map(a=>a.dom),i=Wt(((a,l)=>en(l,c=>{const u=((f,p)=>({left:f.left-p,top:f.top-p,right:f.right+-2,bottom:f.bottom+-2,width:f.width+p,height:f.height+p}))(ta(c.getBoundingClientRect()),-1);return[{x:u.left,y:a(u),cell:c},{x:u.right,y:a(u),cell:c}]}))(t,s),a=>e(a,r));return((a,l,c)=>tn(a,(u,f)=>u.fold(()=>E.some(f),p=>{const b=Math.sqrt(Math.abs(p.x-l)+Math.abs(p.y-c)),h=Math.sqrt(Math.abs(f.x-l)+Math.abs(f.y-c));return E.some(h<b?f:p)}),E.none()))(i,o,r).map(a=>a.cell)},gR=St(Kw,t=>t.bottom,(t,e)=>t.y<e),bR=St(Kw,t=>t.top,(t,e)=>t.y>e),Yw=(t,e,n)=>{const o=t(e,n);return(r=>r.breakType===Ls.Wrap&&r.positions.length===0)(o)||!Qe(n.getNode())&&(r=>r.breakType===Ls.Br&&r.positions.length===1)(o)?!((r,s,i)=>i.breakAt.exists(a=>r(s,a).breakAt.isSome()))(t,e,o):o.breakAt.isNone()},vR=St(Yw,hc),yR=St(Yw,gc),_R=(t,e,n,o)=>{const r=t.selection.getRng(),s=e?1:-1;return!(!Lb()||!((i,a,l)=>{const c=tt.fromRangeStart(a);return Ka(!i,l).exists(u=>u.isEqual(c))})(e,r,n)||(Qs(s,t,n,!e,!1).each(i=>{Zs(t,i)}),0))},Xw=(t,e,n)=>{const o=((s,i)=>{const a=i.getNode(s);return xs(a)?E.some(a):E.none()})(!!e,n),r=e===!1;o.fold(()=>Zs(t,n.toRange()),s=>Ka(r,t.getBody()).filter(i=>i.isEqual(n)).fold(()=>Zs(t,n.toRange()),i=>((a,l,c)=>{l.undoManager.transact(()=>{const u=a?jt:Ot,f=Aw(l,P(c),u);Zs(l,f)})})(e,t,s)))},CR=(t,e,n,o)=>{const r=t.selection.getRng(),s=tt.fromRangeStart(r),i=t.getBody();if(!e&&vR(o,s)){const a=((l,c,u)=>((f,p)=>Ye(p.getClientRects()).bind(b=>gR(f,b.left,b.top)).bind(b=>{return Wd(Mr(h=b).map(y=>hc(h,y).positions.concat(y)).getOr([]),p);var h}))(c,u).orThunk(()=>Ye(u.getClientRects()).bind(f=>kp(KC(l,tt.before(c)),f.left))).getOr(tt.before(c)))(i,n,s);return Xw(t,e,a),!0}if(e&&yR(o,s)){const a=((l,c,u)=>((f,p)=>Ko(p.getClientRects()).bind(b=>bR(f,b.left,b.top)).bind(b=>{return Wd(Gn(h=b).map(y=>[y].concat(gc(h,y).positions)).getOr([]),p);var h}))(c,u).orThunk(()=>Ye(u.getClientRects()).bind(f=>kp(YC(l,tt.after(c)),f.left))).getOr(tt.after(c)))(i,n,s);return Xw(t,e,a),!0}return!1},Gw=(t,e,n)=>E.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(o=>E.from(t.dom.getParent(o,"table")).map(r=>n(t,e,r,o))).getOr(!1),Qw=(t,e)=>Gw(t,e,_R),Ip=(t,e)=>Gw(t,e,CR),Zw=(t,e,n)=>n.fold(E.none,E.none,(o,r)=>{return(s=r,fi(s,hR)).map(i=>(a=>{const l=Qa.exact(a,0,a,0);return _A(l)})(i));var s},o=>(t.execCommand("mceTableInsertRowAfter"),Jw(t,e,o))),Jw=(t,e,n)=>{return Zw(t,e,(r=ur,Vw(o=n,void 0).fold(()=>_c.none(o),s=>Mp(s.all,o,s.index,1,r))));var o,r},wR=(t,e,n)=>{return Zw(t,e,(r=ur,Vw(o=n,void 0).fold(()=>_c.none(),s=>Mp(s.all,o,s.index,-1,r))));var o,r},t1=(t,e)=>{const n=["table","li","dl"],o=P(t.getBody()),r=i=>{const a=ue(i);return Ft(i,o)||pe(n,a)},s=t.selection.getRng();return((i,a)=>((l,c,u=Be)=>u(c)?E.none():pe(l,ue(c))?E.some(c):cr(c,l.join(","),f=>fn(f,"table")||u(f)))(["td","th"],i,a))(P(e?s.endContainer:s.startContainer),r).map(i=>(Ww(i,r).each(a=>{t.model.table.clearSelectedCells(a.dom)}),t.selection.collapse(!e),(e?Jw:wR)(t,r,i).each(a=>{t.selection.setRng(a)}),!0)).getOr(!1)},ls=(t,e)=>({container:t,offset:e}),Xd=Ie.DOM,Gd=t=>e=>t===e?-1:0,Fp=(t,e,n)=>{if(ut(t)&&e>=0)return E.some(ls(t,e));{const o=Zi(Xd);return E.from(o.backwards(t,e,Gd(t),n)).map(r=>ls(r.container,r.container.data.length))}},jp=(t,e,n)=>{if(!ut(t))return E.none();const o=t.data;if(e>=0&&e<=o.length)return E.some(ls(t,e));{const r=Zi(Xd);return E.from(r.backwards(t,e,Gd(t),n)).bind(s=>{const i=s.container.data;return jp(s.container,e+i.length,n)})}},e1=(t,e,n)=>{if(!ut(t))return E.none();const o=t.data;if(e<=o.length)return E.some(ls(t,e));{const r=Zi(Xd);return E.from(r.forwards(t,e,Gd(t),n)).bind(s=>e1(s.container,e-o.length,n))}},$p=(t,e,n,o,r)=>{const s=Zi(t,(i=>a=>i.isBlock(a)||pe(["BR","IMG","HR","INPUT"],a.nodeName)||i.getContentEditable(a)==="false")(t));return E.from(s.backwards(e,n,o,r))},n1=t=>t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1,xR=(t,e)=>t.substring(e.length),Hp=(t,e,n,o=!1)=>{if(!(r=e).collapsed||!ut(r.startContainer))return E.none();var r;const s={text:"",offset:0},i=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return $p(t,e.startContainer,e.startOffset,(a,l,c)=>(s.text=c+s.text,s.offset+=l,((u,f,p,b=!1)=>{let h;const y=p.charAt(0);for(h=f-1;h>=0;h--){const g=u.charAt(h);if(!b&&n1(g))return E.none();if(y===g&&hn(u,p,h,f))break}return E.some(h)})(s.text,s.offset,n,o).getOr(l)),i).bind(a=>{const l=e.cloneRange();if(l.setStart(a.container,a.offset),l.setEnd(e.endContainer,e.endOffset),l.collapsed)return E.none();const c=(u=>or(u.toString().replace(/\u00A0/g," ")))(l);return c.lastIndexOf(n)!==0?E.none():E.some({text:xR(c,n),range:l,trigger:n})})},o1=t=>{if((e=>e.nodeType===3)(t))return ls(t,t.data.length);{const e=t.childNodes;return e.length>0?o1(e[e.length-1]):ls(t,e.length)}},r1=(t,e)=>{const n=t.childNodes;return n.length>0&&e<n.length?r1(n[e],0):n.length>0&&(o=>o.nodeType===1)(t)&&n.length===e?o1(n[n.length-1]):ls(t,e)},s1=(t,e,n,o={})=>{var r;const s=e(),i=(r=t.selection.getRng().startContainer.nodeValue)!==null&&r!==void 0?r:"",a=Wt(s.lookupByTrigger(n.trigger),c=>n.text.length>=c.minChars&&c.matches.getOrThunk(()=>(u=>f=>{const p=r1(f.startContainer,f.startOffset);return!((b,h)=>{var y;const g=(y=b.getParent(h.container,b.isBlock))!==null&&y!==void 0?y:b.getRoot();return $p(b,h.container,h.offset,(C,k)=>k===0?-1:k,g).filter(C=>{const k=C.container.data.charAt(C.offset-1);return!n1(k)}).isSome()})(u,p)})(t.dom))(n.range,i,n.text));if(a.length===0)return E.none();const l=Promise.all(re(a,c=>c.fetch(n.text,c.maxResults,o).then(u=>({matchText:n.text,items:u,columns:c.columns,onAction:c.onAction,highlightOn:c.highlightOn}))));return E.some({lookupData:l,context:n})};var Bs;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Bs||(Bs={}));const zp=(t,e,n)=>t.stype===Bs.Error?e(t.serror):n(t.svalue),al=t=>({stype:Bs.Value,svalue:t}),Cc=t=>({stype:Bs.Error,serror:t}),ER=zp,Up=t=>Xt(t)&&Je(t).length>100?" removed due to size":JSON.stringify(t,null,2),Qd=(t,e)=>Cc([{path:t,getErrorInfo:e}]),kR=(t,e)=>({extract:(n,o)=>Ee(o,t).fold(()=>((r,s)=>Qd(r,()=>'Choice schema did not contain choice key: "'+s+'"'))(n,t),r=>((s,i,a,l)=>Ee(a,l).fold(()=>((c,u,f)=>Qd(c,()=>'The chosen schema: "'+f+'" did not exist in branches: '+Up(u)))(s,a,l),c=>c.extract(s.concat(["branch: "+l]),i)))(n,o,e,r)),toString:()=>"chooseOn("+t+"). Possible values: "+Je(e)}),i1=t=>(...e)=>{if(e.length===0)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<e.length;o++){const r=e[o];for(const s in r)Ht(r,s)&&(n[s]=t(n[s],r[s]))}return n},qp=i1((t,e)=>ce(t)&&ce(e)?qp(t,e):e),SR=i1((t,e)=>e),a1=t=>({tag:"defaultedThunk",process:yt(t)}),AR=t=>{const e=(o=>{const r=[],s=[];return Y(o,i=>{zp(i,a=>s.push(a),a=>r.push(a))}),{values:r,errors:s}})(t);return e.errors.length>0?(n=e.errors,_o(Cc,wa)(n)):al(e.values);var n},l1=(t,e,n)=>{switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},Wp=t=>({extract:(e,n)=>{return o=t(n),r=s=>((i,a)=>Qd(i,yt(a)))(e,s),o.stype===Bs.Error?r(o.serror):o;var o,r},toString:yt("val")}),NR=Wp(al),c1=(t,e,n,o)=>o(Ee(t,e).getOrThunk(()=>n(t))),TR=(t,e,n,o,r)=>{const s=a=>r.extract(e.concat([o]),a),i=a=>a.fold(()=>al(E.none()),l=>{return u=r.extract(e.concat([o]),l),f=E.some,u.stype===Bs.Value?{stype:Bs.Value,svalue:f(u.svalue)}:u;var u,f});switch(t.tag){case"required":return((a,l,c,u)=>Ee(l,c).fold(()=>((f,p,b)=>Qd(f,()=>'Could not find valid *required* value for "'+p+'" in '+Up(b)))(a,c,l),u))(e,n,o,s);case"defaultedThunk":return c1(n,o,t.process,s);case"option":return((a,l,c)=>c(Ee(a,l)))(n,o,i);case"defaultedOptionThunk":return((a,l,c,u)=>u(Ee(a,l).map(f=>f===!0?c(a):f)))(n,o,t.process,i);case"mergeWithThunk":return c1(n,o,yt({}),a=>{const l=qp(t.process(n),a);return s(l)})}},Vp=t=>({extract:(e,n)=>((o,r,s)=>{const i={},a=[];for(const l of s)l1(l,(c,u,f,p)=>{const b=TR(f,o,r,c,p);ER(b,h=>{a.push(...h)},h=>{i[u]=h})},(c,u)=>{i[c]=u(r)});return a.length>0?Cc(a):al(i)})(e,n,t),toString:()=>`obj{
`+re(t,n=>l1(n,(o,r,s,i)=>o+" -> "+i.toString(),(o,r)=>"state("+o+")")).join(`
`)+"}"}),d1=t=>({extract:(e,n)=>{const o=re(n,(r,s)=>t.extract(e.concat(["["+s+"]"]),r));return AR(o)},toString:()=>"array("+t.toString()+")"}),RR=(t,e,n)=>{return o=((r,s,i)=>((a,l)=>a.stype===Bs.Error?{stype:Bs.Error,serror:l(a.serror)}:a)(s.extract([r],i),a=>({input:i,errors:a})))(t,e,n),zp(o,Eo.error,Eo.value);var o},u1=(t,e)=>kR(t,fs(e,Vp)),OR=yt(NR),Zd=(t,e)=>Wp(n=>{const o=typeof n;return t(n)?al(n):Cc(`Expected type: ${e} but got: ${o}`)}),DR=Zd(x,"number"),Jd=Zd(Dt,"string"),LR=Zd(dn,"boolean"),Kp=Zd(be,"function"),wc=(t,e,n,o)=>({tag:"field",key:t,newKey:e,presence:n,prop:o}),f1=(t,e)=>({tag:"custom",newKey:t,instantiator:e}),m1=(t,e)=>wc(t,t,{tag:"required",process:{}},e),p1=t=>m1(t,Jd),h1=t=>m1(t,Kp),Yp=(t,e)=>wc(t,t,{tag:"option",process:{}},e),tu=t=>Yp(t,Jd),ll=(t,e,n)=>wc(t,t,a1(e),n),g1=(t,e)=>ll(t,e,DR),b1=(t,e,n)=>ll(t,e,(o=>{return r=s=>pe(o,s)?Eo.value(s):Eo.error(`Unsupported value: "${s}", choose one of "${o.join(", ")}".`),Wp(s=>r(s).fold(Cc,al));var r})(n)),Xp=(t,e)=>ll(t,e,LR),Gp=(t,e)=>ll(t,e,Kp),BR=p1("type"),PR=h1("fetch"),Qp=h1("onAction"),MR=Gp("onSetup",()=>Lt),IR=tu("text"),FR=tu("icon"),jR=tu("tooltip"),$R=tu("label"),HR=Xp("active",!1),zR=Xp("enabled",!0),v1=Xp("primary",!1),xc=t=>((e,n)=>ll("type",n,Jd))(0,t),UR=Vp([BR,p1("trigger"),g1("minChars",1),((t,e)=>wc(t,t,a1(1),OR()))("columns"),g1("maxResults",10),Yp("matches",Kp),PR,Qp,(y1=Jd,ll("highlightOn",[],d1(y1)))]);var y1;const Zp=[zR,jR,FR,IR,MR],_1=[HR].concat(Zp),qR=[Gp("predicate",Be),b1("scope","node",["node","editor"]),b1("position","selection",["node","selection","line"])],WR=Zp.concat([xc("contextformbutton"),v1,Qp,f1("original",me)]),VR=_1.concat([xc("contextformbutton"),v1,Qp,f1("original",me)]),KR=Zp.concat([xc("contextformbutton")]),YR=_1.concat([xc("contextformtogglebutton")]),XR=u1("type",{contextformbutton:WR,contextformtogglebutton:VR});Vp([xc("contextform"),Gp("initValue",yt("")),$R,((t,e)=>wc(t,t,{tag:"required",process:{}},d1(e)))("commands",XR),Yp("launch",u1("type",{contextformbutton:KR,contextformtogglebutton:YR}))].concat(qR));const GR=t=>{const e=t.ui.registry.getAll().popups,n=fs(e,s=>{return(i=s,RR("Autocompleter",UR,i)).fold(a=>{throw new Error(`Errors: 
`+(c=>{const u=c.length>10?c.slice(0,10).concat([{path:[],getErrorInfo:yt("... (only showing first ten failures)")}]):c;return re(u,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})((l=a).errors).join(`
`)+`

Input object: `+Up(l.input));var l},me);var i}),o=ei(Or(n,s=>s.trigger)),r=Is(n);return{dataset:n,triggers:o,lookupByTrigger:s=>Wt(r,i=>i.trigger===s)}},QR=t=>{const e=Ks(),n=Nn(!1),o=e.isSet,r=()=>{o()&&((l=>{l.dispatch("AutocompleterEnd")})(t),n.set(!1),e.clear())},s=Yo(()=>GR(t)),i=l=>{(c=>e.get().map(u=>Hp(t.dom,t.selection.getRng(),u.trigger,!0).bind(f=>s1(t,s,f,c))).getOrThunk(()=>((u,f)=>{const p=f(),b=u.selection.getRng();return((h,y,g)=>pn(g.triggers,C=>Hp(h,y,C)))(u.dom,b,p).bind(h=>s1(u,f,h))})(t,s)))(l).fold(r,c=>{(u=>{o()||e.set({trigger:u.trigger,matchLength:u.text.length})})(c.context),c.lookupData.then(u=>{e.get().map(f=>{const p=c.context;f.trigger===p.trigger&&(e.set({...f,matchLength:p.text.length}),n.get()?(zf(t,{range:p.range}),((b,h)=>{b.dispatch("AutocompleterUpdate",h)})(t,{lookupData:u})):(n.set(!0),zf(t,{range:p.range}),((b,h)=>{b.dispatch("AutocompleterStart",h)})(t,{lookupData:u})))})})})},a=()=>e.get().bind(({trigger:l})=>{const c=t.selection.getRng();return Hp(t.dom,c,l,n.get()).filter(({range:u})=>((f,p)=>{const b=f.compareBoundaryPoints(window.Range.START_TO_START,p),h=f.compareBoundaryPoints(window.Range.END_TO_END,p);return b>=0&&h<=0})(c,u)).map(({range:u})=>u)});t.addCommand("mceAutocompleterReload",(l,c)=>{const u=Xt(c)?c.fetchOptions:{};i(u)}),t.addCommand("mceAutocompleterClose",r),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{a().each(l=>{zf(t,{range:l})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>a().isSome()),((l,c)=>{const u=Zu(c.load,50);l.on("input",f=>{(f.inputType!=="insertCompositionText"||l.composing)&&u.throttle()}),l.on("keydown",f=>{const p=f.which;p===8?u.throttle():p===27?(u.cancel(),c.cancelIfNecessary()):p!==38&&p!==40||u.cancel()},!0),l.on("remove",u.cancel)})(t,{cancelIfNecessary:r,load:i})},ZR=Bn().browser.isSafari(),C1=t=>bi(P(t)),w1=(t,e)=>{var n;return t.startOffset===0&&t.endOffset===((n=e.textContent)===null||n===void 0?void 0:n.length)},eu=(t,e)=>E.from(t.getParent(e.container(),"details")),x1=(t,e)=>eu(t,e).isSome(),E1=(t,e)=>{const n=e.getNode();De(n)||t.selection.setCursorLocation(n,e.offset())},k1=(t,e,n)=>{const o=t.dom.getParent(e.container(),"details");if(o&&!o.open){const r=t.dom.select("summary",o)[0];r&&(n?Gn(r):Mr(r)).each(s=>E1(t,s))}else E1(t,e)},S1=(t,e,n)=>{const{dom:o,selection:r}=t,s=t.getBody();if(n==="character"){const i=tt.fromRangeStart(r.getRng()),a=o.getParent(i.container(),o.isBlock),l=eu(o,i),c=a&&o.isEmpty(a),u=Qt(a?.previousSibling),f=Qt(a?.nextSibling);return!!(c&&(e?f:u)&&Va(!e,s,i).exists(p=>x1(o,p)&&!Da(l,eu(o,p))))||Va(e,s,i).fold(Be,p=>{const b=eu(o,p);if(x1(o,p)&&!Da(l,b)){if(e||k1(t,p,!1),a&&c){if(e&&u||!e&&f)return!0;k1(t,p,e),t.dom.remove(a)}return!0}return!1})}return!1},JR=(t,e,n,o)=>{const r=t.selection.getRng(),s=tt.fromRangeStart(r),i=t.getBody();return o==="selection"?((a,l)=>{const c=l.startSummary.exists(p=>p.contains(a.startContainer)),u=l.startSummary.exists(p=>p.contains(a.endContainer)),f=l.startDetails.forall(p=>l.endDetails.forall(b=>p!==b));return(c||u)&&!(c&&u)||f})(r,e):n?((a,l)=>l.startSummary.exists(c=>((u,f)=>Mr(f).exists(p=>Qe(p.getNode())&&Ho(f,p).exists(b=>b.isEqual(u))||p.isEqual(u)))(a,c)))(s,e)||((a,l,c)=>c.startDetails.exists(u=>ko(a,l).forall(f=>!u.contains(f.container()))))(i,s,e):((a,l)=>l.startSummary.exists(c=>((u,f)=>Gn(f).exists(p=>p.isEqual(u)))(a,c)))(s,e)||((a,l)=>l.startDetails.exists(c=>Ho(c,a).forall(u=>l.startSummary.exists(f=>!f.contains(a.container())&&f.contains(u.container())))))(s,e)},pa=(t,e,n)=>((o,r,s)=>((i,a)=>{const l=E.from(i.getParent(a.startContainer,"details")),c=E.from(i.getParent(a.endContainer,"details"));if(l.isSome()||c.isSome()){const u=l.bind(f=>E.from(i.select("summary",f)[0]));return E.some({startSummary:u,startDetails:l,endDetails:c})}return E.none()})(o.dom,o.selection.getRng()).fold(()=>S1(o,r,s),i=>JR(o,i,r,s)||S1(o,r,s)))(t,e,n)||ZR&&((o,r,s)=>{const i=o.selection,a=i.getNode(),l=i.getRng(),c=tt.fromRangeStart(l);return!!WE(a)&&(s==="selection"&&w1(l,a)||G0(r,c,a)?C1(a):o.undoManager.transact(()=>{const u=i.getSel();let{anchorNode:f,anchorOffset:p,focusNode:b,focusOffset:h}=u??{};const y=()=>{gt(f)&&gt(p)&&gt(b)&&gt(h)&&u?.setBaseAndExtent(f,p,b,h)},g=(k,S)=>{Y(k.childNodes,N=>{Gl(N)&&S.appendChild(N)})},C=o.dom.create("span",{"data-mce-bogus":"1"});g(a,C),a.appendChild(C),y(),s!=="word"&&s!=="line"||u==null||u.modify("extend",r?"right":"left",s),!i.isCollapsed()&&w1(i.getRng(),C)?C1(a):(o.execCommand(r?"ForwardDelete":"Delete"),f=u?.anchorNode,p=u?.anchorOffset,b=u?.focusNode,h=u?.focusOffset,g(C,a),y()),o.dom.remove(C)}),!0)})(t,e,n)?E.some(Lt):E.none(),A1=t=>(e,n,o={})=>{const r=e.getBody(),s={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:Lt,inputType:n},i=ug(new InputEvent(t));return e.dispatch(t,{...i,...s,...o})},Ec=A1("input"),nu=A1("beforeinput"),N1=Bn(),T1=N1.os,R1=T1.isMacOS()||T1.isiOS(),tO=N1.browser.isFirefox(),cl=(t,e)=>{const n=t.dom,o=t.schema.getMoveCaretBeforeOnEnterElements();if(!e)return;if(/^(LI|DT|DD)$/.test(e.nodeName)){const s=(i=>{for(;i;){if(Tt(i)||ut(i)&&i.data&&/[\r\n\s]/.test(i.data))return i;i=i.nextSibling}return null})(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(n.doc.createTextNode(Le),e.firstChild)}const r=n.createRng();if(e.normalize(),e.hasChildNodes()){const s=new ge(e,e);let i,a=e;for(;i=s.current();){if(ut(i)){r.setStart(i,0),r.setEnd(i,0);break}if(o[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}a=i,i=s.next()}i||(r.setStart(a,0),r.setEnd(a,0))}else Qe(e)?e.nextSibling&&n.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),tc(t,r)},kc=(t,e)=>{const n=t.getRoot();let o,r=e;for(;r!==n&&r&&t.getContentEditable(r)!=="false";){if(t.getContentEditable(r)==="true"){o=r;break}r=r.parentNode}return r!==n?o:n},Jp=t=>E.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),th=t=>{t.innerHTML='<br data-mce-bogus="1">'},Sc=(t,e)=>{Xn(t).toLowerCase()===e.tagName.toLowerCase()&&((n,o,r)=>{const s=n.dom;E.from(r.style).map(s.parseStyle).each(u=>{const f={...it(P(o)),...u};s.setStyles(o,f)});const i=E.from(r.class).map(u=>u.split(/\s+/)),a=E.from(o.className).map(u=>Wt(u.split(/\s+/),f=>f!==""));gn(i,a,(u,f)=>{const p=Wt(f,h=>!pe(u,h)),b=[...u,...p];s.setAttrib(o,"class",b.join(" "))});const l=["style","class"],c=Rr(r,(u,f)=>!pe(l,f));s.setAttribs(o,c)})(t,e,Hl(t))},O1=(t,e,n,o,r=!0,s,i)=>{const a=t.dom,l=t.schema,c=Xn(t),u=n?n.nodeName.toUpperCase():"";let f=e;const p=l.getTextInlineElements();let b;b=s||u==="TABLE"||u==="HR"?a.create(s||c,i||{}):n.cloneNode(!1);let h=b;if(r)do if(p[f.nodeName]){if(hr(f)||gr(f))continue;const y=f.cloneNode(!1);a.setAttrib(y,"id",""),b.hasChildNodes()?(y.appendChild(b.firstChild),b.appendChild(y)):(h=y,b.appendChild(y))}while((f=f.parentNode)&&f!==o);else a.setAttrib(b,"style",null),a.setAttrib(b,"class",null);return Sc(t,b),th(h),b},D1=(t,e)=>{const n=t?.parentNode;return gt(n)&&n.nodeName===e},L1=t=>gt(t)&&/^(OL|UL|LI)$/.test(t.nodeName),eh=t=>gt(t)&&/^(LI|DT|DD)$/.test(t.nodeName),ou=t=>{const e=t.parentNode;return eh(e)?e:t},ru=(t,e,n)=>{let o=t[n?"firstChild":"lastChild"];for(;o&&!Tt(o);)o=o[n?"nextSibling":"previousSibling"];return o===e},B1=t=>tn(Or(it(P(t)),(e,n)=>`${n}: ${e};`),(e,n)=>e+n,""),eO=(t,e)=>e&&e.nodeName==="A"&&t.isEmpty(e),nh=(t,e)=>t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e,oh=(t,e)=>gt(e)&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&t.isEditable(e.parentNode)&&t.getContentEditable(e)!=="false",rh=(t,e,n)=>ut(e)?t?n===1&&e.data.charAt(n-1)===Tn?0:n:n===e.data.length-1&&e.data.charAt(n)===Tn?e.data.length:n:n,P1={insert:(t,e)=>{let n,o,r,s,i=!1;const a=t.dom,l=t.schema.getNonEmptyElements(),c=t.selection.getRng(),u=Xn(t),f=P(c.startContainer),p=He(f,c.startOffset),b=p.exists(z=>vs(z)&&!ur(z)),h=c.collapsed&&b,y=(z,G)=>O1(t,n,T,N,jk(t),z,G),g=z=>{const G=rh(z,n,o);if(ut(n)&&(z?G>0:G<n.data.length))return!1;if((n.parentNode===T||n===T)&&i&&!z||z&&Tt(n)&&n===T.firstChild)return!0;if(nh(n,"TABLE")||nh(n,"HR"))return i&&!z||!i&&z;const B=new ge(n,T);let j;for(ut(n)&&(z&&G===0?B.prev():z||G!==n.data.length||B.next());j=B.current();){if(Tt(j)){if(!j.getAttribute("data-mce-bogus")){const H=j.nodeName.toLowerCase();if(l[H]&&H!=="br")return!1}}else if(ut(j)&&!xo(j.data))return!1;z?B.prev():B.next()}return!0},C=()=>{let z;return z=/^(H[1-6]|PRE|FIGURE)$/.test(r)&&D!=="HGROUP"?y(u):y(),((G,B)=>{const j=$k(G);return!he(B)&&(Dt(j)?pe(lt.explode(j),B.nodeName.toLowerCase()):j)})(t,s)&&oh(a,s)&&a.isEmpty(T,void 0,{includeZwsp:!0})?z=a.split(s,T):a.insertAfter(z,T),cl(t,z),z};fd(a,c).each(z=>{c.setStart(z.startContainer,z.startOffset),c.setEnd(z.endContainer,z.endOffset)}),n=c.startContainer,o=c.startOffset;const k=!(!e||!e.shiftKey),S=!(!e||!e.ctrlKey);Tt(n)&&n.hasChildNodes()&&!h&&(i=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=i&&ut(n)?n.data.length:0);const N=kc(a,n);if(!N||((z,G)=>{const B=z.dom.getParent(G,"ol,ul,dl");return B!==null&&z.dom.getContentEditableParent(B)==="false"})(t,n))return;k||(n=((z,G,B,j,H)=>{var et,ft;const ct=z.dom,Et=(et=kc(ct,j))!==null&&et!==void 0?et:ct.getRoot();let Rt=ct.getParent(j,ct.isBlock);if(!Rt||!oh(ct,Rt)){if(Rt=Rt||Et,!Rt.hasChildNodes()){const Nt=ct.create(G);return Sc(z,Nt),Rt.appendChild(Nt),B.setStart(Nt,0),B.setEnd(Nt,0),Nt}let Bt,kt=j;for(;kt&&kt.parentNode!==Rt;)kt=kt.parentNode;for(;kt&&!ct.isBlock(kt);)Bt=kt,kt=kt.previousSibling;const bt=(ft=Bt?.parentElement)===null||ft===void 0?void 0:ft.nodeName;if(Bt&&bt&&z.schema.isValidChild(bt,G.toLowerCase())){const Nt=Bt.parentNode,$=ct.create(G);for(Sc(z,$),Nt.insertBefore($,Bt),kt=Bt;kt&&!ct.isBlock(kt);){const U=kt.nextSibling;$.appendChild(kt),kt=U}B.setStart(j,H),B.setEnd(j,H)}}return j})(t,u,c,n,o));let T=a.getParent(n,a.isBlock)||a.getRoot();s=gt(T?.parentNode)?a.getParent(T.parentNode,a.isBlock):null,r=T?T.nodeName.toUpperCase():"";const D=s?s.nodeName.toUpperCase():"";if(D!=="LI"||S||(T=s,s=s.parentNode,r=D),Tt(s)&&((z,G,B)=>!G&&B.nodeName.toLowerCase()===Xn(z)&&z.dom.isEmpty(B)&&((j,H,et)=>{let ft=H;for(;ft&&ft!==j&&Qt(ft.nextSibling);){const Et=ft.parentElement;if(!Et||(ct=Et,!Ht(z.schema.getTextBlockElements(),ct.nodeName.toLowerCase())))return Ru(Et);ft=Et}var ct;return!1})(z.getBody(),B))(t,k,T))return((z,G,B)=>{var j,H,et;const ft=G(Xn(z)),ct=((Et,Rt)=>Et.dom.getParent(Rt,Ru))(z,B);ct&&(z.dom.insertAfter(ft,ct),cl(z,ft),((et=(H=(j=B.parentElement)===null||j===void 0?void 0:j.childNodes)===null||H===void 0?void 0:H.length)!==null&&et!==void 0?et:0)>1&&z.dom.remove(B))})(t,y,T);if(/^(LI|DT|DD)$/.test(r)&&Tt(s)&&a.isEmpty(T))return void((z,G,B,j,H)=>{const et=z.dom,ft=z.selection.getRng(),ct=B.parentNode;if(B===z.getBody()||!ct)return;var Et;L1(Et=B)&&L1(Et.parentNode)&&(H="LI");const Rt=eh(j)?B1(j):void 0;let Bt=eh(j)&&Rt?G(H,{style:B1(j)}):G(H);if(ru(B,j,!0)&&ru(B,j,!1))if(D1(B,"LI")){const kt=ou(B);et.insertAfter(Bt,kt),(bt=>{var Nt;return((Nt=bt.parentNode)===null||Nt===void 0?void 0:Nt.firstChild)===bt})(B)?et.remove(kt):et.remove(B)}else et.replace(Bt,B);else if(ru(B,j,!0))D1(B,"LI")?(et.insertAfter(Bt,ou(B)),Bt.appendChild(et.doc.createTextNode(" ")),Bt.appendChild(B)):ct.insertBefore(Bt,B),et.remove(j);else if(ru(B,j,!1))et.insertAfter(Bt,ou(B)),et.remove(j);else{B=ou(B);const kt=ft.cloneRange();kt.setStartAfter(j),kt.setEndAfter(B);const bt=kt.extractContents();if(H==="LI"&&((Nt,$)=>Nt.firstChild&&Nt.firstChild.nodeName==="LI")(bt)){const Nt=Wt(re(Bt.children,P),ds(ro("br")));Bt=bt.firstChild,et.insertAfter(bt,B),Y(Nt,$=>Kt(P(Bt),$)),Rt&&Bt.setAttribute("style",Rt)}else et.insertAfter(bt,B),et.insertAfter(Bt,B);et.remove(j)}cl(z,Bt)})(t,y,s,T,u);if(!(h||T!==t.getBody()&&oh(a,T)))return;const F=T.parentNode;let M;if(h)M=y(u),p.fold(()=>{At(f,P(M))},z=>{Ot(z,P(M))}),t.selection.setCursorLocation(M,0);else if(Ha(T))M=of(T),a.isEmpty(T)&&th(T),Sc(t,M),cl(t,M);else if(g(!1))M=C();else if(g(!0)&&F){const z=tt.fromRangeStart(c),G=im(z),B=P(T),j=_d(B,z,t.schema)?R0(B,z,t.schema).bind(et=>E.from(et.getNode())):E.none();M=F.insertBefore(y(),T);const H=nh(T,"HR")||G?M:j.getOr(T);cl(t,H)}else{const z=(B=>{const j=B.cloneRange();return j.setStart(B.startContainer,rh(!0,B.startContainer,B.startOffset)),j.setEnd(B.endContainer,rh(!1,B.endContainer,B.endOffset)),j})(c).cloneRange();z.setEndAfter(T);const G=z.extractContents();(B=>{Y(K(P(B),Cn),j=>{const H=j.dom;H.nodeValue=or(H.data)})})(G),(B=>{let j=B;do ut(j)&&(j.data=j.data.replace(/^[\r\n]+/,"")),j=j.firstChild;while(j)})(G),M=G.firstChild,a.insertAfter(G,T),((B,j,H)=>{var et;const ft=[];if(!H)return;let ct=H;for(;ct=ct.firstChild;){if(B.isBlock(ct))return;Tt(ct)&&!j[ct.nodeName.toLowerCase()]&&ft.push(ct)}let Et=ft.length;for(;Et--;)ct=ft[Et],(!ct.hasChildNodes()||ct.firstChild===ct.lastChild&&((et=ct.firstChild)===null||et===void 0?void 0:et.nodeValue)===""||eO(B,ct))&&B.remove(ct)})(a,l,M),((B,j)=>{j.normalize();const H=j.lastChild;(!H||Tt(H)&&/^(left|right)$/gi.test(B.getStyle(H,"float",!0)))&&B.add(j,"br")})(a,T),a.isEmpty(T)&&th(T),M.normalize(),a.isEmpty(M)?(a.remove(M),C()):(Sc(t,M),cl(t,M))}a.setAttrib(M,"id",""),t.dispatch("NewBlock",{newBlock:M})},fakeEventName:"insertParagraph"},M1=(t,e,n)=>{const o=t.dom.createRng();n?(o.setStartBefore(e),o.setEndBefore(e)):(o.setStartAfter(e),o.setEndAfter(e)),t.selection.setRng(o),tc(t,o)},nO=(t,e)=>{const n=Mt("br");Ot(P(e),n),t.undoManager.add()},oO=(t,e)=>{rO(t.getBody(),e)||jt(P(e),Mt("br"));const n=Mt("br");jt(P(e),n),M1(t,n.dom,!1),t.undoManager.add()},rO=(t,e)=>{return n=tt.after(e),!!Qe(n.getNode())||ko(t,tt.after(e)).map(o=>Qe(o.getNode())).getOr(!1);var n},I1=t=>t&&t.nodeName==="A"&&"href"in t,sO=t=>t.fold(Be,I1,I1,Be),iO=(t,e)=>{e.fold(Lt,St(nO,t),St(oO,t),Lt)},F1={insert:(t,e)=>{const n=(o=>{const r=St(da,o),s=tt.fromRangeStart(o.selection.getRng());return Ds(r,o.getBody(),s).filter(sO)})(t);n.isSome()?n.each(St(iO,t)):((o,r)=>{const s=o.selection,i=o.dom,a=s.getRng();let l,c=!1;fd(i,a).each(g=>{a.setStart(g.startContainer,g.startOffset),a.setEnd(g.endContainer,g.endOffset)});let u=a.startOffset,f=a.startContainer;if(Tt(f)&&f.hasChildNodes()){const g=u>f.childNodes.length-1;f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f,u=g&&ut(f)?f.data.length:0}let p=i.getParent(f,i.isBlock);const b=p&&p.parentNode?i.getParent(p.parentNode,i.isBlock):null,h=b?b.nodeName.toUpperCase():"",y=!(!r||!r.ctrlKey);h!=="LI"||y||(p=b),ut(f)&&u>=f.data.length&&(((g,C,k)=>{const S=new ge(C,k);let N;const T=g.getNonEmptyElements();for(;N=S.next();)if(T[N.nodeName.toLowerCase()]||ut(N)&&N.length>0)return!0;return!1})(o.schema,f,p||i.getRoot())||(l=i.create("br"),a.insertNode(l),a.setStartAfter(l),a.setEndAfter(l),c=!0)),l=i.create("br"),df(i,a,l),M1(o,l,c),o.undoManager.add()})(t,e)},fakeEventName:"insertLineBreak"},j1=(t,e)=>Jp(t).filter(n=>e.length>0&&fn(P(n),e)).isSome(),rr=ks([{br:[]},{block:[]},{none:[]}]),aO=(t,e)=>(n=>j1(n,Fk(n)))(t),$1=t=>(e,n)=>(o=>Jp(o).filter(r=>Fa(P(r))).isSome())(e)===t,H1=(t,e)=>(n,o)=>(s=>Jp(s).fold(yt(""),i=>i.nodeName.toUpperCase()))(n)===t.toUpperCase()===e,lO=t=>{const e=kc(t.dom,t.selection.getStart());return he(e)},Ac=t=>H1("pre",t),su=t=>(e,n)=>Pk(e)===t,cO=(t,e)=>(n=>j1(n,Ik(n)))(t),iu=(t,e)=>e,dO=t=>{const e=Xn(t),n=kc(t.dom,t.selection.getStart());return gt(n)&&t.schema.isValidChild(n.nodeName,e)},uO=t=>{const e=t.selection.getRng(),n=P(e.startContainer),o=He(n,e.startOffset).map(r=>vs(r)&&!ur(r));return e.collapsed&&o.getOr(!0)},xr=(t,e)=>(n,o)=>tn(t,(r,s)=>r&&s(n,o),!0)?E.some(e):E.none(),au=(t,e,n)=>{e.selection.isCollapsed()||(o=>{o.execCommand("delete")})(e),gt(n)&&nu(e,t.fakeEventName).isDefaultPrevented()||(t.insert(e,n),gt(n)&&Ec(e,t.fakeEventName))},z1=(t,e)=>{const n=()=>au(F1,t,e),o=()=>au(P1,t,e),r=((s,i)=>jC([xr([aO],rr.none()),xr([Ac(!0),lO],rr.none()),xr([H1("summary",!0)],rr.br()),xr([Ac(!0),su(!1),iu],rr.br()),xr([Ac(!0),su(!1)],rr.block()),xr([Ac(!0),su(!0),iu],rr.block()),xr([Ac(!0),su(!0)],rr.br()),xr([$1(!0),iu],rr.br()),xr([$1(!0)],rr.block()),xr([cO],rr.br()),xr([iu],rr.br()),xr([dO],rr.block()),xr([uO],rr.block())],[s,!(!i||!i.shiftKey)]).getOr(rr.none()))(t,e);switch(Mk(t)){case"linebreak":r.fold(n,n,Lt);break;case"block":r.fold(o,o,Lt);break;case"invert":r.fold(o,n,Lt);break;default:r.fold(n,o,Lt)}},U1=Bn(),fO=U1.os.isiOS()&&U1.browser.isSafari(),q1=(t,e)=>{var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact(()=>{z1(t,e)}))},mO=Bn(),W1=t=>t.stopImmediatePropagation(),V1=t=>t.keyCode===Ct.PAGE_UP||t.keyCode===Ct.PAGE_DOWN,K1=(t,e,n)=>{n&&!t.get()?e.on("NodeChange",W1,!0):!n&&t.get()&&e.off("NodeChange",W1),t.set(n)},Y1=(t,e)=>{const n=e.container(),o=e.offset();return ut(n)?(n.insertData(o,t),E.some(tt(n,o+t.length))):td(e).map(r=>{const s=ie(t);return e.isAtEnd()?jt(r,s):Ot(r,s),tt(s.dom,t.length)})},X1=St(Y1,Le),G1=St(Y1," "),Q1=t=>e=>{t.selection.setRng(e.toRange()),t.nodeChanged()},pO=t=>{const e=tt.fromRangeStart(t.selection.getRng()),n=P(t.getBody());if(t.selection.isCollapsed()){const o=St(da,t),r=tt.fromRangeStart(t.selection.getRng());return Ds(o,t.getBody(),r).bind((s=>i=>i.fold(a=>Ho(s.dom,tt.before(a)),a=>Gn(a),a=>Mr(a),a=>ko(s.dom,tt.after(a))))(n)).map(s=>()=>((i,a,l)=>c=>M0(i,c,l)?X1(a):G1(a))(n,e,t.schema)(s).each(Q1(t)))}return E.none()},hO=t=>{return Yr(fe.browser.isFirefox()&&t.selection.isEditable()&&(e=t.dom,n=t.selection.getRng().startContainer,e.isEditable(e.getParent(n,"summary"))),()=>{const o=P(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete"),((r,s,i)=>M0(r,s,i)?X1(s):G1(s))(o,tt.fromRangeStart(t.selection.getRng()),t.schema).each(Q1(t))});var e,n},gO=t=>WS(t)?[{keyCode:Ct.TAB,action:qt(t1,t,!0)},{keyCode:Ct.TAB,shiftKey:!0,action:qt(t1,t,!1)}]:[],bO=t=>{if(t.addShortcut("Meta+P","","mcePrint"),QR(t),Os(t))return Nn(null);{const e=nR(t);return(n=>{n.on("beforeinput",o=>{n.selection.isEditable()&&!ve(o.getTargetRanges(),r=>!e0(n.dom,r))||o.preventDefault()})})(t),(n=>{n.on("keyup compositionstart",St(fR,n))})(t),((n,o)=>{n.on("keydown",r=>{r.isDefaultPrevented()||((s,i,a)=>{const l=fe.os.isMacOS()||fe.os.isiOS();yc([{keyCode:Ct.RIGHT,action:qt(Dw,s,!0)},{keyCode:Ct.LEFT,action:qt(Dw,s,!1)},{keyCode:Ct.UP,action:qt(Lw,s,!1)},{keyCode:Ct.DOWN,action:qt(Lw,s,!0)},...l?[{keyCode:Ct.UP,action:qt(Yd,s,!1),metaKey:!0,shiftKey:!0},{keyCode:Ct.DOWN,action:qt(Yd,s,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ct.RIGHT,action:qt(Qw,s,!0)},{keyCode:Ct.LEFT,action:qt(Qw,s,!1)},{keyCode:Ct.UP,action:qt(Ip,s,!1)},{keyCode:Ct.DOWN,action:qt(Ip,s,!0)},{keyCode:Ct.UP,action:qt(Ip,s,!1)},{keyCode:Ct.UP,action:qt(Mw,s,!1)},{keyCode:Ct.DOWN,action:qt(Mw,s,!0)},{keyCode:Ct.RIGHT,action:qt($w,s,!0)},{keyCode:Ct.LEFT,action:qt($w,s,!1)},{keyCode:Ct.UP,action:qt(Hw,s,!1)},{keyCode:Ct.DOWN,action:qt(Hw,s,!0)},{keyCode:Ct.RIGHT,action:qt(cw,s,i,!0)},{keyCode:Ct.LEFT,action:qt(cw,s,i,!1)},{keyCode:Ct.RIGHT,ctrlKey:!l,altKey:l,action:qt(oR,s,i)},{keyCode:Ct.LEFT,ctrlKey:!l,altKey:l,action:qt(rR,s,i)},{keyCode:Ct.UP,action:qt(Pw,s,!1)},{keyCode:Ct.DOWN,action:qt(Pw,s,!0)}],a).each(c=>{a.preventDefault()})})(n,o,r)})})(t,e),((n,o)=>{let r=!1;n.on("keydown",s=>{r=s.keyCode===Ct.BACKSPACE,s.isDefaultPrevented()||((i,a,l)=>{const c=l.keyCode===Ct.BACKSPACE?"deleteContentBackward":"deleteContentForward",u=i.selection.isCollapsed(),f=u?"character":"selection",p=b=>u?b?"word":"line":"selection";jw([{keyCode:Ct.BACKSPACE,action:qt(Ew,i)},{keyCode:Ct.BACKSPACE,action:qt(yp,i,!1)},{keyCode:Ct.DELETE,action:qt(yp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(gp,i,!1)},{keyCode:Ct.DELETE,action:qt(gp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(Tp,i,a,!1)},{keyCode:Ct.DELETE,action:qt(Tp,i,a,!0)},{keyCode:Ct.BACKSPACE,action:qt(wm,i,!1)},{keyCode:Ct.DELETE,action:qt(wm,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(pa,i,!1,f)},{keyCode:Ct.DELETE,action:qt(pa,i,!0,f)},...R1?[{keyCode:Ct.BACKSPACE,altKey:!0,action:qt(pa,i,!1,p(!0))},{keyCode:Ct.DELETE,altKey:!0,action:qt(pa,i,!0,p(!0))},{keyCode:Ct.BACKSPACE,metaKey:!0,action:qt(pa,i,!1,p(!1))}]:[{keyCode:Ct.BACKSPACE,ctrlKey:!0,action:qt(pa,i,!1,p(!0))},{keyCode:Ct.DELETE,ctrlKey:!0,action:qt(pa,i,!0,p(!0))}],{keyCode:Ct.BACKSPACE,action:qt(Cp,i,!1)},{keyCode:Ct.DELETE,action:qt(Cp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(Dp,i,!1)},{keyCode:Ct.DELETE,action:qt(Dp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(pp,i,!1)},{keyCode:Ct.DELETE,action:qt(pp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(mp,i,!1)},{keyCode:Ct.DELETE,action:qt(mp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(Rp,i,!1)},{keyCode:Ct.DELETE,action:qt(Rp,i,!0)},{keyCode:Ct.BACKSPACE,action:qt(_p,i,!1)},{keyCode:Ct.DELETE,action:qt(_p,i,!0)}],l).filter(b=>i.selection.isEditable()).each(b=>{l.preventDefault(),nu(i,c).isDefaultPrevented()||(b(),Ec(i,c))})})(n,o,s)}),n.on("keyup",s=>{s.isDefaultPrevented()||((i,a,l)=>{yc([{keyCode:Ct.BACKSPACE,action:qt(TC,i)},{keyCode:Ct.DELETE,action:qt(TC,i)},...R1?[{keyCode:Ct.BACKSPACE,altKey:!0,action:qt(vc,i)},{keyCode:Ct.DELETE,altKey:!0,action:qt(vc,i)},...l?[{keyCode:tO?224:91,action:qt(vc,i)}]:[]]:[{keyCode:Ct.BACKSPACE,ctrlKey:!0,action:qt(vc,i)},{keyCode:Ct.DELETE,ctrlKey:!0,action:qt(vc,i)}]],a)})(n,s,r),r=!1})})(t,e),(n=>{let o=E.none();n.on("keydown",r=>{r.keyCode===Ct.ENTER&&(fO&&(s=>{if(!s.collapsed)return!1;const i=s.startContainer;if(ut(i)){const a=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,l=i.data.charAt(s.startOffset-1);return a.test(l)}return!1})(n.selection.getRng())?(s=>{o=E.some(s.selection.getBookmark()),s.undoManager.add()})(n):q1(n,r))}),n.on("keyup",r=>{r.keyCode===Ct.ENTER&&o.each(()=>((s,i)=>{s.undoManager.undo(),o.fold(Lt,a=>s.selection.moveToBookmark(a)),q1(s,i),o=E.none()})(n,r))})})(t),(n=>{n.on("keydown",o=>{o.isDefaultPrevented()||((r,s)=>{jw([{keyCode:Ct.SPACEBAR,action:qt(pO,r)},{keyCode:Ct.SPACEBAR,action:qt(hO,r)}],s).each(i=>{s.preventDefault(),nu(r,"insertText",{data:" "}).isDefaultPrevented()||(i(),Ec(r,"insertText",{data:" "}))})})(n,o)})})(t),(n=>{n.on("input",o=>{o.isComposing||(r=>{const s=P(r.getBody());r.selection.isCollapsed()&&tN(s,tt.fromRangeStart(r.selection.getRng()),r.schema).each(i=>{r.selection.setRng(i.toRange())})})(n)})})(t),(n=>{n.on("keydown",o=>{o.isDefaultPrevented()||((r,s)=>{yc([...gO(r)],s).each(i=>{s.preventDefault()})})(n,o)})})(t),((n,o)=>{n.on("keydown",r=>{r.isDefaultPrevented()||((s,i,a)=>{const l=fe.os.isMacOS()||fe.os.isiOS();yc([{keyCode:Ct.END,action:qt(Bw,s,!0)},{keyCode:Ct.HOME,action:qt(Bw,s,!1)},...l?[]:[{keyCode:Ct.HOME,action:qt(Yd,s,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ct.END,action:qt(Yd,s,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ct.END,action:qt(zw,s,!0)},{keyCode:Ct.HOME,action:qt(zw,s,!1)},{keyCode:Ct.END,action:qt(Kd,s,!0,i)},{keyCode:Ct.HOME,action:qt(Kd,s,!1,i)}],a).each(c=>{a.preventDefault()})})(n,o,r)})})(t,e),((n,o)=>{if(mO.os.isMacOS())return;const r=Nn(!1);n.on("keydown",s=>{V1(s)&&K1(r,n,!0)}),n.on("keyup",s=>{s.isDefaultPrevented()||((i,a,l)=>{yc([{keyCode:Ct.PAGE_UP,action:qt(Kd,i,!1,a)},{keyCode:Ct.PAGE_DOWN,action:qt(Kd,i,!0,a)}],l)})(n,o,s),V1(s)&&r.get()&&(K1(r,n,!1),n.nodeChanged())})})(t,e),e}};class vO{constructor(e){let n;this.lastPath=[],this.editor=e;const o=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",r=>{const s=e.selection.getRng(),i={startContainer:s.startContainer,startOffset:s.startOffset,endContainer:s.endContainer,endOffset:s.endOffset};r.type!=="nodechange"&&Kf(i,n)||e.dispatch("SelectionChange"),n=i}),e.on("contextmenu",()=>{hd(e),e.dispatch("SelectionChange")}),e.on("SelectionChange",()=>{const r=e.selection.getStart(!0);r&&sd(e)&&!o.isSameElementPath(r)&&e.dom.isChildOf(r,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",r=>{!r.isDefaultPrevented()&&sd(e)&&(e.selection.getNode().nodeName==="IMG"?vr.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){const n=this.editor.selection;let o;if(this.editor.initialized&&n&&!hS(this.editor)&&!this.editor.mode.isReadOnly()){const r=this.editor.getBody();o=n.getStart(!0)||r,o.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(o,r)||(o=r);const s=[];this.editor.dom.getParent(o,i=>i===r||(s.push(i),!1)),this.editor.dispatch("NodeChange",{...e,element:o,parents:s})}}isSameElementPath(e){let n;const o=this.editor,r=ar(o.dom.getParents(e,ze,o.getBody()));if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1}}const Z1=Bl("image"),sh=Bl("event"),lu=t=>e=>{e[sh]=t},J1=lu(0),yO=lu(2),_O=lu(1),CO=t=>{const e=t;return E.from(e[sh]).exists(n=>n===0)},ih=Bl("mode"),cu=t=>e=>{e[ih]=t},tx=(t,e)=>cu(e)(t),ex=cu(0),ah=cu(2),wO=cu(1),nx=t=>e=>{const n=e;return E.from(n[ih]).exists(o=>o===t)},dl=nx(0),ox=nx(1),xO=["none","copy","link","move"],EO=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],lh=()=>{const t=new window.DataTransfer;let e="move",n="all";const o={get dropEffect(){return e},set dropEffect(r){pe(xO,r)&&(e=r)},get effectAllowed(){return n},set effectAllowed(r){CO(o)&&pe(EO,r)&&(n=r)},get items(){return((r,s)=>({...s,get length(){return s.length},add:(i,a)=>{if(dl(r)){if(!Dt(i))return s.add(i);if(!De(a))return s.add(i,a)}return null},remove:i=>{dl(r)&&s.remove(i)},clear:()=>{dl(r)&&s.clear()}}))(o,t.items)},get files(){return ox(o)?Object.freeze({length:0,item:r=>null}):t.files},get types(){return t.types},setDragImage:(r,s,i)=>{var a;dl(o)&&(a={image:r,x:s,y:i},o[Z1]=a,t.setDragImage(r,s,i))},getData:r=>ox(o)?"":t.getData(r),setData:(r,s)=>{dl(o)&&t.setData(r,s)},clearData:r=>{dl(o)&&t.clearData(r)}};return ex(o),o},rx=(t,e)=>t.setData("text/html",e),sx="x-tinymce/html",du=yt(sx),ch="<!-- "+sx+" -->",kO=t=>ch+t,ix=t=>t.indexOf(ch)!==-1,ax="%MCEPASTEBIN%",dh=t=>t.dom.get("mcepastebin"),SO=t=>gt(t)&&t.id==="mcepastebin",lx=t=>t===ax,cx=(t,e)=>(lt.each(e,n=>{t=yo(n,RegExp)?t.replace(n,""):t.replace(n[0],n[1])}),t),dx=t=>cx(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,n,o)=>n||o?Le:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),ux=(t,e)=>({content:t,cancelled:e}),uh=(t,e)=>(t.insertContent(e,{merge:LS(t),paste:!0}),!0),fh=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),AO=(t,e,n)=>!(t.selection.isCollapsed()||!fh(e))&&((o,r,s)=>(o.undoManager.extra(()=>{s(o,r)},()=>{o.execCommand("mceInsertLink",!1,r)}),!0))(t,e,n),NO=(t,e,n)=>!!((o,r)=>fh(r)&&ve(kb(o),s=>Go(r.toLowerCase(),`.${s.toLowerCase()}`)))(t,e)&&((o,r,s)=>(o.undoManager.extra(()=>{s(o,r)},()=>{o.insertContent('<img src="'+r+'">')}),!0))(t,e,n),TO=(t=>{let e=0;return()=>"mceclip"+e++})(),RO=t=>{const e=lh();return rx(e,t),ah(e),e},fx=(t,e,n,o,r)=>{const s=((i,a,l)=>((c,u,f)=>{const p=((h,y,g)=>h.dispatch("PastePreProcess",{content:y,internal:g}))(c,u,f),b=((h,y)=>{const g=nl({sanitize:Eb(h),sandbox_iframes:Sb(h),sandbox_iframes_exclusions:yf(h),convert_unsafe_embeds:YS(h)},h.schema);g.addNodeFilter("meta",k=>{lt.each(k,S=>{S.remove()})});const C=g.parse(y,{forced_root_block:!1,isRootContent:!0});return xi({validate:!0},h.schema).serialize(C)})(c,p.content);return c.hasEventListeners("PastePostProcess")&&!p.isDefaultPrevented()?((h,y,g)=>{const C=h.dom.create("div",{style:"display:none"},y),k=((S,N,T)=>S.dispatch("PastePostProcess",{node:N,internal:T}))(h,C,g);return ux(k.node.innerHTML,k.isDefaultPrevented())})(c,b,f):ux(b,p.isDefaultPrevented())})(i,a,l))(t,e,n);if(!s.cancelled){const i=s.content,a=()=>((l,c,u)=>{u||!BS(l)?uh(l,c):((f,p)=>{lt.each([AO,NO,uh],b=>!b(f,p,uh))})(l,c)})(t,i,o);r?nu(t,"insertFromPaste",{dataTransfer:RO(i)}).isDefaultPrevented()||(a(),Ec(t,"insertFromPaste")):a()}},uu=(t,e,n,o)=>{const r=n||ix(e);fx(t,(s=>s.replace(ch,""))(e),r,!1,o)},mh=(t,e,n)=>{const o=t.dom.encode(e).replace(/\r\n/g,`
`),r=((s,i,a)=>{const l=s.split(/\n\n/),c=((p,b)=>{let h="<"+p;const y=Or(b,(g,C)=>C+'="'+Yi.encodeAllRaw(g)+'"');return y.length&&(h+=" "+y.join(" ")),h+">"})(i,a),u="</"+i+">",f=re(l,p=>p.split(/\n/).join("<br />"));return f.length===1?f[0]:re(f,p=>c+p+u).join("")})(nr(o,MS(t)),Xn(t),Hl(t));fx(t,r,!1,!0,n)},mx=t=>{const e={};if(t&&t.types)for(let n=0;n<t.types.length;n++){const o=t.types[n];try{e[o]=t.getData(o)}catch{e[o]=""}}return e},Ni=(t,e)=>e in t&&t[e].length>0,px=t=>Ni(t,"text/html")||Ni(t,"text/plain"),hx=(t,e,n)=>{const o=e.type==="paste"?e.clipboardData:e.dataTransfer;var r;if(Zc(t)&&o){const s=((i,a)=>{const l=a.items?en(nn(a.items),u=>u.kind==="file"?[u.getAsFile()]:[]):[],c=a.files?nn(a.files):[];return Wt(l.length>0?l:c,(u=>{const f=kb(u);return p=>Xe(p.type,"image/")&&ve(f,b=>(h=>{const y=h.toLowerCase(),g={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return lt.hasOwn(g,y)?"image/"+g[y]:"image/"+y})(b)===p.type)})(i))})(t,o);if(s.length>0)return e.preventDefault(),(r=s,Promise.all(re(r,i=>i_(i).then(a=>({file:i,uri:a}))))).then(i=>{n&&t.selection.setRng(n),Y(i,a=>{((l,c)=>{qm(c.uri).each(({data:u,type:f,base64Encoded:p})=>{const b=p?u:btoa(u),h=c.file,y=l.editorUpload.blobCache,g=y.getByData(b,f),C=g??((k,S,N,T)=>{const D=TO(),F=fb(k)&&gt(N.name),M=F?((B,j)=>{const H=j.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return gt(H)?B.dom.encode(H[1]):void 0})(k,N.name):D,z=F?N.name:void 0,G=S.create(D,N,T,M,z);return S.add(G),G})(l,y,h,b);uu(l,`<img src="${C.blobUri()}">`,!1,!0)})})(t,a)})}),!0}return!1},ph=(t,e,n,o,r)=>{let s=dx(n);const i=Ni(e,du())||ix(n),a=!i&&(c=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(c))(s),l=fh(s);(lx(s)||!s.length||a&&!l)&&(o=!0),(o||l)&&(s=Ni(e,"text/plain")&&a?e["text/plain"]:(c=>{const u=gi(),f=nl({},u);let p="";const b=u.getVoidElements(),h=lt.makeMap("script noscript style textarea video audio iframe object"," "),y=u.getBlockElements(),g=C=>{const k=C.name,S=C;if(k!=="br"){if(k!=="wbr")if(b[k]&&(p+=" "),h[k])p+=" ";else{if(C.type===3&&(p+=C.value),!(C.name in u.getVoidElements())){let N=C.firstChild;if(N)do g(N);while(N=N.next)}y[k]&&S.next&&(p+=`
`,k==="p"&&(p+=`
`))}}else p+=`
`};return c=cx(c,[/<!\[[^\]]+\]>/g]),g(f.parse(c)),p})(s)),lx(s)||(o?mh(t,s,r):uu(t,s,i,r))},OO=(t,e,n)=>{((o,r,s)=>{let i;o.on("keydown",a=>{(l=>Ct.metaKeyPressed(l)&&l.keyCode===86||l.shiftKey&&l.keyCode===45)(a)&&!a.isDefaultPrevented()&&(i=a.shiftKey&&a.keyCode===86)}),o.on("paste",a=>{if(a.isDefaultPrevented()||(u=>{var f,p;return fe.os.isAndroid()&&((p=(f=u.clipboardData)===null||f===void 0?void 0:f.items)===null||p===void 0?void 0:p.length)===0})(a))return;const l=s.get()==="text"||i;i=!1;const c=mx(a.clipboardData);!px(c)&&hx(o,a,r.getLastRng()||o.selection.getRng())||(Ni(c,"text/html")?(a.preventDefault(),ph(o,c,c["text/html"],l,!0)):Ni(c,"text/plain")&&Ni(c,"text/uri-list")?(a.preventDefault(),ph(o,c,c["text/plain"],l,!0)):(r.create(),vr.setEditorTimeout(o,()=>{const u=r.getHtml();r.remove(),ph(o,c,u,l,!1)},0)))})})(t,e,n),(o=>{const r=i=>Xe(i,"webkit-fake-url"),s=i=>Xe(i,"data:");o.parser.addNodeFilter("img",(i,a,l)=>{if(!Zc(o)&&(c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0})(l))for(const c of i){const u=c.attr("src");Dt(u)&&!c.attr("data-mce-object")&&u!==fe.transparentSrc&&(r(u)||!IS(o)&&s(u))&&c.remove()}})})(t)},gx=(t,e,n,o)=>{((r,s,i)=>{if(!r)return!1;try{return r.clearData(),r.setData("text/html",s),r.setData("text/plain",i),r.setData(du(),s),!0}catch{return!1}})(t.clipboardData,e.html,e.text)?(t.preventDefault(),o()):n(e.html,o)},bx=t=>(e,n)=>{const{dom:o,selection:r}=t,s=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=o.create("div",{contenteditable:"true"},e);o.setStyles(s,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),s.appendChild(i),o.add(t.getBody(),s);const a=r.getRng();i.focus();const l=o.createRng();l.selectNodeContents(i),r.setRng(l),vr.setEditorTimeout(t,()=>{r.setRng(a),o.remove(s),n()},0)},vx=t=>({html:kO(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),yx=t=>!t.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(t),_x=(t,e)=>{var n,o;return la.getCaretRangeFromPoint((n=e.clientX)!==null&&n!==void 0?n:0,(o=e.clientY)!==null&&o!==void 0?o:0,t.getDoc())},Cx=(t,e)=>{t.focus(),e&&t.selection.setRng(e)},DO=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,wx=t=>lt.trim(t).replace(DO,Sl).toLowerCase(),LO=(t,e,n)=>{const o=OS(t);if(n||o==="all"||!DS(t))return e;const r=o?o.split(/[, ]/):[];if(r&&o!=="none"){const s=t.dom,i=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(a,l,c,u)=>{const f=s.parseStyle(s.decode(c)),p={};for(let h=0;h<r.length;h++){const y=f[r[h]];let g=y,C=s.getStyle(i,r[h],!0);/color/.test(r[h])&&(g=wx(g),C=wx(C)),C!==g&&(p[r[h]]=y)}const b=s.serializeStyle(p,"span");return b?l+' style="'+b+'"'+u:l+u})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(s,i,a,l)=>i+' style="'+a+'"'+l),e},BO=t=>{const e=Nn(!1),n=Nn(PS(t)?"text":"html"),o=(r=>{const s=Nn(null);return{create:()=>((i,a)=>{const{dom:l,selection:c}=i,u=i.getBody();a.set(c.getRng());const f=l.add(i.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ax);fe.browser.isFirefox()&&l.setStyle(f,"left",l.getStyle(u,"direction",!0)==="rtl"?65535:-65535),l.bind(f,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),f.focus(),c.select(f,!0)})(r,s),remove:()=>((i,a)=>{const l=i.dom;if(dh(i)){let c;const u=a.get();for(;c=dh(i);)l.remove(c),l.unbind(c);u&&i.selection.setRng(u)}a.set(null)})(r,s),getEl:()=>dh(r),getHtml:()=>(i=>{const a=i.dom,l=(p,b)=>{p.appendChild(b),a.remove(b,!0)},[c,...u]=Wt(i.getBody().childNodes,SO);Y(u,p=>{l(c,p)});const f=a.select("div[id=mcepastebin]",c);for(let p=f.length-1;p>=0;p--){const b=a.create("div");c.insertBefore(b,f[p]),l(b,f[p])}return c?c.innerHTML:""})(r),getLastRng:s.get}})(t);(r=>{(fe.browser.isChromium()||fe.browser.isSafari())&&((s,i)=>{s.on("PastePreProcess",a=>{a.content=i(s,a.content,a.internal)})})(r,LO)})(t),((r,s)=>{r.addCommand("mceTogglePlainTextPaste",()=>{((i,a)=>{a.get()==="text"?(a.set("html"),Av(i,!1)):(a.set("text"),Av(i,!0)),i.focus()})(r,s)}),r.addCommand("mceInsertClipboardContent",(i,a)=>{a.html&&uu(r,a.html,a.internal,!1),a.text&&mh(r,a.text,!1)})})(t,n),(r=>{const s=l=>c=>{l(r,c)},i=NS(r);be(i)&&r.on("PastePreProcess",s(i));const a=TS(r);be(a)&&r.on("PastePostProcess",s(a))})(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),t.on("PreInit",()=>{(r=>{r.on("cut",(s=>i=>{!i.isDefaultPrevented()&&yx(s)&&s.selection.isEditable()&&gx(i,vx(s),bx(s),()=>{if(fe.browser.isChromium()||fe.browser.isFirefox()){const a=s.selection.getRng();vr.setEditorTimeout(s,()=>{s.selection.setRng(a),s.execCommand("Delete")},0)}else s.execCommand("Delete")})})(r)),r.on("copy",(s=>i=>{!i.isDefaultPrevented()&&yx(s)&&gx(i,vx(s),bx(s),Lt)})(r))})(t),((r,s)=>{AS(r)&&r.on("dragend dragover draggesture dragdrop drop drag",i=>{i.preventDefault(),i.stopPropagation()}),Zc(r)||r.on("drop",i=>{const a=i.dataTransfer;a&&(l=>ve(l.files,c=>/^image\//.test(c.type)))(a)&&i.preventDefault()}),r.on("drop",i=>{if(i.isDefaultPrevented())return;const a=_x(r,i);if(he(a))return;const l=mx(i.dataTransfer),c=Ni(l,du());if((!px(l)||(h=>{const y=h["text/plain"];return!!y&&y.indexOf("file://")===0})(l))&&hx(r,i,a))return;const u=l[du()],f=u||l["text/html"]||l["text/plain"],p=((h,y,g,C)=>{const k=h.getParent(g,S=>Vi(y,S));if(!Qt(h.getParent(g,"summary")))return!0;if(k&&Ht(C,"text/html")){const S=new DOMParser().parseFromString(C["text/html"],"text/html").body;return!Qt(S.querySelector(k.nodeName.toLowerCase()))}return!1})(r.dom,r.schema,a.startContainer,l),b=s.get();b&&!p||f&&(i.preventDefault(),vr.setEditorTimeout(r,()=>{r.undoManager.transact(()=>{(u||b&&p)&&r.execCommand("Delete"),Cx(r,a);const h=dx(f);l["text/html"]?uu(r,h,c,!0):mh(r,h,!0)})}))}),r.on("dragstart",i=>{s.set(!0)}),r.on("dragover dragend",i=>{Zc(r)&&!s.get()&&(i.preventDefault(),Cx(r,_x(r,i))),i.type==="dragend"&&s.set(!1)}),(i=>{i.on("input",a=>{const l=c=>Qt(c.querySelector("summary"));if(a.inputType==="deleteByDrag"){const c=Wt(i.dom.select("details"),l);Y(c,u=>{Qe(u.firstChild)&&u.firstChild.remove();const f=i.dom.create("summary");f.appendChild(ja().dom),u.prepend(f)})}})})(r)})(t,e),OO(t,o,n)})},PO=Qe,xx=ut,MO=t=>$e(t.dom),Ex=t=>e=>Ft(P(t),e),kx=(t,e)=>Vn(P(t),MO,Ex(e)),Sx=(t,e,n)=>{const o=new ge(t,e),r=n?o.next.bind(o):o.prev.bind(o);let s=t;for(let i=n?t:r();i&&!PO(i);i=r())rs(i)&&(s=i);return s},IO=t=>{const e=((n,o,r)=>{const s=tt.fromRangeStart(n).getNode(),i=((u,f,p)=>Vn(P(u),b=>(h=>Pr(h.dom))(b)||p.isBlock(ue(b)),Ex(f)).getOr(P(f)).dom)(s,o,r),a=Sx(s,i,!1),l=Sx(s,i,!0),c=document.createRange();return kx(a,i).fold(()=>{xx(a)?c.setStart(a,0):c.setStartBefore(a)},u=>c.setStartBefore(u.dom)),kx(l,i).fold(()=>{xx(l)?c.setEnd(l,l.data.length):c.setEndAfter(l)},u=>c.setEndAfter(u.dom)),c})(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(Nm(e))};var ul;(function(t){t.Before="before",t.After="after"})(ul||(ul={}));const FO=(t,e)=>Math.abs(t.left-e),jO=(t,e)=>Math.abs(t.right-e),$O=(t,e)=>(n=>tn(n,(o,r)=>o.fold(()=>E.some(r),s=>{const i=Math.min(r.left,s.left),a=Math.min(r.top,s.top),l=Math.max(r.right,s.right),c=Math.max(r.bottom,s.bottom);return E.some({top:a,right:l,bottom:c,left:i,width:l-i,height:c-a})}),E.none()))(Wt(t,n=>{return(o=e)>=(r=n).top&&o<=r.bottom;var o,r})).fold(()=>[[],t],n=>{const{pass:o,fail:r}=Sr(t,s=>((i,a)=>{const l=((c,u)=>Math.max(0,Math.min(c.bottom,u.bottom)-Math.max(c.top,u.top)))(i,a)/Math.min(i.height,a.height);return((c,u)=>c.top<u.bottom&&c.bottom>u.top)(i,a)&&l>.5})(s,n));return[o,r]}),HO=(t,e,n)=>e>t.left&&e<t.right?0:Math.min(Math.abs(t.left-e),Math.abs(t.right-e)),hh=(t,e,n,o)=>{const r=u=>rs(u.node)?E.some(u):Tt(u.node)?hh(nn(u.node.childNodes),e,n,!1):E.none(),s=(u,f)=>{const p=qr(u,(b,h)=>f(b,e,n)-f(h,e,n));return pn(p,r).map(b=>o&&!ut(b.node)&&p.length>1?((h,y,g)=>r(y).filter(C=>Math.abs(g(h,e,n)-g(C,e,n))<2&&ut(C.node)))(b,p[1],f).getOr(b):b)},[i,a]=$O(tw(t),n),{pass:l,fail:c}=Sr(a,u=>u.top<n);return s(i,HO).orThunk(()=>s(c,Dg)).orThunk(()=>s(l,Dg))},Ax=(t,e,n)=>((o,r,s)=>{const i=P(o),a=Pe(i),l=sn(a,r,s).filter(c=>mn(i,c)).getOr(i);return((c,u,f,p)=>{const b=(h,y)=>{const g=Wt(h.dom.childNodes,ds(C=>Tt(C)&&C.classList.contains("mce-drag-container")));return y.fold(()=>hh(g,f,p,!0),C=>{const k=Wt(g,S=>S!==C.dom);return hh(k,f,p,!0)}).orThunk(()=>(Ft(h,c)?E.none():io(h)).bind(C=>b(C,E.some(h))))};return b(u,E.none())})(i,l,r,s)})(t,e,n).filter(o=>ql(o.node)).map(o=>((r,s)=>({node:r.node,position:FO(r,s)<jO(r,s)?ul.Before:ul.After}))(o,e)),Nx=t=>{var e,n;const o=t.getBoundingClientRect(),r=t.ownerDocument,s=r.documentElement,i=r.defaultView;return{top:o.top+((e=i?.scrollY)!==null&&e!==void 0?e:0)-s.clientTop,left:o.left+((n=i?.scrollX)!==null&&n!==void 0?n:0)-s.clientLeft}},Tx=t=>({target:t,srcElement:t}),zO=(t,e,n,o)=>{const r=((s,i)=>{const a=(l=>{const c=lh(),u=(f=>{const p=f;return E.from(p[ih])})(l);return ah(l),J1(c),c.dropEffect=l.dropEffect,c.effectAllowed=l.effectAllowed,(f=>{const p=f;return E.from(p[Z1])})(l).each(f=>c.setDragImage(f.image,f.x,f.y)),Y(l.types,f=>{f!=="Files"&&c.setData(f,l.getData(f))}),Y(l.files,f=>c.items.add(f)),(f=>{const p=f;return E.from(p[sh])})(l).each(f=>{((p,b)=>{lu(b)(p)})(c,f)}),u.each(f=>{tx(l,f),tx(c,f)}),c})(s);return i==="dragstart"?(J1(a),ex(a)):i==="drop"?(yO(a),ah(a)):(_O(a),wO(a)),a})(n,t);return De(o)?((s,i,a)=>{const l=Oo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:s,composedPath:l,initEvent:l,preventDefault:Lt,stopImmediatePropagation:Lt,stopPropagation:Lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:l,initMouseEvent:l,getModifierState:l,dataTransfer:a,...Tx(i)}})(t,e,r):((s,i,a,l)=>({...i,dataTransfer:l,type:s,...Tx(a)}))(t,o,e,r)},Rx=$e,UO=((...t)=>e=>{for(let n=0;n<t.length;n++)if(t[n](e))return!0;return!1})(Rx,Pr),qO=(t,e,n,o)=>{const r=t.dom,s=e.cloneNode(!0);r.setStyles(s,{width:n,height:o}),r.setAttrib(s,"data-mce-selected",null);const i=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(s,{margin:0,boxSizing:"border-box"}),i.appendChild(s),i},fu=(t,e)=>n=>()=>{const o=t==="left"?n.scrollX:n.scrollY;n.scroll({[t]:o+e,behavior:"smooth"})},Ox=fu("left",-32),Dx=fu("left",32),Lx=fu("top",-32),Bx=fu("top",32),Px=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},Nc=(t,e,n,o,r)=>{e==="dragstart"&&rx(o,t.dom.getOuterHTML(n));const s=zO(e,n,o,r);return t.dispatch(e,s)},WO=(t,e)=>{const n=Hc((r,s)=>((i,a,l)=>{i._selectionOverrides.hideFakeCaret(),Ax(i.getBody(),a,l).fold(()=>i.selection.placeCaretAt(a,l),c=>{const u=i._selectionOverrides.showCaret(1,c.node,c.position===ul.Before,!1);u?i.selection.setRng(u):i.selection.placeCaretAt(a,l)})})(e,r,s),0);e.on("remove",n.cancel);const o=t;return r=>t.on(s=>{const i=Math.max(Math.abs(r.screenX-s.screenX),Math.abs(r.screenY-s.screenY));if(!s.dragging&&i>10){const c=Nc(e,"dragstart",s.element,s.dataTransfer,r);if(gt(c.dataTransfer)&&(s.dataTransfer=c.dataTransfer),c.isDefaultPrevented())return;s.dragging=!0,e.focus()}if(s.dragging){const c=r.currentTarget===e.getDoc().documentElement,u=((f,p)=>({pageX:p.pageX-f.relX,pageY:p.pageY+5}))(s,((f,p)=>{return b=(g=>g.inline?Nx(g.getBody()):{left:0,top:0})(f),h=(g=>{const C=g.getBody();return g.inline?{left:C.scrollLeft,top:C.scrollTop}:{left:0,top:0}})(f),y=((g,C)=>{if(C.target.ownerDocument!==g.getDoc()){const k=Nx(g.getContentAreaContainer()),S=(N=>{const T=N.getBody(),D=N.getDoc().documentElement,F={left:T.scrollLeft,top:T.scrollTop},M={left:T.scrollLeft||D.scrollLeft,top:T.scrollTop||D.scrollTop};return N.inline?F:M})(g);return{left:C.pageX-k.left+S.left,top:C.pageY-k.top+S.top}}return{left:C.pageX,top:C.pageY}})(f,p),{pageX:y.left-b.left+h.left,pageY:y.top-b.top+h.top};var b,h,y})(e,r));a=s.ghost,l=e.getBody(),a.parentNode!==l&&l.appendChild(a),((f,p,b,h,y,g,C,k,S,N,T,D)=>{let F=0,M=0;f.style.left=p.pageX+"px",f.style.top=p.pageY+"px",p.pageX+b>y&&(F=p.pageX+b-y),p.pageY+h>g&&(M=p.pageY+h-g),f.style.width=b-F+"px",f.style.height=h-M+"px";const z=S.clientHeight,G=S.clientWidth,B=C+S.getBoundingClientRect().top,j=k+S.getBoundingClientRect().left;T.on(H=>{H.intervalId.clear(),H.dragging&&D&&(C+8>=z?H.intervalId.set(Bx(N)):C-8<=0?H.intervalId.set(Lx(N)):k+8>=G?H.intervalId.set(Dx(N)):k-8<=0?H.intervalId.set(Ox(N)):B+16>=window.innerHeight?H.intervalId.set(Bx(window)):B-16<=0?H.intervalId.set(Lx(window)):j+16>=window.innerWidth?H.intervalId.set(Dx(window)):j-16<=0&&H.intervalId.set(Ox(window)))})})(s.ghost,u,s.width,s.height,s.maxX,s.maxY,r.clientY,r.clientX,e.getContentAreaContainer(),e.getWin(),o,c),n.throttle(r.clientX,r.clientY)}var a,l})},Mx=(t,e,n)=>{t.on(o=>{o.intervalId.clear(),o.dragging&&n.fold(()=>Nc(e,"dragend",o.element,o.dataTransfer),r=>Nc(e,"dragend",o.element,o.dataTransfer,r))}),Ix(t)},Ix=t=>{t.on(e=>{e.intervalId.clear(),Px(e.ghost)}),t.clear()},VO=t=>{const e=Ks(),n=Ie.DOM,o=document,r=((l,c)=>u=>{if((f=>f.button===0)(u)){const f=Ue(c.dom.getParents(u.target),UO).getOr(null);if(gt(f)&&((p,b,h)=>Rx(h)&&h!==b&&p.isEditable(h.parentElement))(c.dom,c.getBody(),f)){const p=c.dom.getPos(f),b=c.getBody(),h=c.getDoc().documentElement;l.set({element:f,dataTransfer:lh(),dragging:!1,screenX:u.screenX,screenY:u.screenY,maxX:(c.inline?b.scrollWidth:h.offsetWidth)-2,maxY:(c.inline?b.scrollHeight:h.offsetHeight)-2,relX:u.pageX-p.x,relY:u.pageY-p.y,width:f.offsetWidth,height:f.offsetHeight,ghost:qO(c,f,f.offsetWidth,f.offsetHeight),intervalId:YE(100)})}}})(e,t),s=WO(e,t),i=((l,c)=>u=>{l.on(f=>{var p;if(f.intervalId.clear(),f.dragging){if(((b,h,y)=>!he(h)&&h!==y&&!b.dom.isChildOf(h,y)&&b.dom.isEditable(h))(c,(b=>{const h=b.getSel();if(gt(h)){const y=h.getRangeAt(0).startContainer;return ut(y)?y.parentNode:y}return null})(c.selection),f.element)){const b=(p=c.getDoc().elementFromPoint(u.clientX,u.clientY))!==null&&p!==void 0?p:c.getBody();Nc(c,"drop",b,f.dataTransfer,u).isDefaultPrevented()||c.undoManager.transact(()=>{((h,y)=>{const g=h.getParent(y.parentNode,h.isBlock);Px(y),g&&g!==h.getRoot()&&h.isEmpty(g)&&bi(P(g))})(c.dom,f.element),(h=>{const y=h.getData("text/html");return y===""?E.none():E.some(y)})(f.dataTransfer).each(h=>c.insertContent(h)),c._selectionOverrides.hideFakeCaret()})}Nc(c,"dragend",c.getBody(),f.dataTransfer,u)}}),Ix(l)})(e,t),a=((l,c)=>u=>Mx(l,c,E.some(u)))(e,t);t.on("mousedown",r),t.on("mousemove",s),t.on("mouseup",i),n.bind(o,"mousemove",s),n.bind(o,"mouseup",a),t.on("remove",()=>{n.unbind(o,"mousemove",s),n.unbind(o,"mouseup",a)}),t.on("keydown",l=>{l.keyCode===Ct.ESC&&Mx(e,t,E.none())})},Tc=$e,Fx=(t,e)=>ua(t.getBody(),e),KO=t=>{const e=t.selection,n=t.dom,o=t.getBody(),r=nA(t,o,n.isBlock,()=>Ja(t)),s="sel-"+n.uniqueId(),i="data-mce-selected";let a;const l=g=>g!==o&&(Tc(g)||Es(g))&&n.isChildOf(g,o)&&n.isEditable(g.parentNode),c=(g,C,k,S=!0)=>t.dispatch("ShowCaret",{target:C,direction:g,before:k}).isDefaultPrevented()?null:(S&&e.scrollIntoView(C,g===-1),r.show(k,C)),u=g=>mr(g)||qc(g)||Wc(g),f=g=>u(g.startContainer)||u(g.endContainer),p=g=>{const C=t.schema.getVoidElements(),k=n.createRng(),S=g.startContainer,N=g.startOffset,T=g.endContainer,D=g.endOffset;return Ht(C,S.nodeName.toLowerCase())?N===0?k.setStartBefore(S):k.setStartAfter(S):k.setStart(S,N),Ht(C,T.nodeName.toLowerCase())?D===0?k.setEndBefore(T):k.setEndAfter(T):k.setEnd(T,D),k},b=(g,C)=>{if(!g)return null;if(g.collapsed){if(!f(g)){const T=C?1:-1,D=Yl(T,o,g),F=D.getNode(!C);if(gt(F)){if(ql(F))return c(T,F,!!C&&!D.isAtEnd(),!1);if(vi(F)&&$e(F.nextSibling)){const z=n.createRng();return z.setStart(F,0),z.setEnd(F,0),z}}const M=D.getNode(C);if(gt(M)){if(ql(M))return c(T,M,!C&&!D.isAtEnd(),!1);if(vi(M)&&$e(M.previousSibling)){const z=n.createRng();return z.setStart(M,1),z.setEnd(M,1),z}}}return null}let k=g.startContainer,S=g.startOffset;const N=g.endOffset;if(ut(k)&&S===0&&Tc(k.parentNode)&&(k=k.parentNode,S=n.nodeIndex(k),k=k.parentNode),!Tt(k))return null;if(N===S+1&&k===g.endContainer){const T=k.childNodes[S];if(l(T))return(D=>{const F=D.cloneNode(!0),M=t.dispatch("ObjectSelected",{target:D,targetClone:F});if(M.isDefaultPrevented())return null;const z=((B,j)=>{const H=P(t.getBody()),et=t.getDoc(),ft=Qr(H,"#"+s).getOrThunk(()=>{const Rt=ht('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',et);return on(Rt,"id",s),At(H,Rt),Rt}),ct=n.createRng();de(ft),oe(ft,[ie(Le,et),P(j),ie(Le,et)]),ct.setStart(ft.dom.firstChild,1),ct.setEnd(ft.dom.lastChild,0),Zr(ft,{top:n.getPos(B,t.getBody()).y+"px"}),Kv(ft);const Et=e.getSel();return Et&&(Et.removeAllRanges(),Et.addRange(ct)),ct})(D,M.targetClone),G=P(D);return Y(dt(P(t.getBody()),`*[${i}]`),B=>{Ft(G,B)||m(B,i)}),n.getAttrib(D,i)||D.setAttribute(i,"1"),a=D,y(),z})(T)}return null},h=()=>{a&&a.removeAttribute(i),Qr(P(t.getBody()),"#"+s).each(Yt),a=null},y=()=>{r.hide()};return Os(t)||(t.on("click",g=>{n.isEditable(g.target)||(g.preventDefault(),t.focus())}),t.on("blur NewBlock",h),t.on("ResizeWindow FullscreenStateChanged",r.reposition),t.on("tap",g=>{const C=g.target,k=Fx(t,C);Tc(k)?(g.preventDefault(),pc(t,k).each(b)):l(C)&&pc(t,C).each(b)},!0),t.on("mousedown",g=>{const C=g.target;if(C!==o&&C.nodeName!=="HTML"&&!n.isChildOf(C,o)||!((S,N,T)=>{const D=P(S.getBody()),F=S.inline?D:P(Pe(D).dom.documentElement),M=((z,G,B,j)=>{const H=(et=>et.dom.getBoundingClientRect())(G);return{x:B-(z?H.left+G.dom.clientLeft+_T(G):0),y:j-(z?H.top+G.dom.clientTop+yT(G):0)}})(S.inline,F,N,T);return((z,G,B)=>{const j=bT(z),H=vT(z);return G>=0&&B>=0&&G<=j&&B<=H})(F,M.x,M.y)})(t,g.clientX,g.clientY))return;h(),y();const k=Fx(t,C);Tc(k)?(g.preventDefault(),pc(t,k).each(b)):Ax(o,g.clientX,g.clientY).each(S=>{var N;g.preventDefault(),(N=c(1,S.node,S.position===ul.Before,!1))&&e.setRng(N),po(k)?k.focus():t.getBody().focus()})}),t.on("keypress",g=>{Ct.modifierPressed(g)||Tc(e.getNode())&&g.preventDefault()}),t.on("GetSelectionRange",g=>{let C=g.range;if(a){if(!a.parentNode)return void(a=null);C=C.cloneRange(),C.selectNode(a),g.range=C}}),t.on("SetSelectionRange",g=>{g.range=p(g.range);const C=b(g.range,g.forward);C&&(g.range=C)}),t.on("AfterSetSelectionRange",g=>{const C=g.range,k=C.startContainer.parentElement;var S;f(C)||Tt(S=k)&&S.id==="mcepastebin"||y(),(N=>gt(N)&&n.hasClass(N,"mce-offscreen-selection"))(k)||h()}),(g=>{VO(g),vS(g)&&(C=>{const k=T=>{if(!T.isDefaultPrevented()){const D=T.dataTransfer;D&&(pe(D.types,"Files")||D.files.length>0)&&(T.preventDefault(),T.type==="drop"&&jd(C,"Dropped file type is not supported"))}},S=T=>{gd(C,T.target)&&k(T)},N=()=>{const T=Ie.DOM,D=C.dom,F=document,M=C.inline?C.getBody():C.getDoc(),z=["drop","dragover"];Y(z,G=>{T.bind(F,G,S),D.bind(M,G,k)}),C.on("remove",()=>{Y(z,G=>{T.unbind(F,G,S),D.unbind(M,G,k)})})};C.on("init",()=>{vr.setEditorTimeout(C,N,0)})})(g)})(t),(g=>{const C=Hc(()=>{if(!g.removed&&g.getBody().contains(document.activeElement)){const k=g.selection.getRng();if(k.collapsed){const S=hp(g,k,!1);g.selection.setRng(S)}}},0);g.on("focus",()=>{C.throttle()}),g.on("blur",()=>{C.cancel()})})(t),(g=>{g.on("init",()=>{g.on("focusin",C=>{const k=C.target;if(Es(k)){const S=ua(g.getBody(),k),N=$e(S)?S:k;g.selection.getNode()!==N&&pc(g,N).each(T=>g.selection.setRng(T))}})})})(t)),{showCaret:c,showBlockCaretContainer:g=>{g.hasAttribute("data-mce-caret")&&(of(g),e.scrollIntoView(g))},hideFakeCaret:y,destroy:()=>{r.destroy(),a=null}}},YO=(t,e)=>{let n=e;for(let o=t.previousSibling;ut(o);o=o.previousSibling)n+=o.data.length;return n},jx=(t,e,n,o,r)=>{if(ut(n)&&(o<0||o>n.data.length))return[];const s=r&&ut(n)?[YO(n,o)]:[o];let i=n;for(;i!==e&&i.parentNode;)s.push(t.nodeIndex(i,r)),i=i.parentNode;return i===e?s.reverse():[]},gh=(t,e,n,o,r,s,i=!1)=>({start:jx(t,e,n,o,i),end:jx(t,e,r,s,i)}),$x=(t,e)=>{const n=e.slice(),o=n.pop();return x(o)?tn(n,(r,s)=>r.bind(i=>E.from(i.childNodes[s])),E.some(t)).bind(r=>ut(r)&&(o<0||o>r.data.length)?E.none():E.some({node:r,offset:o})):E.none()},Hx=(t,e)=>$x(t,e.start).bind(({node:n,offset:o})=>$x(t,e.end).map(({node:r,offset:s})=>{const i=document.createRange();return i.setStart(n,o),i.setEnd(r,s),i})),fl=(t,e,n)=>{if(e&&t.isEmpty(e)&&!n(e)){const o=e.parentNode;t.remove(e,ut(e.firstChild)&&xo(e.firstChild.data)),fl(t,o,n)}},mu=(t,e,n,o=!0)=>{const r=e.startContainer.parentNode,s=e.endContainer.parentNode;e.deleteContents(),o&&!n(e.startContainer)&&(ut(e.startContainer)&&e.startContainer.data.length===0&&t.remove(e.startContainer),ut(e.endContainer)&&e.endContainer.data.length===0&&t.remove(e.endContainer),fl(t,r,n),r!==s&&fl(t,s,n))},pu=(t,e)=>E.from(t.dom.getParent(e.startContainer,t.dom.isBlock)),bh=(t,e,n)=>{const o=t.dynamicPatternsLookup({text:n,block:e});return{...t,blockPatterns:rb(o).concat(t.blockPatterns),inlinePatterns:sb(o).concat(t.inlinePatterns)}},vh=(t,e,n,o)=>{const r=t.createRng();return r.setStart(e,0),r.setEnd(n,o),r.toString()},zx=(t,e)=>t.create("span",{"data-mce-type":"bookmark",id:e}),hu=(t,e)=>{const n=t.createRng();return n.setStartAfter(e.start),n.setEndBefore(e.end),n},Ux=(t,e,n)=>{const o=Hx(t.getRoot(),n).getOrDie("Unable to resolve path range"),r=o.startContainer,s=o.endContainer,i=o.endOffset===0?s:s.splitText(o.endOffset),a=o.startOffset===0?r:r.splitText(o.startOffset),l=a.parentNode;return{prefix:e,end:i.parentNode.insertBefore(zx(t,e+"-end"),i),start:l.insertBefore(zx(t,e+"-start"),a)}},qx=(t,e,n)=>{fl(t,t.get(e.prefix+"-end"),n),fl(t,t.get(e.prefix+"-start"),n)},yh=t=>t.start.length===0,Wx=(t,e,n,o)=>{const r=e.start;var s;return $p(t,o.container,o.offset,(s=r,(i,a)=>{const l=i.data.substring(0,a),c=l.lastIndexOf(s.charAt(s.length-1)),u=l.lastIndexOf(s);return u!==-1?u+s.length:c!==-1?c+1:-1}),n).bind(i=>{var a,l;const c=(l=(a=n.textContent)===null||a===void 0?void 0:a.indexOf(r))!==null&&l!==void 0?l:-1;if(c!==-1&&i.offset>=c+r.length){const u=t.createRng();return u.setStart(i.container,i.offset-r.length),u.setEnd(i.container,i.offset),E.some(u)}{const u=i.offset-r.length;return jp(i.container,u,n).map(f=>{const p=t.createRng();return p.setStart(f.container,f.offset),p.setEnd(i.container,i.offset),p}).filter(f=>f.toString()===r).orThunk(()=>Wx(t,e,n,ls(i.container,0)))}})},XO=(t,e,n,o)=>{const r=t.dom,s=r.getRoot(),i=n.pattern,a=n.position.container,l=n.position.offset;return jp(a,l-n.pattern.end.length,e).bind(c=>{const u=gh(r,s,c.container,c.offset,a,l,o);if(yh(i))return E.some({matches:[{pattern:i,startRng:u,endRng:u}],position:c});{const f=gu(t,n.remainingPatterns,c.container,c.offset,e,o),p=f.getOr({matches:[],position:c}),b=p.position;return((y,g,C,k,S,N=!1)=>{if(g.start.length===0&&!N){const T=y.createRng();return T.setStart(C,k),T.setEnd(C,k),E.some(T)}return Fp(C,k,S).bind(T=>Wx(y,g,S,T).bind(D=>{var F;return N&&(D.endContainer===T.container&&D.endOffset===T.offset||T.offset===0&&((F=D.endContainer.textContent)===null||F===void 0?void 0:F.length)===D.endOffset)?E.none():E.some(D)}))})(r,i,b.container,b.offset,e,f.isNone()).map(y=>{const g=((C,k,S,N=!1)=>gh(C,k,S.startContainer,S.startOffset,S.endContainer,S.endOffset,N))(r,s,y,o);return{matches:p.matches.concat([{pattern:i,startRng:g,endRng:u}]),position:ls(y.startContainer,y.startOffset)}})}})},gu=(t,e,n,o,r,s)=>{const i=t.dom;return Fp(n,o,i.getRoot()).bind(a=>{const l=vh(i,r,n,o);for(let c=0;c<e.length;c++){const u=e[c];if(!Go(l,u.end))continue;const f=e.slice();f.splice(c,1);const p=XO(t,r,{pattern:u,remainingPatterns:f,position:a},s);if(p.isNone()&&o>0)return gu(t,e,n,o-1,r,s);if(p.isSome())return p}return E.none()})},Vx=(t,e,n)=>{t.selection.setRng(n),e.type==="inline-format"?Y(e.format,o=>{t.formatter.apply(o)}):t.execCommand(e.cmd,!1,e.value)},Kx=(t,e,n,o,r,s)=>{var i;return((a,l)=>{const c=Jn(a,u=>ve(l,f=>u.pattern.start===f.pattern.start&&u.pattern.end===f.pattern.end));return a.length===l.length?c?a:l:a.length>l.length?a:l})(gu(t,r.inlinePatterns,n,o,e,s).fold(()=>[],a=>a.matches),gu(t,(i=r.inlinePatterns,qr(i,(a,l)=>l.end.length-a.end.length)),n,o,e,s).fold(()=>[],a=>a.matches))},Yx=(t,e)=>{if(e.length===0)return;const n=t.dom,o=t.selection.getBookmark(),r=((s,i)=>{const a=Bl("mce_textpattern"),l=Ur(i,(c,u)=>{const f=Ux(s,a+`_end${c.length}`,u.endRng);return c.concat([{...u,endMarker:f}])},[]);return Ur(l,(c,u)=>{const f=l.length-c.length-1,p=yh(u.pattern)?u.endMarker:Ux(s,a+`_start${f}`,u.startRng);return c.concat([{...u,startMarker:p}])},[])})(n,e);Y(r,s=>{const i=n.getParent(s.startMarker.start,n.isBlock),a=l=>l===i;yh(s.pattern)?((l,c,u,f)=>{const p=hu(l.dom,u);mu(l.dom,p,f),Vx(l,c,p)})(t,s.pattern,s.endMarker,a):((l,c,u,f,p)=>{const b=l.dom,h=hu(b,f),y=hu(b,u);mu(b,y,p),mu(b,h,p);const g={prefix:u.prefix,start:u.end,end:f.start},C=hu(b,g);Vx(l,c,C)})(t,s.pattern,s.startMarker,s.endMarker,a),qx(n,s.endMarker,a),qx(n,s.startMarker,a)}),t.selection.moveToBookmark(o)},Xx=(t,e,n)=>((o,r,s)=>{if(ut(o)&&0>=o.length)return E.some(ls(o,0));{const i=Zi(Xd);return E.from(i.forwards(o,0,Gd(o),s)).map(a=>ls(a.container,0))}})(e,0,e).map(o=>{const r=o.container;return e1(r,n.start.length,e).each(s=>{const i=t.createRng();i.setStart(r,0),i.setEnd(s.container,s.offset),mu(t,i,a=>a===e)}),r}),Gx=t=>(e,n)=>{const o=e.dom,r=n.pattern,s=Hx(o.getRoot(),n.range).getOrDie("Unable to resolve path range");return pu(e,s).each(i=>{r.type==="block-format"?((a,l)=>{const c=l.get(a);return Oe(c)&&Ye(c).exists(u=>Ht(u,"block"))})(r.format,e.formatter)&&e.undoManager.transact(()=>{t(e.dom,i,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{t(e.dom,i,r),e.execCommand(r.cmd,!1,r.value)})}),!0},Qx=t=>(e,n)=>{const o=(s=>qr(s,(i,a)=>a.start.length-i.start.length))(e),r=n.replace(Le," ");return Ue(o,s=>t(s,n,r))},Zx=(t,e)=>(n,o,r,s,i)=>{var a;i===void 0&&(i=(a=o.textContent)!==null&&a!==void 0?a:"");const l=n.dom,c=Xn(n);return l.is(o,c)?t(r.blockPatterns,i).map(u=>e&&lt.trim(i).length===u.start.length?[]:[{pattern:u,range:gh(l,l.getRoot(),o,0,o,0,s)}]).getOr([]):[]},GO=Gx((t,e,n)=>{Xx(t,e,n).each(o=>{const r=P(o),s=Pl(r);/^\s[^\s]/.test(s)&&Sg(r,s.slice(1))})}),QO=Qx((t,e,n)=>e.indexOf(t.start)===0||n.indexOf(t.start)===0),ZO=Zx(QO,!0),JO=Gx(Xx),tD=Qx((t,e,n)=>e===t.start||n===t.start),eD=Zx(tD,!1),Jx=(t,e,n)=>{for(let o=0;o<t.length;o++)if(n(t[o],e))return!0;return!1},nD=t=>{const e=[",",".",";",":","!","?"],n=[32],o=()=>{return i=FS(t).filter(l=>l.type!=="inline-command"&&l.type!=="block-command"||t.queryCommandSupported(l.cmd)),a=jS(t),{inlinePatterns:sb(i),blockPatterns:rb(i),dynamicPatternsLookup:a};var i,a},r=()=>(i=>i.options.isSet("text_patterns_lookup"))(t);t.on("keydown",i=>{if(i.keyCode===13&&!Ct.modifierPressed(i)&&t.selection.isCollapsed()){const a=pf(o(),"enter");(a.inlinePatterns.length>0||a.blockPatterns.length>0||r())&&((l,c)=>((u,f)=>{const p=u.selection.getRng();return pu(u,p).map(b=>{var h;const y=Math.max(0,p.startOffset),g=bh(f,b,(h=b.textContent)!==null&&h!==void 0?h:"");return{inlineMatches:Kx(u,b,p.startContainer,y,g,!0),blockMatches:ZO(u,b,g,!0)}}).filter(({inlineMatches:b,blockMatches:h})=>h.length>0||b.length>0)})(l,c).fold(Be,({inlineMatches:u,blockMatches:f})=>(l.undoManager.add(),l.undoManager.extra(()=>{l.execCommand("mceInsertNewLine")},()=>{(h=>{h.insertContent(Tn,{preserve_zwsp:!0})})(l),Yx(l,u),((h,y)=>{if(y.length===0)return;const g=h.selection.getBookmark();Y(y,C=>GO(h,C)),h.selection.moveToBookmark(g)})(l,f);const p=l.selection.getRng(),b=Fp(p.startContainer,p.startOffset,l.dom.getRoot());l.execCommand("mceInsertNewLine"),b.each(h=>{const y=h.container;y.data.charAt(h.offset-1)===Mn&&(y.deleteData(h.offset-1,1),fl(l.dom,y.parentNode,g=>g===l.dom.getRoot()))})}),!0)))(t,a)&&i.preventDefault()}},!0),t.on("keydown",i=>{if(i.keyCode===32&&t.selection.isCollapsed()){const a=pf(o(),"space");(a.blockPatterns.length>0||r())&&((l,c)=>((u,f)=>{const p=u.selection.getRng();return pu(u,p).map(b=>{const h=Math.max(0,p.startOffset),y=vh(u.dom,b,p.startContainer,h),g=bh(f,b,y);return eD(u,b,g,!1,y)}).filter(b=>b.length>0)})(l,c).fold(Be,u=>(l.undoManager.transact(()=>{((f,p)=>{Y(p,b=>JO(f,b))})(l,u)}),!0)))(t,a)&&i.preventDefault()}},!0);const s=()=>{if(t.selection.isCollapsed()){const i=pf(o(),"space");(i.inlinePatterns.length>0||r())&&((a,l)=>{const c=a.selection.getRng();pu(a,c).map(u=>{const f=Math.max(0,c.startOffset-1),p=vh(a.dom,u,c.startContainer,f),b=bh(l,u,p),h=Kx(a,u,c.startContainer,f,b,!1);h.length>0&&a.undoManager.transact(()=>{Yx(a,h)})})})(t,i)}};t.on("keyup",i=>{Jx(n,i,(a,l)=>a===l.keyCode&&!Ct.modifierPressed(l))&&s()}),t.on("keypress",i=>{Jx(e,i,(a,l)=>a.charCodeAt(0)===l.charCode)&&vr.setEditorTimeout(t,s)})},oD=t=>{const e=lt.each,n=Ct.BACKSPACE,o=Ct.DELETE,r=t.dom,s=t.selection,i=t.parser,a=fe.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),u=fe.deviceType.isiPhone()||fe.deviceType.isiPad(),f=fe.os.isMacOS()||fe.os.isiOS(),p=(B,j)=>{try{t.getDoc().execCommand(B,!1,String(j))}catch{}},b=B=>B.isDefaultPrevented(),h=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},y=()=>{t.inline||r.bind(t.getDoc(),"mousedown mouseup",B=>{let j;if(B.target===t.getDoc().documentElement)if(j=s.getRng(),t.getBody().focus(),B.type==="mousedown"){if(mr(j.startContainer))return;s.placeCaretAt(B.clientX,B.clientY)}else s.setRng(j)})},g=()=>{Range.prototype.getClientRects||t.on("mousedown",B=>{if(!b(B)&&B.target.nodeName==="HTML"){const j=t.getBody();j.blur(),vr.setEditorTimeout(t,()=>{j.focus()})}})},C=()=>{const B=Cb(t);t.on("click",j=>{const H=j.target;/^(IMG|HR)$/.test(H.nodeName)&&r.isEditable(H)&&(j.preventDefault(),t.selection.select(H),t.nodeChanged()),H.nodeName==="A"&&r.hasClass(H,B)&&H.childNodes.length===0&&r.isEditable(H.parentNode)&&(j.preventDefault(),s.select(H))})},k=()=>{t.on("keydown",B=>{if(!b(B)&&B.keyCode===n&&s.isCollapsed()&&s.getRng().startOffset===0){const j=s.getNode().previousSibling;if(j&&j.nodeName&&j.nodeName.toLowerCase()==="table")return B.preventDefault(),!1}return!0})},S=()=>{yb(t)||t.on("BeforeExecCommand mousedown",()=>{p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),bb(t)||p("enableObjectResizing",!1)})},N=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},T=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},D=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",B=>{let j;B.target.nodeName==="HTML"&&(j=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(j),t.selection.normalize(),t.nodeChanged())}))},F=()=>{f&&t.on("keydown",B=>{!Ct.metaKeyPressed(B)||B.shiftKey||B.keyCode!==37&&B.keyCode!==39||(B.preventDefault(),t.selection.getSel().modify("move",B.keyCode===37?"backward":"forward","lineboundary"))})},M=()=>{t.on("click",B=>{let j=B.target;do if(j.tagName==="A")return void B.preventDefault();while(j=j.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},z=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",B=>{B.preventDefault()})})},G=Lt;return Os(t)?(c&&(y(),C(),z(),h(),u&&(T(),D(),M())),l&&(g(),S(),N(),F())):(t.on("keydown",B=>{if(b(B)||B.keyCode!==Ct.BACKSPACE)return;let j=s.getRng();const H=j.startContainer,et=j.startOffset,ft=r.getRoot();let ct=H;if(j.collapsed&&et===0){for(;ct.parentNode&&ct.parentNode.firstChild===ct&&ct.parentNode!==ft;)ct=ct.parentNode;ct.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,ct),j=r.createRng(),j.setStart(H,0),j.setEnd(H,0),s.setRng(j))}}),(()=>{const B=j=>{const H=r.create("body"),et=j.cloneContents();return H.appendChild(et),s.serializer.serialize(H,{format:"html"})};t.on("keydown",j=>{const H=j.keyCode;if(!b(j)&&(H===o||H===n)&&t.selection.isEditable()){const et=t.selection.isCollapsed(),ft=t.getBody();if(et&&!Vs(t.schema,ft)||!et&&!(ct=>{const Et=B(ct),Rt=r.createRng();return Rt.selectNode(t.getBody()),Et===B(Rt)})(t.selection.getRng()))return;j.preventDefault(),t.setContent(""),ft.firstChild&&r.isBlock(ft.firstChild)?t.selection.setCursorLocation(ft.firstChild,0):t.selection.setCursorLocation(ft,0),t.nodeChanged()}})})(),fe.windowsPhone||t.on("keyup focusin mouseup",B=>{Ct.modifierPressed(B)||(j=>{const H=j.getBody(),et=j.selection.getRng();return et.startContainer===et.endContainer&&et.startContainer===H&&et.startOffset===0&&et.endOffset===H.childNodes.length})(t)||s.normalize()},!0),c&&(y(),C(),t.on("init",()=>{p("DefaultParagraphSeparator",Xn(t))}),z(),k(),i.addNodeFilter("br",B=>{let j=B.length;for(;j--;)B[j].attr("class")==="Apple-interchange-newline"&&B[j].remove()}),u?(T(),D(),M()):h()),l&&(t.on("keydown",B=>{if(!b(B)&&B.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(s.isCollapsed()&&s.getRng().startOffset===0){const j=s.getNode(),H=j.previousSibling;if(j.nodeName==="HR")return r.remove(j),void B.preventDefault();H&&H.nodeName&&H.nodeName.toLowerCase()==="hr"&&(r.remove(H),B.preventDefault())}}}),g(),(()=>{const B=()=>{const H=r.getAttribs(s.getStart().cloneNode(!1));return()=>{const et=s.getStart();et!==t.getBody()&&(r.setAttrib(et,"style",null),e(H,ft=>{et.setAttributeNode(ft.cloneNode(!0))}))}},j=()=>!s.isCollapsed()&&r.getParent(s.getStart(),r.isBlock)!==r.getParent(s.getEnd(),r.isBlock);t.on("keypress",H=>{let et;return!(!(b(H)||H.keyCode!==8&&H.keyCode!==46)&&j()&&(et=B(),t.getDoc().execCommand("delete",!1),et(),H.preventDefault(),1))}),r.bind(t.getDoc(),"cut",H=>{if(!b(H)&&j()){const et=B();vr.setEditorTimeout(t,()=>{et()})}})})(),S(),t.on("SetContent ExecCommand",B=>{B.type!=="setcontent"&&B.command!=="mceInsertLink"||e(r.select("a:not([data-mce-block])"),j=>{var H;let et=j.parentNode;const ft=r.getRoot();if(et?.lastChild===j){for(;et&&!r.isBlock(et);){if(((H=et.parentNode)===null||H===void 0?void 0:H.lastChild)!==et||et===ft)return;et=et.parentNode}r.add(et,"br",{"data-mce-bogus":1})}})}),N(),F(),k())),{refreshContentEditable:G,isHidden:()=>{if(!l||t.removed)return!1;const B=t.selection.getSel();return!B||!B.rangeCount||B.rangeCount===0}}},_h=Ie.DOM,rD=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,Ch=t=>Rr(t,e=>De(e)===!1),tE=t=>{const e=t.options.get,n=t.editorUpload.blobCache;return Ch({allow_conditional_comments:e("allow_conditional_comments"),allow_html_data_urls:e("allow_html_data_urls"),allow_svg_data_urls:e("allow_svg_data_urls"),allow_html_in_named_anchor:e("allow_html_in_named_anchor"),allow_script_urls:e("allow_script_urls"),allow_unsafe_link_target:e("allow_unsafe_link_target"),convert_unsafe_embeds:e("convert_unsafe_embeds"),convert_fonts_to_spans:e("convert_fonts_to_spans"),fix_list_elements:e("fix_list_elements"),font_size_legacy_values:e("font_size_legacy_values"),forced_root_block:e("forced_root_block"),forced_root_block_attrs:e("forced_root_block_attrs"),preserve_cdata:e("preserve_cdata"),inline_styles:e("inline_styles"),root_name:rD(t),sandbox_iframes:e("sandbox_iframes"),sandbox_iframes_exclusions:yf(t),sanitize:e("xss_sanitization"),validate:!0,blob_cache:n,document:t.getDoc()})},eE=t=>{const e=t.options.get;return Ch({custom_elements:e("custom_elements"),extended_valid_elements:e("extended_valid_elements"),invalid_elements:e("invalid_elements"),invalid_styles:e("invalid_styles"),schema:e("schema"),valid_children:e("valid_children"),valid_classes:e("valid_classes"),valid_elements:e("valid_elements"),valid_styles:e("valid_styles"),verify_html:e("verify_html"),padd_empty_block_inline_children:e("format_empty_lines")})},wh=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,nE=t=>{const e=wh(t),n=gb(t),o=t.contentCSS,r=()=>{e.unloadAll(o),t.inline||t.ui.styleSheetLoader.unloadAll(n)},s=()=>{t.removed?r():t.on("remove",r)};if(t.contentStyles.length>0){let l="";lt.each(t.contentStyles,c=>{l+=c+`\r
`}),t.dom.addStyle(l)}const i=Promise.all(((l,c,u)=>{const{pass:f,fail:p}=Sr(c,y=>tinymce.Resource.has(dp(y))),b=f.map(y=>{const g=tinymce.Resource.get(dp(y));return Dt(g)?Promise.resolve(wh(l).loadRawCss(y,g)):Promise.resolve()}),h=[...b,wh(l).loadAll(p)];return l.inline?h:h.concat([l.ui.styleSheetLoader.loadAll(u)])})(t,o,n)).then(s).catch(s),a=Qk(t);return a&&((l,c)=>{const u=P(l.getBody()),f=Ge(Me(u)),p=Mt("style");on(p,"type","text/css"),At(p,ie(c)),At(f,p),l.on("remove",()=>{Yt(p)})})(t,a),i},xh=t=>{t.removed!==!0&&((e=>{Os(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(t),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(o=>{o.dispatch("Init")})(e),e.focus(!0),(o=>{const r=o.dom.getRoot();o.inline||sd(o)&&o.selection.getStart(!0)!==r||Gn(r).each(s=>{const i=s.getNode(),a=xs(i)?Gn(i).getOr(s):s;o.selection.setRng(a.toRange())})})(e),e.nodeChanged({initial:!0});const n=wS(e);be(n)&&n.call(e,e),(o=>{const r=ES(o);r&&vr.setEditorTimeout(o,()=>{let s;s=r===!0?o:o.editorManager.get(r),s&&!s.destroyed&&(s.focus(),s.selection.scrollIntoView())},100)})(e)})(t))},oE=t=>{const e=t.getElement();let n=t.getDoc();t.inline&&(_h.addClass(e,"mce-content-body"),t.contentDocument=n=document,t.contentWindow=window,t.bodyElement=e,t.contentAreaContainer=e);const o=t.getBody();o.disabled=!0,t.readonly=yb(t),t._editableRoot=gS(t),!t.readonly&&t.hasEditableRoot()&&(t.inline&&_h.getStyle(o,"position",!0)==="static"&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,t.editorUpload=ET(t),t.schema=gi(eE(t)),t.dom=Ie(n,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:Kk(t),referrerPolicy:gf(t),onSetAttrib:i=>{t.dispatch("SetAttrib",i)}}),t.parser=(i=>{const a=nl(tE(i),i.schema);return a.addAttributeFilter("src,href,style,tabindex",(l,c)=>{const u=i.dom,f="data-mce-"+c;let p=l.length;for(;p--;){const b=l[p];let h=b.attr(c);if(h&&!b.attr(f)){if(h.indexOf("data:")===0||h.indexOf("blob:")===0)continue;c==="style"?(h=u.serializeStyle(u.parseStyle(h),b.name),h.length||(h=null),b.attr(f,h),b.attr(c,h)):c==="tabindex"?(b.attr(f,h),b.attr(c,null)):b.attr(f,i.convertURL(h,c,b.name))}}}),a.addNodeFilter("script",l=>{let c=l.length;for(;c--;){const u=l[c],f=u.attr("type")||"no/type";f.indexOf("mce-")!==0&&u.attr("type","mce-"+f)}}),zS(i)&&a.addNodeFilter("#cdata",l=>{var c;let u=l.length;for(;u--;){const f=l[u];f.type=8,f.name="#comment",f.value="[CDATA["+i.dom.encode((c=f.value)!==null&&c!==void 0?c:"")+"]]"}}),a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",l=>{let c=l.length;const u=i.schema.getNonEmptyElements();for(;c--;){const f=l[c];f.isEmpty(u)&&f.getAll("br").length===0&&f.append(new go("br",1))}}),a})(t),t.serializer=Z_((i=>{const a=i.options.get;return{...tE(i),...eE(i),...Ch({remove_trailing_brs:a("remove_trailing_brs"),pad_empty_with_br:a("pad_empty_with_br"),url_converter:a("url_converter"),url_converter_scope:a("url_converter_scope"),element_format:a("element_format"),entities:a("entities"),entity_encoding:a("entity_encoding"),indent:a("indent"),indent_after:a("indent_after"),indent_before:a("indent_before")})}})(t),t),t.selection=Q_(t.dom,t.getWin(),t.serializer,t),t.annotator=_v(t),t.formatter=mC(t),t.undoManager=hC(t),t._nodeChangeDispatcher=new vO(t),t._selectionOverrides=KO(t),(i=>{const a=Ks(),l=Nn(!1),c=Zu(u=>{i.dispatch("longpress",{...u,type:"longpress"}),l.set(!0)},400);i.on("touchstart",u=>{Sw(u).each(f=>{c.cancel();const p={x:f.clientX,y:f.clientY,target:u.target};c.throttle(u),l.set(!1),a.set(p)})},!0),i.on("touchmove",u=>{c.cancel(),Sw(u).each(f=>{a.on(p=>{((b,h)=>{const y=Math.abs(b.clientX-h.x),g=Math.abs(b.clientY-h.y);return y>5||g>5})(f,p)&&(a.clear(),l.set(!1),i.dispatch("longpresscancel"))})})},!0),i.on("touchend touchcancel",u=>{c.cancel(),u.type!=="touchcancel"&&a.get().filter(f=>f.target.isEqualNode(u.target)).each(()=>{l.get()?u.preventDefault():i.dispatch("tap",{...u,type:"tap"})})},!0)})(t),(i=>{(a=>{a.on("click",l=>{a.dom.getParent(l.target,"details")&&l.preventDefault()})})(i),(a=>{a.parser.addNodeFilter("details",l=>{const c=VS(a);Y(l,u=>{c==="expanded"?u.attr("open","open"):c==="collapsed"&&u.attr("open",null)})}),a.serializer.addNodeFilter("details",l=>{const c=KS(a);Y(l,u=>{c==="expanded"?u.attr("open","open"):c==="collapsed"&&u.attr("open",null)})})})(i)})(t),(i=>{const a="contenteditable",l=" "+lt.trim($S(i))+" ",c=" "+lt.trim(xb(i))+" ",u=Nw(l),f=Nw(c),p=HS(i);p.length>0&&i.on("BeforeSetContent",b=>{((h,y,g)=>{let C=y.length,k=g.content;if(g.format!=="raw"){for(;C--;)k=k.replace(y[C],dR(h,k,xb(h)));g.content=k}})(i,p,b)}),i.parser.addAttributeFilter("class",b=>{let h=b.length;for(;h--;){const y=b[h];u(y)?y.attr(a,"true"):f(y)&&y.attr(a,"false")}}),i.serializer.addAttributeFilter(a,b=>{let h=b.length;for(;h--;){const y=b[h];if(!u(y)&&!f(y))continue;const g=y.attr("data-mce-content");p.length>0&&g?uR(p,g)?(y.name="#text",y.type=3,y.raw=!0,y.value=g):y.remove():y.attr(a,null)}})})(t),Os(t)||((i=>{i.on("mousedown",a=>{a.detail>=3&&(a.preventDefault(),IO(i))})})(t),(i=>{nD(i)})(t));const r=bO(t);((i,a)=>{i.addCommand("delete",()=>{((l,c)=>{kw(l,c,!1).fold(()=>{l.selection.isEditable()&&(wd(l),pm(l))},Co)})(i,a)}),i.addCommand("forwardDelete",()=>{((l,c)=>{kw(l,c,!0).fold(()=>{l.selection.isEditable()&&X0(l)},Co)})(i,a)})})(t,r),(i=>{i.on("NodeChange",()=>(a=>{const l=a.dom,c=a.selection,u=a.schema,f=u.getBlockElements(),p=c.getStart(),b=a.getBody();let h,y,g=null;const C=Xn(a);if(!p||!Tt(p))return;const k=b.nodeName.toLowerCase();if(!u.isValidChild(k,C.toLowerCase())||((N,T,D)=>ve(k0(P(D),P(T)),F=>Bp(N,F.dom)))(f,b,p))return;if(b.firstChild===b.lastChild&&Qe(b.firstChild))return h=Pp(a),h.appendChild(ja().dom),b.replaceChild(h,b.firstChild),a.selection.setCursorLocation(h,0),void a.nodeChanged();let S=b.firstChild;for(;S;)if(Tt(S)&&QE(u,S),lR(u,S)){if(cR(f,S)){y=S,S=S.nextSibling,l.remove(y);continue}if(!h){if(!g&&a.hasFocus()&&(g=DC(a.selection.getRng(),()=>document.createElement("span"))),!S.parentNode){S=null;break}h=Pp(a),b.insertBefore(h,S)}y=S,S=S.nextSibling,h.appendChild(y)}else h=null,S=S.nextSibling;g&&(a.selection.setRng(LC(g)),a.nodeChanged())})(i))})(t),(i=>{var a;const l=i.dom,c=Xn(i),u=(a=eS(i))!==null&&a!==void 0?a:"",f=(p,b)=>{if((g=>{if(bC(g)){const C=g.keyCode;return!vC(g)&&(Ct.metaKeyPressed(g)||g.altKey||C>=112&&C<=123||pe(TT,C))}return!1})(p))return;const h=i.getBody(),y=!(g=>bC(g)&&!(vC(g)||g.type==="keyup"&&g.keyCode===229))(p)&&((g,C,k)=>{if(g.isEmpty(C,void 0,{skipBogus:!1,includeZwsp:!0})){const S=C.firstElementChild;return!S||!g.getStyle(C.firstElementChild,"padding-left")&&!g.getStyle(C.firstElementChild,"padding-right")&&k===S.nodeName.toLowerCase()}return!1})(l,h,c);(l.getAttrib(h,gC)!==""!==y||b)&&(l.setAttrib(h,gC,y?u:null),((g,C)=>{g.dispatch("PlaceholderToggle",{state:C})})(i,y),i.on(y?"keydown":"keyup",f),i.off(y?"keyup":"keydown",f))};wo(u)&&i.on("init",p=>{f(p,!0),i.on("change SetContent ExecCommand",f),i.on("paste",b=>vr.setEditorTimeout(i,()=>f(b)))})})(t),BO(t);const s=(i=>{const a=i;return(l=>Ee(l.plugins,"rtc").bind(c=>E.from(c.setup)))(i).fold(()=>(a.rtcInstance=W_(i),E.none()),l=>(a.rtcInstance=(()=>{const c=yt(null),u=yt("");return{init:{bindEvents:Lt},undoManager:{beforeChange:Lt,add:c,undo:c,redo:c,clear:Lt,reset:Lt,hasUndo:Be,hasRedo:Be,transact:c,ignore:Lt,extra:Lt},formatter:{match:Be,matchAll:yt([]),matchNode:yt(void 0),canApply:Be,closest:u,apply:Lt,remove:Lt,toggle:Lt,formatChanged:yt({unbind:Lt})},editor:{getContent:u,setContent:yt({content:"",html:""}),insertContent:yt(""),addVisual:Lt},selection:{getContent:u},autocompleter:{addDecoration:Lt,removeDecoration:Lt},raw:{getModel:yt(E.none())}}})(),E.some(()=>l().then(c=>(a.rtcInstance=(u=>{const f=S=>Xt(S)?S:{},{init:p,undoManager:b,formatter:h,editor:y,selection:g,autocompleter:C,raw:k}=u;return{init:{bindEvents:p.bindEvents},undoManager:{beforeChange:b.beforeChange,add:b.add,undo:b.undo,redo:b.redo,clear:b.clear,reset:b.reset,hasUndo:b.hasUndo,hasRedo:b.hasRedo,transact:(S,N,T)=>b.transact(T),ignore:(S,N)=>b.ignore(N),extra:(S,N,T,D)=>b.extra(T,D)},formatter:{match:(S,N,T,D)=>h.match(S,f(N),D),matchAll:h.matchAll,matchNode:h.matchNode,canApply:S=>h.canApply(S),closest:S=>h.closest(S),apply:(S,N,T)=>h.apply(S,f(N)),remove:(S,N,T,D)=>h.remove(S,f(N)),toggle:(S,N,T)=>h.toggle(S,f(N)),formatChanged:(S,N,T,D,F)=>h.formatChanged(N,T,D,F)},editor:{getContent:S=>y.getContent(S),setContent:(S,N)=>({content:y.setContent(S,N),html:""}),insertContent:(S,N)=>(y.insertContent(S),""),addVisual:y.addVisual},selection:{getContent:(S,N)=>g.getContent(N)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>E.some(k.getRawModel())}}})(c),c.rtc.isRemote)))))})(t);(i=>{const a=i.getDoc(),l=i.getBody();(f=>{f.dispatch("PreInit")})(i),kS(i)||(a.body.spellcheck=!1,_h.setAttrib(l,"spellcheck","false")),i.quirks=oD(i),(f=>{f.dispatch("PostRender")})(i);const c=Zk(i);c!==void 0&&(l.dir=c);const u=SS(i);u&&i.on("BeforeSetContent",f=>{lt.each(u,p=>{f.content=f.content.replace(p,b=>"<!--mce:protected "+escape(b)+"-->")})}),i.on("SetContent",()=>{i.addVisual(i.getBody())}),i.on("compositionstart compositionend",f=>{i.composing=f.type==="compositionstart"})})(t),(i=>{const a=XS(i);Dt(GS(i))||!De(a)&&(l=>(c=>c.toLowerCase()==="gpl")(l)||(c=>c.length>=64&&c.length<=255)(l)?"VALID":"INVALID")(a)!=="INVALID"||console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")})(t),s.fold(()=>{const i=(a=>{let l=!1;const c=setTimeout(()=>{l||a.setProgressState(!0)},500);return()=>{clearTimeout(c),l=!0,a.setProgressState(!1)}})(t);nE(t).then(()=>{xh(t),i()})},i=>{t.setProgressState(!0),nE(t).then(()=>{i().then(a=>{t.setProgressState(!1),xh(t),V_(t)},a=>{t.notificationManager.open({type:"error",text:String(a)}),xh(t),V_(t)})})})},sD=ze,Eh=Ie.DOM,rE=Ie.DOM,sE=(t,e)=>({editorContainer:t,iframeContainer:e,api:{}}),iE=t=>{const e=t.getElement();return t.inline?sE(null):(n=>{const o=rE.create("div");return rE.insertAfter(o,n),sE(o,o)})(e)},iD=async t=>{t.dispatch("ScriptsLoaded"),(n=>{const o=lt.trim(mb(n)),r=n.ui.registry.getAll().icons,s={...Fd.get("default").icons,...Fd.get(o).icons};_e(s,(i,a)=>{Ht(r,a)||n.ui.registry.addIcon(a,i)})})(t),(n=>{const o=Ua(n);if(Dt(o)){const r=ma.get(o);n.theme=r(n,ma.urls[o])||{},be(n.theme.init)&&n.theme.init(n,ma.urls[o]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}})(t),(n=>{const o=bf(n),r=ol.get(o);n.model=r(n,ol.urls[o])})(t),(n=>{const o=[];Y(Qc(n),r=>{((s,i,a)=>{const l=rl.get(a),c=rl.urls[a]||s.documentBaseUrl.replace(/\/$/,"");if(a=lt.trim(a),l&&lt.inArray(i,a)===-1){if(s.plugins[a])return;try{const u=l(s,c)||{};s.plugins[a]=u,be(u.init)&&(u.init(s,c),i.push(a))}catch(u){((f,p,b)=>{const h=os.translate(["Failed to initialize plugin: {0}",p]);wv(f,"PluginLoadError",{message:h}),$d(h,b),jd(f,h)})(s,a,u)}}})(n,o,(s=>s.replace(/^\-/,""))(r))})})(t);const e=await(n=>{const o=n.getElement();return n.orgDisplay=o.style.display,Dt(Ua(n))?(r=>{const s=r.theme.renderUI;return s?s():iE(r)})(n):be(Ua(n))?(r=>{const s=r.getElement(),i=Ua(r)(r,s);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||r.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||r.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:s.offsetHeight,i})(n):iE(n)})(t);((n,o)=>{const r={show:E.from(o.show).getOr(Lt),hide:E.from(o.hide).getOr(Lt),isEnabled:E.from(o.isEnabled).getOr(ze),setEnabled:s=>{n.mode.isReadOnly()||E.from(o.setEnabled).each(i=>i(s))}};n.ui={...n.ui,...r}})(t,E.from(e.api).getOr({})),t.editorContainer=e.editorContainer,(n=>{n.contentCSS=n.contentCSS.concat((o=>aC(o,Gk(o)))(n),(o=>aC(o,gb(o)))(n))})(t),t.inline?oE(t):((n,o)=>{((r,s)=>{const i=fe.browser.isFirefox()?wb(r):"Rich Text Area",a=r.translate(i),l=er(P(r.getElement()),"tabindex").bind(Hs),c=((u,f,p,b)=>{const h=Mt("iframe");return b.each(y=>on(h,"tabindex",y)),tr(h,p),tr(h,{id:u+"_ifr",frameBorder:"0",allowTransparency:"true",title:f}),q(h,"tox-edit-area__iframe"),h})(r.id,a,Ok(r),l).dom;c.onload=()=>{c.onload=null,r.dispatch("load")},r.contentAreaContainer=s.iframeContainer,r.iframeElement=c,r.iframeHTML=(u=>{let f=Dk(u)+"<html><head>";cb(u)!==u.documentBaseUrl&&(f+='<base href="'+u.documentBaseURI.getURI()+'" />'),f+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const p=Lk(u),b=Bk(u),h=u.translate(wb(u));return db(u)&&(f+='<meta http-equiv="Content-Security-Policy" content="'+db(u)+'" />'),f+=`</head><body id="${p}" class="mce-content-body ${b}" data-id="${u.id}" aria-label="${h}"><br></body></html>`,f})(r),Eh.add(s.iframeContainer,c)})(n,o),o.editorContainer&&(o.editorContainer.style.display=n.orgDisplay,n.hidden=Eh.isHidden(o.editorContainer)),n.getElement().style.display="none",Eh.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,(r=>{const s=r.iframeElement,i=()=>{r.contentDocument=s.contentDocument,oE(r)};if(qS(r)||fe.browser.isFirefox()){const l=r.getDoc();l.open(),l.write(r.iframeHTML),l.close(),i()}else{const l=(a=P(s),Kn(a,"load",sD,()=>{l.unbind(),i()}));s.srcdoc=r.iframeHTML}var a})(n)})(t,{editorContainer:e.editorContainer,iframeContainer:e.iframeContainer})},ha=Ie.DOM,aE=t=>t.charAt(0)==="-",lE=(t,e,n)=>E.from(e).filter(o=>wo(o)&&!Fd.has(o)).map(o=>({url:`${t.editorManager.baseURL}/icons/${o}/icons${n}.js`,name:E.some(o)})),aD=(t,e)=>{const n=Ys.ScriptLoader,o=()=>{!t.removed&&(r=>{const s=Ua(r);return!Dt(s)||gt(ma.get(s))})(t)&&(r=>{const s=bf(r);return gt(ol.get(s))})(t)&&iD(t)};((r,s)=>{const i=Ua(r);if(Dt(i)&&!aE(i)&&!Ht(ma.urls,i)){const a=oS(r),l=a?r.documentBaseURI.toAbsolute(a):`themes/${i}/theme${s}.js`;ma.load(i,l).catch(()=>{((c,u,f)=>{fc(c,"ThemeLoadError",mc("theme",u,f))})(r,l,i)})}})(t,e),((r,s)=>{const i=bf(r);if(i!=="plugin"&&!Ht(ol.urls,i)){const a=rS(r),l=Dt(a)?r.documentBaseURI.toAbsolute(a):`models/${i}/model${s}.js`;ol.load(i,l).catch(()=>{((c,u,f)=>{fc(c,"ModelLoadError",mc("model",u,f))})(r,l,i)})}})(t,e),((r,s)=>{const i=pb(s),a=Yk(s);if(!os.hasCode(i)&&i!=="en"){const l=wo(a)?a:`${s.editorManager.baseURL}/langs/${i}.js`;r.add(l).catch(()=>{((c,u,f)=>{fc(c,"LanguageLoadError",mc("language",u,f))})(s,l,i)})}})(n,t),((r,s,i)=>{const a=lE(s,"default",i),l=(c=>E.from(zk(c)).filter(wo).map(u=>({url:u,name:E.none()})))(s).orThunk(()=>lE(s,mb(s),""));Y((c=>{const u=[],f=p=>{u.push(p)};for(let p=0;p<c.length;p++)c[p].each(f);return u})([a,l]),c=>{r.add(c.url).catch(()=>{((u,f,p)=>{fc(u,"IconsLoadError",mc("icons",f,p))})(s,c.url,c.name.getOrUndefined())})})})(n,t,e),((r,s)=>{const i=(a,l)=>{rl.load(a,l).catch(()=>{((c,u,f)=>{fc(c,"PluginLoadError",mc("plugin",u,f))})(r,l,a)})};_e(bS(r),(a,l)=>{i(l,a),r.options.set("plugins",Qc(r).concat(l))}),Y(Qc(r),a=>{!(a=lt.trim(a))||rl.urls[a]||aE(a)||i(a,`plugins/${a}/plugin${s}.js`)})})(t,e),n.loadQueue().then(o,o)},cE=Bn().deviceType,dE=cE.isPhone(),lD=cE.isTablet(),Rc=t=>{if(he(t))return[];{const e=Oe(t)?t:t.split(/[ ,]/),n=re(e,no);return Wt(n,wo)}},cD=(t,e)=>{const n=((s,i)=>{const a={},l={};return Tr(s,(c,u)=>pe(t,u),Nr(a),Nr(l)),{t:a,f:l}})(e);return o=n.t,r=n.f,{sections:yt(o),options:yt(r)};var o,r},kh=(t,e)=>Ht(t.sections(),e),dD=(t,e)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ee(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...e?{menubar:!1}:{}}),uD=(t,e)=>{var n;const o=(n=e.external_plugins)!==null&&n!==void 0?n:{};return t&&t.external_plugins?lt.extend({},t.external_plugins,o):o},fD=(t,e,n,o,r)=>{var s;const i=t?{mobile:dD((s=r.mobile)!==null&&s!==void 0?s:{},e)}:{},a=cD(["mobile"],qp(i,r)),l=lt.extend(n,o,a.options(),((c,u)=>c&&kh(u,"mobile"))(t,a)?((c,u,f={})=>{const p=c.sections(),b=Ee(p,u).getOr({});return lt.extend({},f,b)})(a,"mobile"):{},{external_plugins:uD(o,a.options())});return((c,u,f,p)=>{const b=Rc(f.forced_plugins),h=Rc(p.plugins),y=((k,S)=>kh(k,S)?k.sections()[S]:{})(u,"mobile"),g=((k,S,N,T)=>k&&kh(S,"mobile")?T:N)(c,u,h,y.plugins?Rc(y.plugins):h),C=((k,S)=>[...Rc(k),...Rc(S)])(b,g);return lt.extend(p,{forced_plugins:b,plugins:C})})(t,a,o,l)},mD=t=>{(e=>{const n=o=>()=>{Y("left,center,right,justify".split(","),r=>{o!==r&&e.formatter.remove("align"+r)}),o!=="none"&&((r,s)=>{e.formatter.toggle(r,void 0),e.nodeChanged()})("align"+o)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})})(t),(e=>{const n=o=>()=>{const r=e.selection,s=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return ve(s,i=>gt(e.formatter.matchNode(i,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")})(t)},pD=(t,e)=>{const n=t.selection,o=t.dom;return/^ | $/.test(e)?((r,s,i,a)=>{const l=P(r.getRoot());return i=oc(l,tt.fromRangeStart(s),a)?i.replace(/^ /,"&nbsp;"):i.replace(/^&nbsp;/," "),rc(l,tt.fromRangeEnd(s),a)?i.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):i.replace(/&nbsp;(<br( \/)?>)?$/," ")})(o,n.getRng(),e,t.schema):e},bu=(t,e)=>{if(t.selection.isEditable()){const{content:n,details:o}=(r=>{if(typeof r!="string"){const s=lt.extend({paste:r.paste,data:{paste:r.paste}},r);return{content:r.content,details:s}}return{content:r,details:{}}})(e);ep(t,{...o,content:pD(t,n),format:"html",set:!1,selection:!0}).each(r=>{const s=((i,a,l)=>lp(i).editor.insertContent(a,l))(t,r.content,o);np(t,s,r),t.addVisual()})}},hD={"font-size":"size","font-family":"face"},gD=ro("font"),uE=t=>(e,n)=>E.from(n).map(P).filter(En).bind(o=>((r,s,i)=>Dm(P(i),a=>(l=>rt(l,r).orThunk(()=>gD(l)?Ee(hD,r).bind(c=>er(l,c)):E.none()))(a),a=>Ft(P(s),a)))(t,e,o.dom).or(((r,s)=>E.from(Ie.DOM.getStyle(s,r,!0)))(t,o.dom))).getOr(""),bD=uE("font-size"),vD=_o(t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),uE("font-family")),yD=t=>Gn(t.getBody()).bind(e=>{const n=e.container();return E.from(ut(n)?n.parentNode:n)}),Sh=(t,e)=>((n,o)=>(r=>E.from(r.selection.getRng()).bind(s=>{const i=r.getBody();return s.startContainer===i&&s.startOffset===0?E.none():E.from(r.selection.getStart(!0))}))(n).orThunk(St(yD,n)).map(P).filter(En).bind(o))(t,Di(E.some,e)),fE=(t,e)=>{if(/^[0-9.]+$/.test(e)){const n=parseInt(e,10);if(n>=1&&n<=7){const o=(s=>lt.explode(s.options.get("font_size_style_values")))(t),r=(s=>lt.explode(s.options.get("font_size_classes")))(t);return r.length>0?r[n-1]||e:o[n-1]||e}return e}return e},_D=t=>{const e=t.split(/\s*,\s*/);return re(e,n=>n.indexOf(" ")===-1||Xe(n,'"')||Xe(n,"'")?n:`'${n}'`).join(",")},mE=(t,e)=>{const n=t.dom,o=t.selection.getRng(),r=e?t.selection.getStart():t.selection.getEnd(),s=e?o.startContainer:o.endContainer,i=kc(n,s);if(!i||!i.isContentEditable)return;const a=e?Ot:jt,l=Xn(t);((c,u,f,p)=>{const b=c.dom,h=g=>b.isBlock(g)&&g.parentElement===f,y=h(u)?u:b.getParent(p,h,f);return E.from(y).map(P)})(t,r,i,s).each(c=>{const u=O1(t,s,c.dom,i,!1,l);a(c,P(u)),t.selection.setCursorLocation(u,0),t.dispatch("NewBlock",{newBlock:u}),Ec(t,"insertParagraph")})},CD=t=>{mD(t),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n!=="paste"||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){let s=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(fe.os.isMacOS()||fe.os.isiOS())&&(s=s.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:s,type:"error"})}}})})(t),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(t),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let s=0;e.dom.getParent(e.selection.getNode(),i=>!Tt(i)||s++!==r||(e.selection.select(i),!1),e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Pr);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})})(t),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{bu(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{bu(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{bu(e,r)},mceInsertContent:(n,o,r)=>{bu(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(RS(e))}})})(t),(e=>{const n=(o,r,s)=>{const i=Dt(s)?{href:s}:s,a=e.dom.getParent(e.selection.getNode(),"a");Xt(i)&&Dt(i.href)&&(i.href=i.href.replace(/ /g,"%20"),a&&i.href||e.formatter.remove("link"),i.href&&e.formatter.apply("link",i,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");return void(o&&e.dom.remove(o,!0))}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})})(t),(e=>{e.editorCommands.addCommands({Indent:()=>{(n=>{ww(n,"indent")})(e)},Outdent:()=>{xw(e)}}),e.editorCommands.addCommands({Outdent:()=>yw(e)},"state")})(t),(e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(n=>{mE(n,!0)})(e)},InsertNewBlockAfter:()=>{(n=>{mE(n,!1)})(e)}})})(t),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{au(P1,e)},mceInsertNewLine:(n,o,r)=>{z1(e,r)},InsertLineBreak:(n,o,r)=>{au(F1,e)}})})(t),(e=>{(n=>{const o=(r,s)=>{n.formatter.toggle(r,s),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":r=>{o(r)},"ForeColor,HiliteColor":(r,s,i)=>{o(r,{value:i})},BackColor:(r,s,i)=>{o("hilitecolor",{value:i})},FontName:(r,s,i)=>{((a,l)=>{const c=fE(a,l);a.formatter.toggle("fontname",{value:_D(c)}),a.nodeChanged()})(n,i)},FontSize:(r,s,i)=>{((a,l)=>{a.formatter.toggle("fontsize",{value:fE(a,l)}),a.nodeChanged()})(n,i)},LineHeight:(r,s,i)=>{((a,l)=>{a.formatter.toggle("lineheight",{value:String(l)}),a.nodeChanged()})(n,i)},Lang:(r,s,i)=>{var a;o(r,{value:i.code,customValue:(a=i.customCode)!==null&&a!==void 0?a:null})},RemoveFormat:r=>{n.formatter.remove(r)},mceBlockQuote:()=>{o("blockquote")},FormatBlock:(r,s,i)=>{o(Dt(i)?i:"p")},mceToggleFormat:(r,s,i)=>{o(i)}})})(e),(n=>{const o=r=>n.formatter.match(r);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":r=>o(r),mceBlockQuote:()=>o("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>(r=>Sh(r,s=>vD(r.getBody(),s.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>(r=>Sh(r,s=>bD(r.getBody(),s.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>(r=>Sh(r,s=>{const i=P(r.getBody());return Dm(s,l=>rt(l,"line-height"),St(Ft,i)).getOrThunk(()=>{const l=parseFloat(I(s,"line-height")),c=parseFloat(I(s,"font-size"));return String(l/c)})}).getOr(""))(n))})(e)})(t),(e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const s=r??e.selection.getNode();if(s!==e.getBody()){const i=e.selection.getBookmark();e.dom.remove(s,!0),e.selection.moveToBookmark(i)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{((s,i)=>{s.removed||(i?nm(s):(a=>{const l=a.selection,c=a.getBody();let u=l.getRng();a.quirks.refreshContentEditable();const f=b=>{Zf(b).each(h=>{b.selection.setRng(h),u=h})};!Ja(a)&&a.hasEditableRoot()&&f(a);const p=((b,h)=>b.dom.getParent(h,y=>b.dom.getContentEditable(y)==="true"))(a,l.getNode());if(p&&a.dom.isChildOf(p,c))return((b,h)=>b.dom.getParent(h,y=>b.dom.getContentEditable(y)==="false")!==null)(a,p)||bd(c),bd(p),a.hasEditableRoot()||f(a),Jv(a,u),void nm(a);a.inline||(fe.browser.isOpera()||bd(c),a.getWin().focus()),(fe.browser.isFirefox()||a.inline)&&(bd(c),Jv(a,u)),nm(a)})(s))})(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(t)},wD=["toggleview"],pE=t=>pe(wD,t.toLowerCase());class hE{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,n=!1,o,r){const s=this.editor,i=e.toLowerCase(),a=r?.skip_focus;if(s.removed||(i!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||a?(c=>{Zf(c).each(u=>c.selection.setRng(u))})(s):s.focus()),s.dispatch("BeforeExecCommand",{command:e,ui:n,value:o}).isDefaultPrevented()))return!1;const l=this.commands.exec[i];return!!be(l)&&(l(i,n,o),s.dispatch("ExecCommand",{command:e,ui:n,value:o}),!0)}queryCommandState(e){if(!pE(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=e.toLowerCase(),o=this.commands.state[n];return!!be(o)&&o(n)}queryCommandValue(e){if(!pE(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=e.toLowerCase(),o=this.commands.value[n];return be(o)?o(n):""}addCommands(e,n="exec"){const o=this.commands;_e(e,(r,s)=>{Y(s.toLowerCase().split(","),i=>{o[n][i]=r})})}addCommand(e,n,o){const r=e.toLowerCase();this.commands.exec[r]=(s,i,a)=>n.call(o??this.editor,i,a)}queryCommandSupported(e){const n=e.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(e,n,o){this.commands.state[e.toLowerCase()]=()=>n.call(o??this.editor)}addQueryValueHandler(e,n,o){this.commands.value[e.toLowerCase()]=()=>n.call(o??this.editor)}}const ga="data-mce-contenteditable",Ah=(t,e,n)=>{try{t.getDoc().execCommand(e,!1,String(n))}catch{}},vu=(t,e)=>{t.dom.contentEditable=e?"true":"false"},ba=t=>t.readonly,gE=t=>{t.parser.addAttributeFilter("contenteditable",e=>{ba(t)&&Y(e,n=>{n.attr(ga,n.attr("contenteditable")),n.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(ga,e=>{ba(t)&&Y(e,n=>{n.attr("contenteditable",n.attr(ga))})}),t.serializer.addTempAttr(ga)},xD=["copy"],ED=lt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Nh{static isNative(e){return!!ED[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Be}fire(e,n){return this.dispatch(e,n)}dispatch(e,n){const o=e.toLowerCase(),r=Ku(o,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);const s=this.bindings[o];if(s)for(let i=0,a=s.length;i<a;i++){const l=s[i];if(!l.removed){if(l.once&&this.off(o,l.func),r.isImmediatePropagationStopped())return r;if(l.func.call(this.scope,r)===!1)return r.preventDefault(),r}}return r}on(e,n,o,r){if(n===!1&&(n=Be),n){const s={func:n,removed:!1};r&&lt.extend(s,r);const i=e.toLowerCase().split(" ");let a=i.length;for(;a--;){const l=i[a];let c=this.bindings[l];c||(c=[],this.toggleEvent(l,!0)),c=o?[s,...c]:[...c,s],this.bindings[l]=c}}return this}off(e,n){if(e){const o=e.toLowerCase().split(" ");let r=o.length;for(;r--;){const s=o[r];let i=this.bindings[s];if(!s)return _e(this.bindings,(a,l)=>{this.toggleEvent(l,!1),delete this.bindings[l]}),this;if(i){if(n){const a=Sr(i,l=>l.func===n);i=a.fail,this.bindings[s]=i,Y(a.pass,l=>{l.removed=!0})}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[s])}}}else _e(this.bindings,(o,r)=>{this.toggleEvent(r,!1)}),this.bindings={};return this}once(e,n,o){return this.on(e,n,o,{once:!0})}has(e){e=e.toLowerCase();const n=this.bindings[e];return!(!n||n.length===0)}}const Oc=t=>(t._eventDispatcher||(t._eventDispatcher=new Nh({scope:t,toggleEvent:(e,n)=>{Nh.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher),Th={fire(t,e,n){return this.dispatch(t,e,n)},dispatch(t,e,n){const o=this;if(o.removed&&t!=="remove"&&t!=="detach")return Ku(t.toLowerCase(),e??{},o);const r=Oc(o).dispatch(t,e);if(n!==!1&&o.parent){let s=o.parent();for(;s&&!r.isPropagationStopped();)s.dispatch(t,r,!1),s=s.parent?s.parent():void 0}return r},on(t,e,n){return Oc(this).on(t,e,n)},off(t,e){return Oc(this).off(t,e)},once(t,e){return Oc(this).once(t,e)},hasEventListeners(t){return Oc(this).has(t)}},yu=Ie.DOM;let va;const _u=(t,e)=>{if(e==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(e))return t.getDoc().documentElement;const n=vb(t);return n?(t.eventRoot||(t.eventRoot=yu.select(n)[0]),t.eventRoot):t.getBody()},bE=(t,e,n)=>{(o=>!o.hidden&&!ba(o))(t)?t.dispatch(e,n):ba(t)&&((o,r)=>{if((s=>s.type==="click")(r)&&!Ct.metaKeyPressed(r)){const s=P(r.target);((i,a)=>dr(a,"a",l=>Ft(l,P(i.getBody()))).bind(l=>er(l,"href")))(o,s).each(i=>{if(r.preventDefault(),/^#/.test(i)){const a=o.dom.select(`${i},[name="${lr(i,"#")}"]`);a.length&&o.selection.scrollIntoView(a[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(s=>pe(xD,s.type))(r)&&o.dispatch(r.type,r)})(t,n)},vE=(t,e)=>{if(t.delegates||(t.delegates={}),t.delegates[e]||t.removed)return;const n=_u(t,e);if(vb(t)){if(va||(va={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||va&&(_e(va,(r,s)=>{t.dom.unbind(_u(t,s))}),va=null)})),va[e])return;const o=r=>{const s=r.target,i=t.editorManager.get();let a=i.length;for(;a--;){const l=i[a].getBody();(l===s||yu.isChildOf(s,l))&&bE(i[a],e,r)}};va[e]=o,yu.bind(n,e,o)}else{const o=r=>{bE(t,e,r)};yu.bind(n,e,o),t.delegates[e]=o}},yE={...Th,bindPendingEventDelegates(){const t=this;lt.each(t._pendingNativeEvents,e=>{vE(t,e)})},toggleNativeEvent(t,e){const n=this;t!=="focus"&&t!=="blur"&&(n.removed||(e?n.initialized?vE(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&n.delegates&&(n.dom.unbind(_u(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents(){const t=this,e=t.getBody(),n=t.dom;t.delegates&&(_e(t.delegates,(o,r)=>{t.dom.unbind(_u(t,r),r,o)}),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}},kD=t=>Dt(t)?{value:t.split(/[ ,]/),valid:!0}:Er(t,Dt)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},_E=(t,e)=>t+(gs(e.message)?"":`. ${e.message}`),CE=t=>t.valid,Rh=(t,e,n="")=>{const o=e(t);return dn(o)?o?{value:t,valid:!0}:{valid:!1,message:n}:o},SD=["design","readonly"],wE=(t,e,n,o)=>{const r=n[e.get()],s=n[o];try{s.activate()}catch(i){return void console.error(`problem while activating editor mode ${o}:`,i)}r.deactivate(),r.editorReadOnly!==s.editorReadOnly&&((i,a)=>{const l=P(i.getBody());((c,u,f)=>{at(c,u)&&!f?st(c,u):f&&q(c,u)})(l,"mce-content-readonly",a),a?(i.selection.controlSelection.hideResizeRect(),i._selectionOverrides.hideFakeCaret(),(c=>{E.from(c.selection.getNode()).each(u=>{u.removeAttribute("data-mce-selected")})})(i),i.readonly=!0,vu(l,!1),Y(dt(l,'*[contenteditable="true"]'),c=>{on(c,ga,"true"),vu(c,!1)})):(i.readonly=!1,i.hasEditableRoot()&&vu(l,!0),Y(dt(l,`*[${ga}="true"]`),c=>{m(c,ga),vu(c,!0)}),Ah(i,"StyleWithCSS",!1),Ah(i,"enableInlineTableEditing",!1),Ah(i,"enableObjectResizing",!1),t0(i)&&i.focus(),(c=>{c.selection.setRng(c.selection.getRng())})(i),i.nodeChanged())})(t,s.editorReadOnly),e.set(o),((i,a)=>{i.dispatch("SwitchMode",{mode:a})})(t,o)},Oh=lt.each,Dh=lt.explode,AD={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},xE=lt.makeMap("alt,ctrl,shift,meta,access"),ND=t=>{const e={},n=fe.os.isMacOS()||fe.os.isiOS();Oh(Dh(t.toLowerCase(),"+"),s=>{(i=>i in xE)(s)?e[s]=!0:/^[0-9]{2,}$/.test(s)?e.keyCode=parseInt(s,10):(e.charCode=s.charCodeAt(0),e.keyCode=AD[s]||s.toUpperCase().charCodeAt(0))});const o=[e.keyCode];let r;for(r in xE)e[r]?o.push(r):e[r]=!1;return e.id=o.join(","),e.access&&(e.alt=!0,n?e.ctrl=!0:e.shift=!0),e.meta&&(n?e.meta=!0:(e.ctrl=!0,e.meta=!1)),e};class EE{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const n=this;e.on("keyup keypress keydown",o=>{!n.hasModifier(o)&&!n.isFunctionKey(o)||o.isDefaultPrevented()||(Oh(n.shortcuts,r=>{n.matchShortcut(o,r)&&(n.pendingPatterns=r.subpatterns.slice(0),o.type==="keydown"&&n.executeShortcutAction(r))}),n.matchShortcut(o,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&o.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(e,n,o,r){const s=this,i=s.normalizeCommandFunc(o);return Oh(Dh(lt.trim(e)),a=>{const l=s.createShortcut(a,n,i,r);s.shortcuts[l.id]=l}),!0}remove(e){const n=this.createShortcut(e);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)}normalizeCommandFunc(e){const n=this,o=e;return typeof o=="string"?()=>{n.editor.execCommand(o,!1,null)}:lt.isArray(o)?()=>{n.editor.execCommand(o[0],o[1],o[2])}:o}createShortcut(e,n,o,r){const s=lt.map(Dh(e,">"),ND);return s[s.length-1]=lt.extend(s[s.length-1],{func:o,scope:r||this.editor}),lt.extend(s[0],{desc:this.editor.translate(n),subpatterns:s.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,n){return!!n&&n.ctrl===e.ctrlKey&&n.meta===e.metaKey&&n.alt===e.altKey&&n.shift===e.shiftKey&&!!(e.keyCode===n.keyCode||e.charCode&&e.charCode===n.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const TD=()=>{const t=(()=>{const e={},n={},o={},r={},s={},i={},a={},l={},c=(u,f)=>(p,b)=>{u[p.toLowerCase()]={...b,type:f}};return{addButton:c(e,"button"),addGroupToolbarButton:c(e,"grouptoolbarbutton"),addToggleButton:c(e,"togglebutton"),addMenuButton:c(e,"menubutton"),addSplitButton:c(e,"splitbutton"),addMenuItem:c(n,"menuitem"),addNestedMenuItem:c(n,"nestedmenuitem"),addToggleMenuItem:c(n,"togglemenuitem"),addAutocompleter:c(o,"autocompleter"),addContextMenu:c(s,"contextmenu"),addContextToolbar:c(i,"contexttoolbar"),addContextForm:c(i,"contextform"),addSidebar:c(a,"sidebar"),addView:c(l,"views"),addIcon:(u,f)=>r[u.toLowerCase()]=f,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:s,contextToolbars:i,sidebars:a,views:l})}})();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},ya=Ie.DOM,kE=lt.extend,RD=lt.each;class Cu{constructor(e,n,o){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=o,this.documentBaseUrl=o.documentBaseURL,kE(this,yE);const r=this;this.id=e,this.hidden=!1;const s=((b,h)=>{const y=SR(h);return fD(dE||lD,dE,y,b,y)})(o.defaultOptions,n);this.options=((b,h,y=h)=>{const g={},C={},k=(N,T,D)=>{const F=Rh(T,D);return CE(F)?(C[N]=F.value,!0):(console.warn(_E(`Invalid value passed for the ${N} option`,F)),!1)},S=N=>Ht(g,N);return{register:(N,T)=>{const D=(M=>Dt(M.processor))(T)?(M=>{const z=(()=>{switch(M){case"array":return Oe;case"boolean":return dn;case"function":return be;case"number":return x;case"object":return Xt;case"string":return Dt;case"string[]":return kD;case"object[]":return G=>Er(G,Xt);case"regexp":return G=>yo(G,RegExp);default:return ze}})();return G=>Rh(G,z,`The value must be a ${M}.`)})(T.processor):T.processor,F=((M,z,G)=>{if(!De(z)){const B=Rh(z,G);if(CE(B))return B.value;console.error(_E(`Invalid default value passed for the "${M}" option`,B))}})(N,T.default,D);g[N]={...T,default:F,processor:D},Ee(C,N).orThunk(()=>Ee(h,N)).each(M=>k(N,M,D))},isRegistered:S,get:N=>Ee(C,N).orThunk(()=>Ee(g,N).map(T=>T.default)).getOrUndefined(),set:(N,T)=>{if(S(N)){const D=g[N];return D.immutable?(console.error(`"${N}" is an immutable option and cannot be updated`),!1):k(N,T,D.processor)}return console.warn(`"${N}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:N=>{const T=S(N);return T&&delete C[N],T},isSet:N=>Ht(C,N),debug:()=>{try{console.log(JSON.parse(JSON.stringify(y,(N,T)=>dn(T)||x(T)||Dt(T)||Qt(T)||Oe(T)||ce(T)?T:Object.prototype.toString.call(T))))}catch(N){console.error(N)}}}})(0,s,n),(b=>{const h=b.options.register;h("id",{processor:"string",default:b.id}),h("selector",{processor:"string"}),h("target",{processor:"object"}),h("suffix",{processor:"string"}),h("cache_suffix",{processor:"string"}),h("base_url",{processor:"string"}),h("referrer_policy",{processor:"string",default:""}),h("language_load",{processor:"boolean",default:!0}),h("inline",{processor:"boolean",default:!1}),h("iframe_attrs",{processor:"object",default:{}}),h("doctype",{processor:"string",default:"<!DOCTYPE html>"}),h("document_base_url",{processor:"string",default:b.documentBaseUrl}),h("body_id",{processor:lb(b,"tinymce"),default:"tinymce"}),h("body_class",{processor:lb(b),default:""}),h("content_security_policy",{processor:"string",default:""}),h("br_in_pre",{processor:"boolean",default:!0}),h("forced_root_block",{processor:y=>{const g=Dt(y)&&wo(y);return g?{value:y,valid:g}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),h("forced_root_block_attrs",{processor:"object",default:{}}),h("newline_behavior",{processor:y=>{const g=pe(["block","linebreak","invert","default"],y);return g?{value:y,valid:g}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),h("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),h("no_newline_selector",{processor:"string",default:""}),h("keep_styles",{processor:"boolean",default:!0}),h("end_container_on_empty_block",{processor:y=>dn(y)||Dt(y)?{valid:!0,value:y}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),h("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),h("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),h("font_size_classes",{processor:"string",default:""}),h("automatic_uploads",{processor:"boolean",default:!0}),h("images_reuse_filename",{processor:"boolean",default:!1}),h("images_replace_blob_uris",{processor:"boolean",default:!0}),h("icons",{processor:"string",default:""}),h("icons_url",{processor:"string",default:""}),h("images_upload_url",{processor:"string",default:""}),h("images_upload_base_path",{processor:"string",default:""}),h("images_upload_credentials",{processor:"boolean",default:!1}),h("images_upload_handler",{processor:"function"}),h("language",{processor:"string",default:"en"}),h("language_url",{processor:"string",default:""}),h("entity_encoding",{processor:"string",default:"named"}),h("indent",{processor:"boolean",default:!0}),h("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),h("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),h("indent_use_margin",{processor:"boolean",default:!1}),h("indentation",{processor:"string",default:"40px"}),h("content_css",{processor:y=>{const g=y===!1||Dt(y)||Er(y,Dt);return g?Dt(y)?{value:re(y.split(","),no),valid:g}:Oe(y)?{value:y,valid:g}:y===!1?{value:[],valid:g}:{value:y,valid:g}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:vf(b)?[]:["default"]}),h("content_style",{processor:"string"}),h("content_css_cors",{processor:"boolean",default:!1}),h("font_css",{processor:y=>{const g=Dt(y)||Er(y,Dt);return g?{value:Oe(y)?y:re(y.split(","),no),valid:g}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),h("inline_boundaries",{processor:"boolean",default:!0}),h("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),h("object_resizing",{processor:y=>{const g=dn(y)||Dt(y);return g?y===!1||hf.isiPhone()||hf.isiPad()?{value:"",valid:g}:{value:y===!0?"table,img,figure.image,div,video,iframe":y,valid:g}:{valid:!1,message:"Must be boolean or a string"}},default:!Tk}),h("resize_img_proportional",{processor:"boolean",default:!0}),h("event_root",{processor:"string"}),h("service_message",{processor:"string"}),h("theme",{processor:y=>y===!1||Dt(y)||be(y),default:"silver"}),h("theme_url",{processor:"string"}),h("formats",{processor:"object"}),h("format_empty_lines",{processor:"boolean",default:!1}),h("format_noneditable_selector",{processor:"string",default:""}),h("preview_styles",{processor:y=>{const g=y===!1||Dt(y);return g?{value:y===!1?"":y,valid:g}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),h("custom_ui_selector",{processor:"string",default:""}),h("hidden_input",{processor:"boolean",default:!0}),h("submit_patch",{processor:"boolean",default:!0}),h("encoding",{processor:"string"}),h("add_form_submit_trigger",{processor:"boolean",default:!0}),h("add_unload_trigger",{processor:"boolean",default:!0}),h("custom_undo_redo_levels",{processor:"number",default:0}),h("disable_nodechange",{processor:"boolean",default:!1}),h("readonly",{processor:"boolean",default:!1}),h("editable_root",{processor:"boolean",default:!0}),h("plugins",{processor:"string[]",default:[]}),h("external_plugins",{processor:"object"}),h("forced_plugins",{processor:"string[]"}),h("model",{processor:"string",default:b.hasPlugin("rtc")?"plugin":"dom"}),h("model_url",{processor:"string"}),h("block_unsupported_drop",{processor:"boolean",default:!0}),h("visual",{processor:"boolean",default:!0}),h("visual_table_class",{processor:"string",default:"mce-item-table"}),h("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),h("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),h("setup",{processor:"function"}),h("init_instance_callback",{processor:"function"}),h("url_converter",{processor:"function",default:b.convertURL}),h("url_converter_scope",{processor:"object",default:b}),h("urlconverter_callback",{processor:"function"}),h("allow_conditional_comments",{processor:"boolean",default:!1}),h("allow_html_data_urls",{processor:"boolean",default:!1}),h("allow_svg_data_urls",{processor:"boolean"}),h("allow_html_in_named_anchor",{processor:"boolean",default:!1}),h("allow_script_urls",{processor:"boolean",default:!1}),h("allow_unsafe_link_target",{processor:"boolean",default:!1}),h("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),h("fix_list_elements",{processor:"boolean",default:!1}),h("preserve_cdata",{processor:"boolean",default:!1}),h("remove_trailing_brs",{processor:"boolean",default:!0}),h("pad_empty_with_br",{processor:"boolean",default:!1}),h("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),h("element_format",{processor:"string",default:"html"}),h("entities",{processor:"string"}),h("schema",{processor:"string",default:"html5"}),h("convert_urls",{processor:"boolean",default:!0}),h("relative_urls",{processor:"boolean",default:!0}),h("remove_script_host",{processor:"boolean",default:!0}),h("custom_elements",{processor:Gc}),h("extended_valid_elements",{processor:"string"}),h("invalid_elements",{processor:"string"}),h("invalid_styles",{processor:Gc}),h("valid_children",{processor:"string"}),h("valid_classes",{processor:Gc}),h("valid_elements",{processor:"string"}),h("valid_styles",{processor:Gc}),h("verify_html",{processor:"boolean",default:!0}),h("auto_focus",{processor:y=>Dt(y)||y===!0}),h("browser_spellcheck",{processor:"boolean",default:!1}),h("protect",{processor:"array"}),h("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),h("deprecation_warnings",{processor:"boolean",default:!0}),h("a11y_advanced_options",{processor:"boolean",default:!1}),h("api_key",{processor:"string"}),h("license_key",{processor:"string"}),h("paste_block_drop",{processor:"boolean",default:!1}),h("paste_data_images",{processor:"boolean",default:!0}),h("paste_preprocess",{processor:"function"}),h("paste_postprocess",{processor:"function"}),h("paste_webkit_styles",{processor:"string",default:"none"}),h("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),h("paste_merge_formats",{processor:"boolean",default:!0}),h("smart_paste",{processor:"boolean",default:!0}),h("paste_as_text",{processor:"boolean",default:!1}),h("paste_tab_spaces",{processor:"number",default:4}),h("text_patterns",{processor:y=>Er(y,Xt)||y===!1?{value:ib(y===!1?[]:y),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),h("text_patterns_lookup",{processor:y=>{return be(y)?{value:(g=y,C=>{const k=g(C);return ib(k)}),valid:!0}:{valid:!1,message:"Must be a single function"};var g},default:y=>[]}),h("noneditable_class",{processor:"string",default:"mceNonEditable"}),h("editable_class",{processor:"string",default:"mceEditable"}),h("noneditable_regexp",{processor:y=>Er(y,ab)?{value:y,valid:!0}:ab(y)?{value:[y],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),h("table_tab_navigation",{processor:"boolean",default:!0}),h("highlight_on_focus",{processor:"boolean",default:!0}),h("xss_sanitization",{processor:"boolean",default:!0}),h("details_initial_state",{processor:y=>{const g=pe(["inherited","collapsed","expanded"],y);return g?{value:y,valid:g}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),h("details_serialized_state",{processor:y=>{const g=pe(["inherited","collapsed","expanded"],y);return g?{value:y,valid:g}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),h("init_content_sync",{processor:"boolean",default:!1}),h("newdocument_content",{processor:"string",default:""}),h("sandbox_iframes",{processor:"boolean",default:!0}),h("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),h("convert_unsafe_embeds",{processor:"boolean",default:!0}),b.on("ScriptsLoaded",()=>{h("directionality",{processor:"string",default:os.isRtl()?"rtl":void 0}),h("placeholder",{processor:"string",default:Rk.getAttrib(b.getElement(),"placeholder")})})})(r);const i=this.options.get;i("deprecation_warnings")&&((b,h)=>{((y,g)=>{const C=fT(y),k=pT(g),S=k.length>0,N=C.length>0,T=g.theme==="mobile";if(S||N||T){const D=`
- `,F=T?`

Themes:${D}mobile`:"",M=S?`

Plugins:${D}${k.join(D)}`:"",z=N?`

Options:${D}${C.join(D)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+F+M+z)}})(b,h),((y,g)=>{const C=mT(y),k=hT(g),S=k.length>0,N=C.length>0;if(S||N){const T=`
- `,D=S?`

Plugins:${T}${k.map(gT).join(T)}`:"",F=N?`

Options:${T}${C.join(T)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+D+F)}})(b,h)})(n,s);const a=i("suffix");a&&(o.suffix=a),this.suffix=o.suffix;const l=i("base_url");l&&o._setBaseUrl(l),this.baseUri=o.baseURI;const c=gf(r);c&&(Ys.ScriptLoader._setReferrerPolicy(c),Ie.DOM.styleSheetLoader._setReferrerPolicy(c));const u=_b(r);gt(u)&&Ie.DOM.styleSheetLoader._setContentCssCors(u),ho.languageLoad=i("language_load"),ho.baseURL=o.baseURL,this.setDirty(!1),this.documentBaseURI=new Fr(cb(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=vf(r),this.hasVisual=yS(r),this.shortcuts=new EE(this),this.editorCommands=new hE(this),CD(this);const f=i("cache_suffix");f&&(fe.cacheSuffix=f.replace(/^[\?\&]+/,"")),this.ui={registry:TD(),styleSheetLoader:void 0,show:Lt,hide:Lt,setEnabled:Lt,isEnabled:ze},this.mode=(b=>{const h=Nn("design"),y=Nn({design:{activate:Lt,deactivate:Lt,editorReadOnly:!1},readonly:{activate:Lt,deactivate:Lt,editorReadOnly:!0}});return(g=>{g.serializer?gE(g):g.on("PreInit",()=>{gE(g)})})(b),(g=>{g.on("ShowCaret",C=>{ba(g)&&C.preventDefault()}),g.on("ObjectSelected",C=>{ba(g)&&C.preventDefault()})})(b),{isReadOnly:()=>ba(b),set:g=>((C,k,S,N)=>{if(N!==S.get()){if(!Ht(k,N))throw new Error(`Editor mode '${N}' is invalid`);C.initialized?wE(C,S,k,N):C.on("init",()=>wE(C,S,k,N))}})(b,y.get(),h,g),get:()=>h.get(),register:(g,C)=>{y.set(((k,S,N)=>{if(pe(SD,S))throw new Error(`Cannot override default mode ${S}`);return{...k,[S]:{...N,deactivate:()=>{try{N.deactivate()}catch(T){console.error(`problem while deactivating editor mode ${S}:`,T)}}}}})(y.get(),g,C))}}})(r),o.dispatch("SetupEditor",{editor:this});const p=CS(r);be(p)&&p.call(r,r)}render(){(e=>{const n=e.id;os.setCode(pb(e));const o=()=>{ha.unbind(window,"ready",o),e.render()};if(!Xi.Event.domLoaded)return void ha.bind(window,"ready",o);if(!e.getElement())return;const r=P(e.getElement()),s=_(r);e.on("remove",()=>{kr(r.dom.attributes,a=>m(r,a.name)),tr(r,s)}),e.ui.styleSheetLoader=((a,l)=>Kh.forElement(a,{contentCssCors:_b(l),referrerPolicy:gf(l)}))(r,e),vf(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||ha.getParent(n,"form");i&&(e.formElement=i,dS(e)&&!Nu(e.getElement())&&(ha.insertAfter(ha.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=a=>{e.dispatch(a.type,a)},ha.bind(i,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),!uS(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=sC(e),e.notificationManager=rC(e),(a=>a.options.get("encoding")==="xml")(e)&&e.on("GetContent",a=>{a.save&&(a.content=ha.encode(a.content))}),fS(e)&&e.on("submit",()=>{e.initialized&&e.save()}),mS(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),aD(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return Ja(this)}translate(e){return os.translate(e)}getParam(e,n,o){const r=this.options;return r.isRegistered(e)||(gt(o)?r.register(e,{processor:o,default:n}):r.register(e,{processor:ze,default:n})),r.isSet(e)||De(n)?r.get(e):n}hasPlugin(e,n){return!(!pe(Qc(this),e)||n&&rl.get(e)===void 0)}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,n,o){this.editorCommands.addCommand(e,n,o)}addQueryStateHandler(e,n,o){this.editorCommands.addQueryStateHandler(e,n,o)}addQueryValueHandler(e,n,o){this.editorCommands.addQueryValueHandler(e,n,o)}addShortcut(e,n,o,r){this.shortcuts.add(e,n,o,r)}execCommand(e,n,o,r){return this.editorCommands.execCommand(e,n,o,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(ya.show(e.getContainer()),ya.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(ya.hide(e.getContainer()),ya.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,n){this.dispatch("ProgressState",{state:e,time:n})}load(e={}){const n=this,o=n.getElement();if(n.removed)return"";if(o){const r={...e,load:!0},s=Nu(o)?o.value:o.innerHTML,i=n.setContent(s,r);return r.no_events||n.dispatch("LoadContent",{...r,element:o}),i}return""}save(e={}){const n=this;let o=n.getElement();if(!o||!n.initialized||n.removed)return"";const r={...e,save:!0,element:o};let s=n.getContent(r);const i={...r,content:s};if(i.no_events||n.dispatch("SaveContent",i),i.format==="raw"&&n.dispatch("RawSaveContent",i),s=i.content,Nu(o))o.value=s;else{!e.is_removing&&n.inline||(o.innerHTML=s);const a=ya.getParent(n.id,"form");a&&RD(a.elements,l=>l.name!==n.id||(l.value=s,!1))}return i.element=r.element=o=null,i.set_dirty!==!1&&n.setDirty(!1),s}setContent(e,n){return cp(this,e,n)}getContent(e){return((n,o={})=>{const r=((s,i)=>({...s,format:i,get:!0,getInner:!0}))(o,o.format?o.format:"html");return L_(n,r).fold(me,s=>{const i=((a,l)=>lp(a).editor.getContent(l))(n,s);return B_(n,i,s)})})(this,e)}insertContent(e,n){n&&(e=kE({content:e},n)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){e===void 0?cp(this,this.startContent,{format:"raw"}):cp(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const n=!this.isNotDirty;this.isNotDirty=!e,e&&e!==n&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||ya.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=ya.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const n=e.iframeElement;n&&(e.contentWindow=n.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const n=e.getWin();n&&(e.contentDocument=n.document)}return e.contentDocument}getBody(){var e,n;const o=this.getDoc();return(n=(e=this.bodyElement)!==null&&e!==void 0?e:o?.body)!==null&&n!==void 0?n:null}convertURL(e,n,o){const r=this,s=r.options.get,i=xS(r);if(be(i))return i.call(r,e,o,!0,n);if(!s("convert_urls")||o==="link"||Xt(o)&&o.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0)return e;const a=new Fr(e);return a.protocol!=="http"&&a.protocol!=="https"&&a.protocol!==""?e:s("relative_urls")?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,s("remove_script_host"))}addVisual(e){((n,o)=>{((r,s)=>{vn(r).editor.addVisual(s)})(n,o)})(this,e)}setEditableRoot(e){((n,o)=>{n._editableRoot!==o&&(n._editableRoot=o,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),((r,s)=>{r.dispatch("EditableRootStateChange",{state:s})})(n,o))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){(e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),s=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&gt(s?.nextSibling)&&Md.remove(s.nextSibling),(i=>{i.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&r&&(i=>{Md.setStyle(i.id,"display",i.orgDisplay)})(e),(i=>{i.dispatch("detach")})(e),Md.remove(e.getContainer()),Id(n),Id(o),e.destroy()}})(this)}destroy(e){((n,o)=>{const{selection:r,dom:s}=n;n.destroyed||(o||n.removed?(o||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),Id(r),Id(s)),(i=>{const a=i.formElement;a&&(a._mceOldSubmit&&(a.submit=a._mceOldSubmit,delete a._mceOldSubmit),Md.unbind(a,"submit reset",i.formEventDelegate))})(n),(i=>{const a=i;a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.bodyElement=a.contentDocument=a.contentWindow=null,a.iframeElement=a.targetElm=null;const l=i.selection;if(l){const c=l.dom;a.selection=l.win=l.dom=c.doc=null}})(n),n.destroyed=!0):n.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const ml=Ie.DOM,wu=lt.each;let xu,SE=!1,So=[];const Eu=t=>{const e=t.type;wu(Ti.get(),n=>{switch(e){case"scroll":n.dispatch("ScrollWindow",t);break;case"resize":n.dispatch("ResizeWindow",t)}})},AE=t=>{if(t!==SE){const e=Ie.DOM;t?(e.bind(window,"resize",Eu),e.bind(window,"scroll",Eu)):(e.unbind(window,"resize",Eu),e.unbind(window,"scroll",Eu)),SE=t}},NE=t=>{const e=So;return So=Wt(So,n=>t!==n),Ti.activeEditor===t&&(Ti.activeEditor=So.length>0?So[0]:null),Ti.focusedEditor===t&&(Ti.focusedEditor=null),e.length!==So.length},OD=document.compatMode!=="CSS1Compat",Ti={...Th,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:os,activeEditor:null,focusedEditor:null,setup(){const t=this;let e="",n="",o=Fr.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)e=r.base||r.baseURL,n=r.suffix;else{const i=document.getElementsByTagName("script");for(let a=0;a<i.length;a++){const l=i[a].src||"";if(l==="")continue;const c=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){c.indexOf(".min")!==-1&&(n=".min"),e=l.substring(0,l.lastIndexOf("/"));break}}if(!e&&document.currentScript){const a=document.currentScript.src;a.indexOf(".min")!==-1&&(n=".min"),e=a.substring(0,a.lastIndexOf("/"))}}var s;t.baseURL=new Fr(o).toAbsolute(e),t.documentBaseURL=o,t.baseURI=new Fr(t.baseURL),t.suffix=n,(s=t).on("AddEditor",St(PA,s)),s.on("RemoveEditor",St(MA,s))},overrideDefaults(t){const e=t.base_url;e&&this._setBaseUrl(e);const n=t.suffix;n&&(this.suffix=n),this.defaultOptions=t;const o=t.plugin_base_urls;o!==void 0&&_e(o,(r,s)=>{ho.PluginManager.urls[s]=r})},init(t){const e=this;let n;const o=lt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let r=i=>{n=i};const s=()=>{let i=0;const a=[];let l;ml.unbind(window,"ready",s),(c=>{const u=t.onpageload;u&&u.apply(e,[])})(),l=to((c=>fe.browser.isIE()||fe.browser.isEdge()?($d("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):OD?($d("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Dt(c.selector)?ml.select(c.selector):gt(c.target)?[c.target]:[])(t)),lt.each(l,c=>{var u;(u=e.get(c.id))&&u.initialized&&!(u.getContainer()||u.getBody()).parentNode&&(NE(u),u.unbindAllNativeEvents(),u.destroy(!0),u.removed=!0)}),l=lt.grep(l,c=>!e.get(c.id)),l.length===0?r([]):wu(l,c=>{((u,f)=>u.inline&&f.tagName.toLowerCase()in o)(t,c)?$d("Could not initialize inline editor on invalid inline target element",c):((u,f,p)=>{const b=new Cu(u,f,e);a.push(b),b.on("init",()=>{++i===l.length&&r(a)}),b.targetElm=b.targetElm||p,b.render()})((u=>{let f=u.id;return f||(f=Ee(u,"name").filter(p=>!ml.get(p)).getOrThunk(ml.uniqueId),u.setAttribute("id",f)),f})(c),t,c)})};return ml.bind(window,"ready",s),new Promise(i=>{n?i(n):r=a=>{i(a)}})},get(t){return arguments.length===0?So.slice(0):Dt(t)?Ue(So,e=>e.id===t).getOr(null):x(t)&&So[t]?So[t]:null},add(t){const e=this,n=e.get(t.id);return n===t||(n===null&&So.push(t),AE(!0),e.activeEditor=t,e.dispatch("AddEditor",{editor:t}),xu||(xu=o=>{const r=e.dispatch("BeforeUnload");if(r.returnValue)return o.preventDefault(),o.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",xu))),t},createEditor(t,e){return this.add(new Cu(t,e,this))},remove(t){const e=this;let n;if(t){if(!Dt(t))return n=t,Qt(e.get(n.id))?null:(NE(n)&&e.dispatch("RemoveEditor",{editor:n}),So.length===0&&window.removeEventListener("beforeunload",xu),n.remove(),AE(So.length>0),n);wu(ml.select(t),o=>{n=e.get(o.id),n&&e.remove(n)})}else for(let o=So.length-1;o>=0;o--)e.remove(So[o])},execCommand(t,e,n){var o;const r=this,s=Xt(n)?(o=n.id)!==null&&o!==void 0?o:n.index:n;switch(t){case"mceAddEditor":if(!r.get(s)){const i=n.options;new Cu(s,i,r).render()}return!0;case"mceRemoveEditor":{const i=r.get(s);return i&&i.remove(),!0}case"mceToggleEditor":{const i=r.get(s);return i?(i.isHidden()?i.show():i.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(t,e,n)},triggerSave:()=>{wu(So,t=>{t.save()})},addI18n:(t,e)=>{os.add(t,e)},translate:t=>os.translate(t),setActive(t){const e=this.activeEditor;this.activeEditor!==t&&(e&&e.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new Fr(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Fr(this.baseURL)}};Ti.setup();const DD=(()=>{const t=Ks();return{FakeClipboardItem:e=>({items:e,types:Je(e),getType:n=>Ee(e,n).getOrUndefined()}),write:e=>{t.set(e)},read:()=>t.get().getOrUndefined(),clear:t.clear}})(),TE=Math.min,pl=Math.max,ku=Math.round,RE=(t,e,n)=>{let o=e.x,r=e.y;const s=t.w,i=t.h,a=e.w,l=e.h,c=(n||"").split("");return c[0]==="b"&&(r+=l),c[1]==="r"&&(o+=a),c[0]==="c"&&(r+=ku(l/2)),c[1]==="c"&&(o+=ku(a/2)),c[3]==="b"&&(r-=i),c[4]==="r"&&(o-=s),c[3]==="c"&&(r-=ku(i/2)),c[4]==="c"&&(o-=ku(s/2)),hl(o,r,s,i)},hl=(t,e,n,o)=>({x:t,y:e,w:n,h:o}),LD={inflate:(t,e,n)=>hl(t.x-e,t.y-n,t.w+2*e,t.h+2*n),relativePosition:RE,findBestRelativePosition:(t,e,n,o)=>{for(let r=0;r<o.length;r++){const s=RE(t,e,o[r]);if(s.x>=n.x&&s.x+s.w<=n.w+n.x&&s.y>=n.y&&s.y+s.h<=n.h+n.y)return o[r]}return null},intersect:(t,e)=>{const n=pl(t.x,e.x),o=pl(t.y,e.y),r=TE(t.x+t.w,e.x+e.w),s=TE(t.y+t.h,e.y+e.h);return r-n<0||s-o<0?null:hl(n,o,r-n,s-o)},clamp:(t,e,n)=>{let o=t.x,r=t.y,s=t.x+t.w,i=t.y+t.h;const a=e.x+e.w,l=e.y+e.h,c=pl(0,e.x-o),u=pl(0,e.y-r),f=pl(0,s-a),p=pl(0,i-l);return o+=c,r+=u,n&&(s+=c,i+=u,o-=f,r-=p),s-=f,i-=p,hl(o,r,s-o,i-r)},create:hl,fromClientRect:t=>hl(t.left,t.top,t.width,t.height)},BD=(()=>{const t={},e={},n={};return{load:(o,r)=>{const s=`Script at URL "${r}" failed to load`,i=`Script at URL "${r}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(t[o]!==void 0)return t[o];{const a=new Promise((l,c)=>{const u=((f,p,b=1e3)=>{let h=!1,y=null;const g=S=>(...N)=>{h||(h=!0,y!==null&&(clearTimeout(y),y=null),S.apply(null,N))},C=g(f),k=g(p);return{start:(...S)=>{h||y!==null||(y=setTimeout(()=>k.apply(null,S),b))},resolve:C,reject:k}})(l,c);e[o]=u.resolve,Ys.ScriptLoader.loadScript(r).then(()=>u.start(i),()=>u.reject(s))});return t[o]=a,a}},add:(o,r)=>{e[o]!==void 0&&(e[o](r),delete e[o]),t[o]=Promise.resolve(r),n[o]=r},has:o=>o in n,get:o=>n[o],unload:o=>{delete t[o],delete n[o]}}})();let Dc;try{const t="__storage_test__";Dc=window.localStorage,Dc.setItem(t,t),Dc.removeItem(t)}catch{Dc=(()=>{let e={},n=[];const o={getItem:r=>e[r]||null,setItem:(r,s)=>{n.push(r),e[r]=String(s)},key:r=>n[r],removeItem:r=>{n=n.filter(s=>s===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})()}const PD={geom:{Rect:LD},util:{Delay:vr,Tools:lt,VK:Ct,URI:Fr,EventDispatcher:Nh,Observable:Th,I18n:os,LocalStorage:Dc,ImageUploader:t=>{const e=lC(),n=dC(t,e);return{upload:(o,r=!0)=>n.upload(o,r?cC(t):void 0)}}},dom:{EventUtils:Xi,TreeWalker:ge,TextSeeker:Zi,DOMUtils:Ie,ScriptLoader:Ys,RangeUtils:la,Serializer:Z_,StyleSheetLoader:Vh,ControlSelection:Tv,BookmarkManager:Zl,Selection:Q_,Event:Xi.Event},html:{Styles:Vu,Entities:Yi,Node:go,Schema:gi,DomParser:nl,Writer:g0,Serializer:xi},Env:fe,AddOnManager:ho,Annotator:_v,Formatter:mC,UndoManager:hC,EditorCommands:hE,WindowManager:sC,NotificationManager:rC,EditorObservable:yE,Shortcuts:EE,Editor:Cu,FocusManager:Zv,EditorManager:Ti,DOM:Ie.DOM,ScriptLoader:Ys.ScriptLoader,PluginManager:rl,ThemeManager:ma,ModelManager:ol,IconManager:Fd,Resource:BD,FakeClipboard:DD,trim:lt.trim,isArray:lt.isArray,is:lt.is,toArray:lt.toArray,makeMap:lt.makeMap,each:lt.each,map:lt.map,grep:lt.grep,inArray:lt.inArray,extend:lt.extend,walk:lt.walk,resolve:lt.resolve,explode:lt.explode,_addCacheSuffix:lt._addCacheSuffix},OE=lt.extend(Ti,PD);(t=>{window.tinymce=t,window.tinyMCE=t})(OE),(t=>{if(typeof module=="object")try{module.exports=t}catch{}})(OE)}();
